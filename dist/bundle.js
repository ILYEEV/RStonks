/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/dist";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./js/app.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./js/app.js":
/*!*******************!*\
  !*** ./js/app.js ***!
  \*******************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _stock = __webpack_require__(/*! ./objects/stock */ \"./js/objects/stock.js\");\n\nvar _dom = __webpack_require__(/*! ./objects/dom */ \"./js/objects/dom.js\");\n\nvar _lightweightCharts = __webpack_require__(/*! lightweight-charts */ \"./node_modules/lightweight-charts/dist/lightweight-charts.esm.production.js\");\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar text = true;\n\nfunction zip(arr1, arr2) {\n    var out = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    arr1.map(function (val, idx) {\n        out[val] = arr2[idx];\n    });\n    return out;\n}\n\n// Display functions ///////////////////////////////////////////////////////////////////////////////////////\nfunction display_stock_info(stockId) {\n    loadDom(stockId);\n    displayChart(graphElem, stocksList.find(function (stock) {\n        return stock.id == stockId;\n    }));\n    currentStock = stockId;\n}\n\nfunction display_stock_list(stocks) {\n    stocks.forEach(function (stock) {\n        stock.display(stockListElem, display_stock_info);\n    });\n}\n\nfunction displayChart(parentElement, stock) {\n    parentElement.innerHTML = '';\n    var chart = (0, _lightweightCharts.createChart)(parentElement, {\n        width: parentElement.width,\n        height: parentElement.height,\n        timeScale: {\n            timeVisible: true,\n            secondsVisible: false\n        }\n    });\n    var lineSeries = chart.addLineSeries();\n    lineSeries.setData([{ time: '2016-07-18', value: 661.47 }, { time: '2016-07-25', value: 623.83 }, { time: '2016-08-01', value: 592.47 }, { time: '2016-08-08', value: 568.76 }, { time: '2016-08-15', value: 577.55 }, { time: '2016-08-22', value: 573.20 }, { time: '2016-08-29', value: 603.72 }, { time: '2016-09-05', value: 606.32 }, { time: '2016-09-12', value: 608.00 }, { time: '2016-09-19', value: 598.98 }, { time: '2016-09-26', value: 608.60 }, { time: '2016-10-03', value: 613.06 }, { time: '2016-10-10', value: 638.97 }, { time: '2016-10-17', value: 648.74 }, { time: '2016-10-24', value: 697.23 }, { time: '2016-10-31', value: 709.93 }, { time: '2016-11-07', value: 700.38 }, { time: '2016-11-14', value: 727.09 }, { time: '2016-11-21', value: 727.32 }, { time: '2016-11-28', value: 762.00 }, { time: '2016-12-05', value: 768.97 }, { time: '2016-12-12', value: 788.67 }, { time: '2016-12-19', value: 890.67 }, { time: '2016-12-26', value: 997.75 }, { time: '2017-01-02', value: 909.75 }, { time: '2017-01-09', value: 821.86 }, { time: '2017-01-16', value: 923.76 }, { time: '2017-01-23', value: 912.01 }, { time: '2017-01-30', value: 1011.07 }, { time: '2017-02-06', value: 1000.73 }, { time: '2017-02-13', value: 1051.80 }, { time: '2017-02-20', value: 1179.05 }, { time: '2017-02-27', value: 1273.00 }, { time: '2017-03-06', value: 1226.62 }, { time: '2017-03-13', value: 1017.97 }, { time: '2017-03-20', value: 960.00 }, { time: '2017-03-27', value: 1078.01 }, { time: '2017-04-03', value: 1206.20 }, { time: '2017-04-10', value: 1162.31 }, { time: '2017-04-17', value: 1241.99 }, { time: '2017-04-24', value: 1350.21 }, { time: '2017-05-01', value: 1554.01 }, { time: '2017-05-08', value: 1784.00 }, { time: '2017-05-15', value: 2017.55 }, { time: '2017-05-22', value: 2178.81 }, { time: '2017-05-29', value: 2530.27 }, { time: '2017-06-05', value: 2954.22 }, { time: '2017-06-12', value: 2516.98 }, { time: '2017-06-19', value: 2502.03 }, { time: '2017-06-26', value: 2504.37 }, { time: '2017-07-03', value: 2502.28 }, { time: '2017-07-10', value: 1917.63 }, { time: '2017-07-17', value: 2749.02 }, { time: '2017-07-24', value: 2742.37 }, { time: '2017-07-31', value: 3222.75 }, { time: '2017-08-07', value: 4053.87 }, { time: '2017-08-14', value: 4058.68 }, { time: '2017-08-21', value: 4337.68 }, { time: '2017-08-28', value: 4606.26 }, { time: '2017-09-04', value: 4226.22 }, { time: '2017-09-11', value: 3662.99 }, { time: '2017-09-18', value: 3664.22 }, { time: '2017-09-25', value: 4377.22 }, { time: '2017-10-02', value: 4597.98 }, { time: '2017-10-09', value: 5679.70 }, { time: '2017-10-16', value: 5969.00 }, { time: '2017-10-23', value: 6137.37 }, { time: '2017-10-30', value: 7372.72 }, { time: '2017-11-06', value: 5870.37 }, { time: '2017-11-13', value: 8016.58 }, { time: '2017-11-20', value: 9271.06 }, { time: '2017-11-27', value: 11250.00 }, { time: '2017-12-04', value: 14691.00 }, { time: '2017-12-11', value: 18953.00 }, { time: '2017-12-18', value: 14157.87 }, { time: '2017-12-25', value: 13880.00 }, { time: '2018-01-01', value: 16124.02 }, { time: '2018-01-08', value: 13647.99 }, { time: '2018-01-15', value: 11558.87 }, { time: '2018-01-22', value: 11685.58 }, { time: '2018-01-29', value: 8191.00 }, { time: '2018-02-05', value: 8067.00 }, { time: '2018-02-12', value: 10421.06 }, { time: '2018-02-19', value: 9590.04 }, { time: '2018-02-26', value: 11463.27 }, { time: '2018-03-05', value: 9535.04 }, { time: '2018-03-12', value: 8188.24 }, { time: '2018-03-19', value: 8453.90 }, { time: '2018-03-26', value: 6813.52 }, { time: '2018-04-02', value: 7027.26 }, { time: '2018-04-09', value: 8354.22 }, { time: '2018-04-16', value: 8789.96 }, { time: '2018-04-23', value: 9393.99 }, { time: '2018-04-30', value: 9623.54 }, { time: '2018-05-07', value: 8696.58 }, { time: '2018-05-14', value: 8518.48 }, { time: '2018-05-21', value: 7347.39 }, { time: '2018-05-28', value: 7703.67 }, { time: '2018-06-04', value: 6781.17 }, { time: '2018-06-11', value: 6453.41 }, { time: '2018-06-18', value: 6153.40 }, { time: '2018-06-25', value: 6349.99 }, { time: '2018-07-02', value: 6706.60 }, { time: '2018-07-09', value: 6349.30 }, { time: '2018-07-16', value: 7396.60 }, { time: '2018-07-23', value: 8216.74 }, { time: '2018-07-30', value: 7032.61 }, { time: '2018-08-06', value: 6310.82 }, { time: '2018-08-13', value: 6481.99 }, { time: '2018-08-20', value: 6700.46 }, { time: '2018-08-27', value: 7290.31 }, { time: '2018-09-03', value: 6236.04 }, { time: '2018-09-10', value: 6499.98 }, { time: '2018-09-17', value: 6702.22 }, { time: '2018-09-24', value: 6597.81 }, { time: '2018-10-01', value: 6577.63 }, { time: '2018-10-08', value: 6183.00 }, { time: '2018-10-15', value: 6413.38 }, { time: '2018-10-22', value: 6405.57 }, { time: '2018-10-29', value: 6421.76 }, { time: '2018-11-05', value: 6357.54 }, { time: '2018-11-12', value: 5559.26 }, { time: '2018-11-19', value: 3938.89 }, { time: '2018-11-26', value: 4102.05 }, { time: '2018-12-03', value: 3529.75 }, { time: '2018-12-10', value: 3193.78 }, { time: '2018-12-17', value: 3943.83 }, { time: '2018-12-24', value: 3835.79 }, { time: '2018-12-31', value: 4040.71 }, { time: '2019-01-07', value: 3515.95 }, { time: '2019-01-14', value: 3536.72 }, { time: '2019-01-21', value: 3533.23 }, { time: '2019-01-28', value: 3414.82 }, { time: '2019-02-04', value: 3650.37 }, { time: '2019-02-11', value: 3625.60 }, { time: '2019-02-18', value: 3730.68 }, { time: '2019-02-25', value: 3789.52 }, { time: '2019-03-04', value: 3897.92 }, { time: '2019-03-11', value: 3965.50 }, { time: '2019-03-18', value: 3969.99 }, { time: '2019-03-25', value: 4096.08 }, { time: '2019-04-01', value: 5190.85 }, { time: '2019-04-08', value: 5162.72 }, { time: '2019-04-15', value: 5295.65 }, { time: '2019-04-22', value: 5160.98 }, { time: '2019-04-29', value: 5709.32 }, { time: '2019-05-06', value: 6974.35 }, { time: '2019-05-13', value: 8200.00 }, { time: '2019-05-20', value: 8733.26 }, { time: '2019-05-27', value: 8702.43 }]);\n}\n\nfunction loadDom(stockId) {\n    var stockPositions = allPositions.filter(function (position) {\n        return position.project === stockId;\n    });\n    if (stockPositions) {\n        var thisStock = stocksList.find(function (stock) {\n            return stock.id = stockId;\n        });\n        var tradingPrices = [].concat(_toConsumableArray(new Set(stockPositions.map(function (position) {\n            return position.price;\n        }))));\n        var tradingVolumes = tradingPrices.map(function (price) {\n            return stockPositions.filter(function (position) {\n                return position.price === price;\n            });\n        }).map(function (asdf) {\n            return asdf[0].number;\n        });\n        stockPositions.forEach(function (position) {\n            return position.dom = new _dom.Dom(zip(tradingPrices, tradingVolumes));\n        });\n        var fullDom = new (Function.prototype.bind.apply(_dom.Dom, [null].concat(_toConsumableArray(new Set(stockPositions.map(function (position) {\n            return position.dom.positions;\n        }))))))();\n        fullDom.display(upperDomListElem, lowerDomListElem, 8702);\n        console.log(Math.round(thisStock.prices[thisStock.prices.length - 1].value));\n        //domStockPrice.innerText = Math.round(thisStock.prices[thisStock.prices.length-1].value);\n        domStockPrice.innerText = 8702.43;\n    }\n}\n\n// HTTP API functions /////////////////////////////////////////////////////////////////////////////////\nfunction getAndDisplayStocksList() {\n    var http = new XMLHttpRequest();\n    var jsonStocksList = void 0;\n    http.open(\"GET\", getStonksUrl);\n    http.onreadystatechange = function (e) {\n        if (http.readyState == 4) {\n            jsonStocksList = JSON.parse(http.responseText);\n            stocksList = jsonStocksList.map(function (stockJson) {\n                return new _stock.Stock(stockJson.id, stockJson.name, stockJson.prices);\n            });\n            currentStock = stocksList[0].id;\n            display_stock_list(stocksList);\n        }\n    };\n    http.send();\n}\n\nfunction getAllPositions() {\n    var http = new XMLHttpRequest();\n    var jsonPositionsList = void 0;\n    http.open(\"GET\", getPositionsUrl);\n    http.onreadystatechange = function (e) {\n        if (http.readyState == 4) {\n            jsonPositionsList = JSON.parse(http.responseText);\n            allPositions = jsonPositionsList;\n            display_stock_info(currentStock);\n        }\n    };\n    http.send();\n}\n\n// Button functions ///////////////////////////////////////////////////////////////////////////////////////\nfunction sendBuyPosition() {\n    if (priceInput.value > 0.1 & volumeInput.value > 0) {\n        var http = new XMLHttpRequest();\n        var response = void 0;\n        http.open(\"POST\", sendTradeUrl);\n        http.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\n        http.onreadystatechange = function (e) {\n            if (http.readyState == 4) {\n                response = http.responseText;\n            }\n        };\n        http.send('stockName=' + currentStock + '&price=' + priceInput.value + '&volume=' + volumeInput.value + '&user=' + userHiddenInputElem.name);\n    }\n}\n\nfunction sendSellPosition() {\n    if (priceInput.value > 0.1 & volumeInput.value > 0) {\n        var http = new XMLHttpRequest();\n        var response = void 0;\n        http.open(\"POST\", sendTradeUrl);\n        http.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\n        http.onreadystatechange = function (e) {\n            if (http.readyState == 4) {\n                response = http.responseText;\n            }\n        };\n        http.send('stockName=' + currentStock + '&price=' + priceInput.value + '&volume=' + -volumeInput.value + '&user=' + userHiddenInputElem.name);\n    }\n}\n\nfunction displayOpenTrades(parentElement) {\n    tradesDivElem.innerHTML = '';\n    var elem = document.createElement('li');\n    elem.innerText = \"Buy 0.1 500\";\n    parentElement.appendChild(elem);\n}\n\nfunction displayPendingTrades(parentElement) {\n    tradesDivElem.innerHTML = '';\n    var elem = document.createElement('li');\n    elem.innerText = \"Buy 0.1 100\";\n    parentElement.appendChild(elem);\n}\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//Spaghetti code, im sorry... (Should've used ReactJS, lulw)\n\nvar stockListElem = document.getElementById('stock_list');\nvar upperDomListElem = document.getElementById('upper_dom');\nvar lowerDomListElem = document.getElementById('lower_dom');\nvar domStockPrice = document.getElementById('domStockPrice');\nvar graphElem = document.getElementById('price_graph');\nvar priceInput = document.getElementById(\"priceInput\");\nvar volumeInput = document.getElementById(\"volumeInput\");\nvar buyButtonElem = document.getElementById('buyButton');\nbuyButtonElem.onclick = function () {\n    return sendBuyPosition();\n};\nvar sellButtonElem = document.getElementById('sellButton');\nsellButtonElem.onclick = function () {\n    return sendSellPosition();\n};\nvar tradesDivElem = document.getElementById(\"tradesDiv\");\nvar openTradesButtonElem = document.getElementById(\"openTradesButton\");\nopenTradesButtonElem.onclick = function () {\n    return displayOpenTrades(tradesDivElem);\n};\nvar pendingTradesBUttonElem = document.getElementById(\"pendingTradesButton\");\npendingTradesBUttonElem.onclick = function () {\n    return displayPendingTrades(tradesDivElem);\n};\nvar userHiddenInputElem = document.getElementById(\"userHiddenInput\");\n\nvar stocksList = void 0;\nvar getStonksUrl = \"./api/open/prices_history\";\nvar getPositionsUrl = \"./api/open/price_request\";\nvar sendTradeUrl = 'api/open/trade';\nvar currentStock = void 0;\nvar allPositions = void 0;\n\ngetAndDisplayStocksList();\ngetAllPositions();\n\n//# sourceURL=webpack:///./js/app.js?");

/***/ }),

/***/ "./js/objects/dom.js":
/*!***************************!*\
  !*** ./js/objects/dom.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Dom = exports.Dom = function () {\n    function Dom(allPositions) {\n        _classCallCheck(this, Dom);\n\n        this.positions = allPositions;\n    }\n\n    _createClass(Dom, [{\n        key: \"display\",\n        value: function display(upperParentElement, lowerParentElement, currentPrice) {\n            var _this = this;\n\n            //split data into 2 lists\n            this.upperPositions = Object.keys(this.positions).filter(function (position) {\n                return parseFloat(position) > currentPrice;\n            });\n            this.lowerPositions = Object.keys(this.positions).filter(function (position) {\n                return parseFloat(position) < currentPrice;\n            });\n            this.upperPositions = this.upperPositions.sort(function (a, b) {\n                return a - b;\n            }).slice(0, 10);\n            this.lowerPositions = this.lowerPositions.sort(function (a, b) {\n                return b - a;\n            }).slice(0, 10);\n            upperParentElement.innerHTML = \"\";\n            lowerParentElement.innerHTML = \"\";\n\n            if (this.upperPositions.length) {\n                this.upperPositions.forEach(function (position) {\n                    //create a span, add 2 text rags\n                    var span = document.createElement('div');\n                    span.className = \"hor-div\";\n                    var price = document.createElement('p');\n\n                    price.className = \"better-item dom-item text-center\";\n                    price.innerText = \"\" + position;\n\n                    var volume = document.createElement('p');\n                    volume.className = \"better-item dom-item text-center\";\n                    volume.innerText = \"\" + _this.positions[position];\n\n                    //append the elements\n                    span.appendChild(price);\n                    span.appendChild(volume);\n                    upperParentElement.appendChild(span);\n                });\n            }\n\n            if (this.lowerPositions.length) {\n                this.lowerPositions.forEach(function (position) {\n                    //create a span, add 2 text rags\n                    var span = document.createElement('div');\n                    span.className = \"hor-div\";\n                    var price = document.createElement('p');\n\n                    price.className = \"better-item dom-item\";\n                    price.innerText = \"\" + position;\n\n                    var volume = document.createElement('p');\n                    volume.className = \"better-item dom-item\";\n                    volume.innerText = \"\" + _this.positions[position];\n\n                    //append the elements\n                    span.appendChild(price);\n                    span.appendChild(volume);\n                    lowerParentElement.appendChild(span);\n                });\n            }\n        }\n    }]);\n\n    return Dom;\n}();\n\n//# sourceURL=webpack:///./js/objects/dom.js?");

/***/ }),

/***/ "./js/objects/stock.js":
/*!*****************************!*\
  !*** ./js/objects/stock.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Stock = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dom = __webpack_require__(/*! ./dom */ \"./js/objects/dom.js\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Stock = exports.Stock = function () {\n    function Stock(id, name, prices, dom) {\n        _classCallCheck(this, Stock);\n\n        this.id = id;\n        this.name = name;\n        this.prices = prices;\n        this.dom = dom;\n    }\n\n    _createClass(Stock, [{\n        key: 'display',\n        value: function display(parentElement, clickFunc) {\n            var _this = this;\n\n            var elem = document.createElement('button');\n            elem.className = \"better-item\";\n            elem.innerText = this.name;\n            parentElement.appendChild(elem);\n            elem.onclick = function () {\n                return clickFunc(_this.id);\n            };\n        }\n    }]);\n\n    return Stock;\n}();\n\n//# sourceURL=webpack:///./js/objects/stock.js?");

/***/ }),

/***/ "./node_modules/fancy-canvas/coordinate-space.js":
/*!*******************************************************!*\
  !*** ./node_modules/fancy-canvas/coordinate-space.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.bindToDevicePixelRatio = bindToDevicePixelRatio;\nvar defaultBindingOptions = {\n    allowDownsampling: true\n};\nfunction bindToDevicePixelRatio(canvas, options) {\n    if (options === void 0) {\n        options = defaultBindingOptions;\n    }\n    return new DevicePixelRatioBinding(canvas, options);\n}\nvar DevicePixelRatioBinding = /** @class */function () {\n    function DevicePixelRatioBinding(canvas, options) {\n        var _this = this;\n        this._resolutionMediaQueryList = null;\n        this._resolutionListener = function (ev) {\n            return _this._onResolutionChanged();\n        };\n        this._canvasConfiguredListeners = [];\n        this.canvas = canvas;\n        this._canvasSize = {\n            width: this.canvas.clientWidth,\n            height: this.canvas.clientHeight\n        };\n        this._options = options;\n        this._configureCanvas();\n        this._installResolutionListener();\n    }\n    DevicePixelRatioBinding.prototype.destroy = function () {\n        this._canvasConfiguredListeners.length = 0;\n        this._uninstallResolutionListener();\n        this.canvas = null;\n    };\n    Object.defineProperty(DevicePixelRatioBinding.prototype, \"canvasSize\", {\n        get: function get() {\n            return {\n                width: this._canvasSize.width,\n                height: this._canvasSize.height\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DevicePixelRatioBinding.prototype.resizeCanvas = function (size) {\n        this._canvasSize = {\n            width: size.width,\n            height: size.height\n        };\n        this._configureCanvas();\n    };\n    Object.defineProperty(DevicePixelRatioBinding.prototype, \"pixelRatio\", {\n        get: function get() {\n            // According to DOM Level 2 Core specification, ownerDocument should never be null for HTMLCanvasElement\n            // see https://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#node-ownerDoc\n            var win = this.canvas.ownerDocument.defaultView;\n            if (win == null) {\n                throw new Error('No window is associated with the canvas');\n            }\n            return win.devicePixelRatio > 1 || this._options.allowDownsampling ? win.devicePixelRatio : 1;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DevicePixelRatioBinding.prototype.subscribeCanvasConfigured = function (listener) {\n        this._canvasConfiguredListeners.push(listener);\n    };\n    DevicePixelRatioBinding.prototype.unsubscribeCanvasConfigured = function (listener) {\n        this._canvasConfiguredListeners = this._canvasConfiguredListeners.filter(function (l) {\n            return l != listener;\n        });\n    };\n    DevicePixelRatioBinding.prototype._configureCanvas = function () {\n        var ratio = this.pixelRatio;\n        this.canvas.style.width = this._canvasSize.width + \"px\";\n        this.canvas.style.height = this._canvasSize.height + \"px\";\n        this.canvas.width = this._canvasSize.width * ratio;\n        this.canvas.height = this._canvasSize.height * ratio;\n        this._emitCanvasConfigured();\n    };\n    DevicePixelRatioBinding.prototype._emitCanvasConfigured = function () {\n        var _this = this;\n        this._canvasConfiguredListeners.forEach(function (listener) {\n            return listener.call(_this);\n        });\n    };\n    DevicePixelRatioBinding.prototype._installResolutionListener = function () {\n        if (this._resolutionMediaQueryList !== null) {\n            throw new Error('Resolution listener is already installed');\n        }\n        // According to DOM Level 2 Core specification, ownerDocument should never be null for HTMLCanvasElement\n        // see https://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#node-ownerDoc\n        var win = this.canvas.ownerDocument.defaultView;\n        if (win == null) {\n            throw new Error('No window is associated with the canvas');\n        }\n        var dppx = win.devicePixelRatio;\n        this._resolutionMediaQueryList = win.matchMedia(\"all and (resolution: \" + dppx + \"dppx)\");\n        // IE and some versions of Edge do not support addEventListener/removeEventListener, and we are going to use the deprecated addListener/removeListener\n        this._resolutionMediaQueryList.addListener(this._resolutionListener);\n    };\n    DevicePixelRatioBinding.prototype._uninstallResolutionListener = function () {\n        if (this._resolutionMediaQueryList !== null) {\n            // IE and some versions of Edge do not support addEventListener/removeEventListener, and we are going to use the deprecated addListener/removeListener\n            this._resolutionMediaQueryList.removeListener(this._resolutionListener);\n            this._resolutionMediaQueryList = null;\n        }\n    };\n    DevicePixelRatioBinding.prototype._reinstallResolutionListener = function () {\n        this._uninstallResolutionListener();\n        this._installResolutionListener();\n    };\n    DevicePixelRatioBinding.prototype._onResolutionChanged = function () {\n        this._configureCanvas();\n        this._reinstallResolutionListener();\n    };\n    return DevicePixelRatioBinding;\n}();\n\n//# sourceURL=webpack:///./node_modules/fancy-canvas/coordinate-space.js?");

/***/ }),

/***/ "./node_modules/lightweight-charts/dist/lightweight-charts.esm.production.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/lightweight-charts/dist/lightweight-charts.esm.production.js ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.version = exports.isUTCTimestamp = exports.isBusinessDay = exports.createChart = exports.TickMarkType = exports.PriceScaleMode = exports.PriceLineSource = exports.LineType = exports.LineStyle = exports.CrosshairMode = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; /*!\n                                                                                                                                                                                                                                                                               * @license\n                                                                                                                                                                                                                                                                               * TradingView Lightweight Charts v3.1.5\n                                                                                                                                                                                                                                                                               * Copyright (c) 2020 TradingView, Inc.\n                                                                                                                                                                                                                                                                               * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                               */\n\n\nvar _coordinateSpace = __webpack_require__(/*! fancy-canvas/coordinate-space */ \"./node_modules/fancy-canvas/coordinate-space.js\");\n\nvar i, n;function h(t, i) {\n  var n,\n      h = ((n = {})[0] = [], n[1] = [t.lineWidth, t.lineWidth], n[2] = [2 * t.lineWidth, 2 * t.lineWidth], n[3] = [6 * t.lineWidth, 6 * t.lineWidth], n[4] = [t.lineWidth, 4 * t.lineWidth], n)[i];t.setLineDash(h);\n}function s(t, i, n, h) {\n  t.beginPath();var s = t.lineWidth % 2 ? .5 : 0;t.moveTo(n, i + s), t.lineTo(h, i + s), t.stroke();\n}!function (t) {\n  t[t.Simple = 0] = \"Simple\", t[t.WithSteps = 1] = \"WithSteps\";\n}(i || (exports.LineType = i = {})), function (t) {\n  t[t.Solid = 0] = \"Solid\", t[t.Dotted = 1] = \"Dotted\", t[t.Dashed = 2] = \"Dashed\", t[t.LargeDashed = 3] = \"LargeDashed\", t[t.SparseDotted = 4] = \"SparseDotted\";\n}(n || (exports.LineStyle = n = {}));var _r = function r(t, i) {\n  return (_r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (t, i) {\n    t.__proto__ = i;\n  } || function (t, i) {\n    for (var n in i) {\n      i.hasOwnProperty(n) && (t[n] = i[n]);\n    }\n  })(t, i);\n};function e(t, i) {\n  function n() {\n    this.constructor = t;\n  }_r(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n());\n}var _u = function u() {\n  return (_u = Object.assign || function (t) {\n    for (var i, n = 1, h = arguments.length; n < h; n++) {\n      for (var s in i = arguments[n]) {\n        Object.prototype.hasOwnProperty.call(i, s) && (t[s] = i[s]);\n      }\n    }return t;\n  }).apply(this, arguments);\n};function a() {\n  for (var t = 0, i = 0, n = arguments.length; i < n; i++) {\n    t += arguments[i].length;\n  }var h = Array(t),\n      s = 0;for (i = 0; i < n; i++) {\n    for (var r = arguments[i], e = 0, u = r.length; e < u; e++, s++) {\n      h[s] = r[e];\n    }\n  }return h;\n}function o(t, i) {\n  if (!t) throw new Error(\"Assertion failed\" + (i ? \": \" + i : \"\"));\n}function l(t) {\n  if (void 0 === t) throw new Error(\"Value is undefined\");return t;\n}function f(t) {\n  if (null === t) throw new Error(\"Value is null\");return t;\n}function c(t) {\n  return f(l(t));\n}function v(t) {\n  for (var i = [], n = 1; n < arguments.length; n++) {\n    i[n - 1] = arguments[n];\n  }for (var h = 0, s = i; h < s.length; h++) {\n    var r = s[h];for (var e in r) {\n      void 0 !== r[e] && (\"object\" != _typeof(r[e]) || void 0 === t[e] ? t[e] = r[e] : v(t[e], r[e]));\n    }\n  }return t;\n}function _(t) {\n  return \"number\" == typeof t && isFinite(t);\n}function d(t) {\n  return \"number\" == typeof t && t % 1 == 0;\n}function w(t) {\n  return \"string\" == typeof t;\n}function M(t) {\n  return \"boolean\" == typeof t;\n}function b(t) {\n  var i,\n      n,\n      h,\n      s = t;if (!s || \"object\" != (typeof s === \"undefined\" ? \"undefined\" : _typeof(s))) return s;for (n in i = Array.isArray(s) ? [] : {}, s) {\n    s.hasOwnProperty(n) && (h = s[n], i[n] = h && \"object\" == (typeof h === \"undefined\" ? \"undefined\" : _typeof(h)) ? b(h) : h);\n  }return i;\n}function m(t) {\n  return null !== t;\n}function g(t) {\n  return null === t ? void 0 : t;\n}var p = function () {\n  function t() {\n    this.t = [];\n  }return t.prototype.i = function (t) {\n    this.t = t;\n  }, t.prototype.h = function (t, i, n, h) {\n    this.t.forEach(function (s) {\n      t.save(), s.h(t, i, n, h), t.restore();\n    });\n  }, t;\n}(),\n    y = function () {\n  function t() {}return t.prototype.h = function (t, i, n, h) {\n    t.save(), t.scale(i, i), this.s(t, n, h), t.restore();\n  }, t.prototype.u = function (t, i, n, h) {\n    t.save(), t.scale(i, i), this.o(t, n, h), t.restore();\n  }, t.prototype.o = function (t, i, n) {}, t;\n}(),\n    k = function (t) {\n  function i() {\n    var i = null !== t && t.apply(this, arguments) || this;return i.l = null, i;\n  }return e(i, t), i.prototype.v = function (t) {\n    this.l = t;\n  }, i.prototype.s = function (t) {\n    if (null !== this.l && null !== this.l._) {\n      var i = this.l._,\n          n = this.l,\n          h = function h(_h) {\n        t.beginPath();for (var s = i.to - 1; s >= i.from; --s) {\n          var r = n.M[s];t.moveTo(r.m, r.g), t.arc(r.m, r.g, _h, 0, 2 * Math.PI);\n        }t.fill();\n      };t.fillStyle = n.p, h(n.k + 2), t.fillStyle = n.N, h(n.k);\n    }\n  }, i;\n}(y);var x,\n    N,\n    S,\n    D = { from: 0, to: 1 },\n    C = function () {\n  function t(t, i) {\n    this.S = new p(), this.D = [], this.C = [], this.T = !0, this.A = t, this.L = i, this.S.i(this.D);\n  }return t.prototype.B = function (t) {\n    var i = this,\n        n = this.A.F();n.length !== this.D.length && (this.C = n.map(function () {\n      return { M: [{ m: 0, g: 0, V: 0, O: 0 }], N: \"\", p: i.A.P().layout.backgroundColor, k: 0, _: null };\n    }), this.D = this.C.map(function (t) {\n      var i = new k();return i.v(t), i;\n    }), this.S.i(this.D)), this.T = !0;\n  }, t.prototype.I = function (t, i, n) {\n    return this.T && (this.W(), this.T = !1), this.S;\n  }, t.prototype.W = function () {\n    var t = this,\n        i = this.A.F(),\n        n = this.L.R(),\n        h = this.A.j();i.forEach(function (i, s) {\n      var r = t.C[s],\n          e = i.U(n);if (null !== e) {\n        var u = f(i.q());r.N = i.K().Y(n).H, r.p = t.A.P().layout.backgroundColor, r.k = e.k, r.M[0].O = e.O, r.M[0].g = i.X().$(e.O, u.Z), r.M[0].V = n, r.M[0].m = h.J(n), r._ = D;\n      } else r._ = null;\n    });\n  }, t;\n}(),\n    T = function () {\n  function t(t) {\n    this.G = t;\n  }return t.prototype.h = function (t, i, n, r) {\n    if (null !== this.G) {\n      var e = this.G.it.tt,\n          u = this.G.nt.tt;if (e || u) {\n        t.save();var a = Math.round(this.G.m * i),\n            o = Math.round(this.G.g * i),\n            l = Math.ceil(this.G.ht * i),\n            f = Math.ceil(this.G.st * i);t.lineCap = \"butt\", e && a >= 0 && (t.lineWidth = Math.floor(this.G.it.rt * i), t.strokeStyle = this.G.it.et, t.fillStyle = this.G.it.et, h(t, this.G.it.ut), function (t, i, n, h) {\n          t.beginPath();var s = t.lineWidth % 2 ? .5 : 0;t.moveTo(i + s, n), t.lineTo(i + s, h), t.stroke();\n        }(t, a, 0, f)), u && o >= 0 && (t.lineWidth = Math.floor(this.G.nt.rt * i), t.strokeStyle = this.G.nt.et, t.fillStyle = this.G.nt.et, h(t, this.G.nt.ut), s(t, o, 0, l)), t.restore();\n      }\n    }\n  }, t;\n}(),\n    A = function () {\n  function t(t) {\n    this.T = !0, this.at = { it: { rt: 1, ut: 0, et: \"\", tt: !1 }, nt: { rt: 1, ut: 0, et: \"\", tt: !1 }, ht: 0, st: 0, m: 0, g: 0 }, this.ot = new T(this.at), this.lt = t;\n  }return t.prototype.B = function () {\n    this.T = !0;\n  }, t.prototype.I = function (t, i) {\n    return this.T && (this.W(), this.T = !1), this.ot;\n  }, t.prototype.W = function () {\n    var t = this.lt.tt(),\n        i = f(this.lt.ft()),\n        n = i.ct().P().crosshair,\n        h = this.at;h.nt.tt = t && this.lt.vt(i), h.it.tt = t && this.lt._t(), h.nt.rt = n.horzLine.width, h.nt.ut = n.horzLine.style, h.nt.et = n.horzLine.color, h.it.rt = n.vertLine.width, h.it.ut = n.vertLine.style, h.it.et = n.vertLine.color, h.ht = i.dt(), h.st = i.wt(), h.m = this.lt.Mt(), h.g = this.lt.bt();\n  }, t;\n}(),\n    E = { aliceblue: \"#f0f8ff\", antiquewhite: \"#faebd7\", aqua: \"#00ffff\", aquamarine: \"#7fffd4\", azure: \"#f0ffff\", beige: \"#f5f5dc\", bisque: \"#ffe4c4\", black: \"#000000\", blanchedalmond: \"#ffebcd\", blue: \"#0000ff\", blueviolet: \"#8a2be2\", brown: \"#a52a2a\", burlywood: \"#deb887\", cadetblue: \"#5f9ea0\", chartreuse: \"#7fff00\", chocolate: \"#d2691e\", coral: \"#ff7f50\", cornflowerblue: \"#6495ed\", cornsilk: \"#fff8dc\", crimson: \"#dc143c\", cyan: \"#00ffff\", darkblue: \"#00008b\", darkcyan: \"#008b8b\", darkgoldenrod: \"#b8860b\", darkgray: \"#a9a9a9\", darkgreen: \"#006400\", darkkhaki: \"#bdb76b\", darkmagenta: \"#8b008b\", darkolivegreen: \"#556b2f\", darkorange: \"#ff8c00\", darkorchid: \"#9932cc\", darkred: \"#8b0000\", darksalmon: \"#e9967a\", darkseagreen: \"#8fbc8f\", darkslateblue: \"#483d8b\", darkslategray: \"#2f4f4f\", darkturquoise: \"#00ced1\", darkviolet: \"#9400d3\", deeppink: \"#ff1493\", deepskyblue: \"#00bfff\", dimgray: \"#696969\", dodgerblue: \"#1e90ff\", feldspar: \"#d19275\", firebrick: \"#b22222\", floralwhite: \"#fffaf0\", forestgreen: \"#228b22\", fuchsia: \"#ff00ff\", gainsboro: \"#dcdcdc\", ghostwhite: \"#f8f8ff\", gold: \"#ffd700\", goldenrod: \"#daa520\", gray: \"#808080\", green: \"#008000\", greenyellow: \"#adff2f\", honeydew: \"#f0fff0\", hotpink: \"#ff69b4\", indianred: \"#cd5c5c\", indigo: \"#4b0082\", ivory: \"#fffff0\", khaki: \"#f0e68c\", lavender: \"#e6e6fa\", lavenderblush: \"#fff0f5\", lawngreen: \"#7cfc00\", lemonchiffon: \"#fffacd\", lightblue: \"#add8e6\", lightcoral: \"#f08080\", lightcyan: \"#e0ffff\", lightgoldenrodyellow: \"#fafad2\", lightgreen: \"#90ee90\", lightgrey: \"#d3d3d3\", lightpink: \"#ffb6c1\", lightsalmon: \"#ffa07a\", lightseagreen: \"#20b2aa\", lightskyblue: \"#87cefa\", lightslateblue: \"#8470ff\", lightslategray: \"#778899\", lightsteelblue: \"#b0c4de\", lightyellow: \"#ffffe0\", lime: \"#00ff00\", limegreen: \"#32cd32\", linen: \"#faf0e6\", magenta: \"#ff00ff\", maroon: \"#800000\", mediumaquamarine: \"#66cdaa\", mediumblue: \"#0000cd\", mediumorchid: \"#ba55d3\", mediumpurple: \"#9370d8\", mediumseagreen: \"#3cb371\", mediumslateblue: \"#7b68ee\", mediumspringgreen: \"#00fa9a\", mediumturquoise: \"#48d1cc\", mediumvioletred: \"#c71585\", midnightblue: \"#191970\", mintcream: \"#f5fffa\", mistyrose: \"#ffe4e1\", moccasin: \"#ffe4b5\", navajowhite: \"#ffdead\", navy: \"#000080\", oldlace: \"#fdf5e6\", olive: \"#808000\", olivedrab: \"#6b8e23\", orange: \"#ffa500\", orangered: \"#ff4500\", orchid: \"#da70d6\", palegoldenrod: \"#eee8aa\", palegreen: \"#98fb98\", paleturquoise: \"#afeeee\", palevioletred: \"#d87093\", papayawhip: \"#ffefd5\", peachpuff: \"#ffdab9\", peru: \"#cd853f\", pink: \"#ffc0cb\", plum: \"#dda0dd\", powderblue: \"#b0e0e6\", purple: \"#800080\", red: \"#ff0000\", rosybrown: \"#bc8f8f\", royalblue: \"#4169e1\", saddlebrown: \"#8b4513\", salmon: \"#fa8072\", sandybrown: \"#f4a460\", seagreen: \"#2e8b57\", seashell: \"#fff5ee\", sienna: \"#a0522d\", silver: \"#c0c0c0\", skyblue: \"#87ceeb\", slateblue: \"#6a5acd\", slategray: \"#708090\", snow: \"#fffafa\", springgreen: \"#00ff7f\", steelblue: \"#4682b4\", tan: \"#d2b48c\", teal: \"#008080\", thistle: \"#d8bfd8\", tomato: \"#ff6347\", turquoise: \"#40e0d0\", violet: \"#ee82ee\", violetred: \"#d02090\", wheat: \"#f5deb3\", white: \"#ffffff\", whitesmoke: \"#f5f5f5\", yellow: \"#ffff00\", yellowgreen: \"#9acd32\" };function L(t) {\n  return function (t, i, n) {\n    return (h = i) <= 0 || h > 0 ? i < t ? t : i > n ? n : Math.round(i) : t;var h;\n  }(0, t, 255);\n}function B(t) {\n  if (\"transparent\" === (t = t.toLowerCase())) return [0, 0, 0];t in E && (t = E[t]);var i = function (t) {\n    var i = S.rgbaRe.exec(t) || S.rgbRe.exec(t);return null !== i ? S.parse(i) : null;\n  }(t);if (null !== i) return i;var n,\n      h,\n      s = (n = t, null !== (h = N.re.exec(n)) ? N.parse(h) : null);if (null !== s) return s;var r = function (t) {\n    var i = x.re.exec(t);return null !== i ? x.parse(i) : null;\n  }(t);if (null !== r) return r;throw new Error(\"Cannot parse color: \" + t);\n}function F(t) {\n  var i,\n      n = B(t);return { gt: \"rgb(\" + n[0] + \", \" + n[1] + \", \" + n[2] + \")\", pt: (i = n, .199 * i[0] + .687 * i[1] + .114 * i[2] > 160 ? \"black\" : \"white\") };\n}function V(t, i, n, h, s, r) {\n  t.fillRect(i, n, r, s), t.fillRect(i + r, n, h - 2 * r, r), t.fillRect(i + r, n + s - r, h - 2 * r, r), t.fillRect(i + h - r, n, r, s);\n}function z(t, i, n) {\n  t.save(), t.scale(i, i), n(), t.restore();\n}function O(t, i, n, h, s, r) {\n  t.save(), t.globalCompositeOperation = \"copy\", t.fillStyle = r, t.fillRect(i, n, h, s), t.restore();\n}!function (t) {\n  t.re = /^#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?$/, t.parse = function (t) {\n    return [L(parseInt(t[1] + t[1], 16)), L(parseInt(t[2] + t[2], 16)), L(parseInt(t[3] + t[3], 16))];\n  };\n}(x || (x = {})), function (t) {\n  t.re = /^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?$/, t.parse = function (t) {\n    return [L(parseInt(t[1], 16)), L(parseInt(t[2], 16)), L(parseInt(t[3], 16))];\n  };\n}(N || (N = {})), function (t) {\n  t.rgbRe = /^rgb\\(\\s*(-?\\d{1,10})\\s*,\\s*(-?\\d{1,10})\\s*,\\s*(-?\\d{1,10})\\s*\\)$/, t.rgbaRe = /^rgba\\(\\s*(-?\\d{1,10})\\s*,\\s*(-?\\d{1,10})\\s*,\\s*(-?\\d{1,10})\\s*,\\s*(-?[\\d]{0,10}(?:\\.\\d+)?)\\s*\\)$/, t.parse = function (t) {\n    return [L(parseInt(t[1], 10)), L(parseInt(t[2], 10)), L(parseInt(t[3], 10))];\n  };\n}(S || (S = {}));var P,\n    I = function () {\n  function t(t, i) {\n    this.v(t, i);\n  }return t.prototype.v = function (t, i) {\n    this.G = t, this.yt = i;\n  }, t.prototype.h = function (t, i, n, h, s, r) {\n    if (this.G.tt) {\n      t.font = i.kt;var e = this.G.xt || !this.G.Nt ? i.St : 0,\n          u = i.Dt,\n          a = i.Ct,\n          o = i.Tt,\n          l = i.At,\n          f = i.Et,\n          c = this.G.Lt,\n          v = Math.ceil(n.Bt(t, c)),\n          _ = i.Ft,\n          d = i.Vt + a + o,\n          w = Math.ceil(.5 * d),\n          M = u + v + l + f + e,\n          b = this.yt.zt;this.yt.Ot && (b = this.yt.Ot);var m,\n          g,\n          p = (b = Math.round(b)) - w,\n          y = p + d,\n          k = \"right\" === s,\n          x = k ? h : 0,\n          N = Math.ceil(h * r),\n          S = x;if (t.fillStyle = this.yt.gt, t.lineWidth = 1, t.lineCap = \"butt\", c) {\n        k ? (m = x - e, g = (S = x - M) + f) : (S = x + M, m = x + e, g = x + u + e + l);var D = Math.max(1, Math.floor(r)),\n            C = Math.max(1, Math.floor(u * r)),\n            T = k ? N : 0,\n            A = Math.round(p * r),\n            E = Math.round(S * r),\n            L = Math.round(b * r) - Math.floor(.5 * r),\n            B = L + D + (L - A),\n            F = Math.round(m * r);t.save(), t.beginPath(), t.moveTo(T, A), t.lineTo(E, A), t.lineTo(E, B), t.lineTo(T, B), t.fill(), t.fillStyle = this.G.Pt, t.fillRect(k ? N - C : 0, A, C, B - A), this.G.xt && (t.fillStyle = this.yt.et, t.fillRect(T, L, F - T, D)), t.textAlign = \"left\", t.fillStyle = this.yt.et, z(t, r, function () {\n          t.fillText(c, g, y - o - _);\n        }), t.restore();\n      }\n    }\n  }, t.prototype.wt = function (t, i) {\n    return this.G.tt ? t.Vt + t.Ct + t.Tt : 0;\n  }, t;\n}(),\n    W = function () {\n  function t(t) {\n    this.It = { zt: 0, et: \"#FFF\", gt: \"#000\" }, this.Wt = { Lt: \"\", tt: !1, xt: !0, Nt: !1, Pt: \"\" }, this.Rt = { Lt: \"\", tt: !1, xt: !1, Nt: !0, Pt: \"\" }, this.T = !0, this.jt = new (t || I)(this.Wt, this.It), this.Ut = new (t || I)(this.Rt, this.It);\n  }return t.prototype.Lt = function () {\n    return this.Wt.Lt;\n  }, t.prototype.zt = function () {\n    return this.qt(), this.It.zt;\n  }, t.prototype.B = function () {\n    this.T = !0;\n  }, t.prototype.wt = function (t, i) {\n    return void 0 === i && (i = !1), Math.max(this.jt.wt(t, i), this.Ut.wt(t, i));\n  }, t.prototype.Ht = function () {\n    return this.It.Ot || 0;\n  }, t.prototype.Yt = function (t) {\n    this.It.Ot = t;\n  }, t.prototype.Kt = function () {\n    return this.qt(), this.Wt.tt || this.Rt.tt;\n  }, t.prototype.$t = function () {\n    return this.qt(), this.Wt.tt;\n  }, t.prototype.I = function (t) {\n    return this.qt(), this.Wt.xt = this.Wt.xt && t.P().drawTicks, this.Rt.xt = this.Rt.xt && t.P().drawTicks, this.jt.v(this.Wt, this.It), this.Ut.v(this.Rt, this.It), this.jt;\n  }, t.prototype.Xt = function () {\n    return this.qt(), this.jt.v(this.Wt, this.It), this.Ut.v(this.Rt, this.It), this.Ut;\n  }, t.prototype.qt = function () {\n    this.T && (this.Wt.xt = !0, this.Rt.xt = !1, this.Zt(this.Wt, this.Rt, this.It));\n  }, t;\n}(),\n    R = function (t) {\n  function i(i, n, h) {\n    var s = t.call(this) || this;return s.lt = i, s.Jt = n, s.Gt = h, s;\n  }return e(i, t), i.prototype.Zt = function (t, i, n) {\n    t.tt = !1;var h = this.lt.P().horzLine;if (h.labelVisible) {\n      var s = this.Jt.q();if (this.lt.tt() && !this.Jt.Qt() && null !== s) {\n        var r = F(h.labelBackgroundColor);n.gt = r.gt, n.et = r.pt;var e = this.Gt(this.Jt);n.zt = e.zt, t.Lt = this.Jt.ti(e.O, s), t.tt = !0;\n      }\n    }\n  }, i;\n}(W),\n    j = /[1-9]/g,\n    U = function () {\n  function t() {\n    this.G = null;\n  }return t.prototype.v = function (t) {\n    this.G = t;\n  }, t.prototype.h = function (t, i, n) {\n    var h = this;if (null !== this.G && !1 !== this.G.tt && 0 !== this.G.Lt.length) {\n      t.font = i.kt;var s = Math.round(i.ii.Bt(t, this.G.Lt, j));if (!(s <= 0)) {\n        t.save();var r = i.ni,\n            e = s + 2 * r,\n            u = e / 2,\n            a = this.G.dt,\n            o = this.G.zt,\n            l = Math.floor(o - u) + .5;l < 0 ? (o += Math.abs(0 - l), l = Math.floor(o - u) + .5) : l + e > a && (o -= Math.abs(a - (l + e)), l = Math.floor(o - u) + .5);var c = l + e,\n            v = 0 + i.Dt + i.Ct + i.Vt + i.Tt;t.fillStyle = this.G.gt;var _ = Math.round(l * n),\n            d = Math.round(0 * n),\n            w = Math.round(c * n),\n            M = Math.round(v * n);t.fillRect(_, d, w - _, M - d);var b = Math.round(this.G.zt * n),\n            m = d,\n            g = Math.round((m + i.Dt + i.St) * n);t.fillStyle = this.G.et;var p = Math.max(1, Math.floor(n)),\n            y = Math.floor(.5 * n);t.fillRect(b - y, m, p, g - m);var k = v - i.Ft - i.Tt;t.textAlign = \"left\", t.fillStyle = this.G.et, z(t, n, function () {\n          t.fillText(f(h.G).Lt, l + r, k);\n        }), t.restore();\n      }\n    }\n  }, t;\n}(),\n    q = function () {\n  function t(t, i, n) {\n    this.T = !0, this.ot = new U(), this.at = { tt: !1, gt: \"#4c525e\", et: \"white\", Lt: \"\", dt: 0, zt: NaN }, this.L = t, this.hi = i, this.Gt = n;\n  }return t.prototype.B = function () {\n    this.T = !0;\n  }, t.prototype.I = function () {\n    return this.T && (this.W(), this.T = !1), this.ot.v(this.at), this.ot;\n  }, t.prototype.W = function () {\n    var t = this.at;t.tt = !1;var i = this.L.P().vertLine;if (i.labelVisible) {\n      var n = this.hi.j();if (!n.Qt()) {\n        var h = n.si(this.L.R());t.dt = n.dt();var s = this.Gt();if (s.V) {\n          t.zt = s.zt, t.Lt = n.ri(f(h)), t.tt = !0;var r = F(i.labelBackgroundColor);t.gt = r.gt, t.et = r.pt;\n        }\n      }\n    }\n  }, t;\n}(),\n    H = function () {\n  function t() {\n    this.ei = null, this.ui = 0;\n  }return t.prototype.ai = function () {\n    return this.ui;\n  }, t.prototype.oi = function (t) {\n    this.ui = t;\n  }, t.prototype.X = function () {\n    return this.ei;\n  }, t.prototype.li = function (t) {\n    this.ei = t;\n  }, t.prototype.fi = function (t, i) {\n    return [];\n  }, t.prototype.ci = function (t) {\n    return [];\n  }, t.prototype.vi = function () {\n    return [];\n  }, t;\n}();!function (t) {\n  t[t.Normal = 0] = \"Normal\", t[t.Magnet = 1] = \"Magnet\";\n}(P || (exports.CrosshairMode = P = {}));var Y = function (t) {\n  function i(i, n) {\n    var h = t.call(this) || this;h._i = null, h.di = NaN, h.wi = 0, h.Mi = !0, h.bi = new Map(), h.mi = !1, h.gi = NaN, h.pi = NaN, h.yi = NaN, h.ki = NaN, h.hi = i, h.xi = n, h.Ni = new C(i, h);var s, r;h.Si = (s = function s() {\n      return h.di;\n    }, r = function r() {\n      return h.pi;\n    }, function (t) {\n      var i = r(),\n          n = s();if (t === f(h._i).Di()) return { O: n, zt: i };var e = f(t.q());return { O: t.Ci(i, e), zt: i };\n    });var e = function (t, i) {\n      return function () {\n        return { V: h.hi.j().si(t()), zt: i() };\n      };\n    }(function () {\n      return h.wi;\n    }, function () {\n      return h.Mt();\n    });return h.Ti = new q(h, i, e), h.Ai = new A(h), h;\n  }return e(i, t), i.prototype.P = function () {\n    return this.xi;\n  }, i.prototype.Ei = function (t, i) {\n    this.yi = t, this.ki = i;\n  }, i.prototype.Li = function () {\n    this.yi = NaN, this.ki = NaN;\n  }, i.prototype.Bi = function () {\n    return this.yi;\n  }, i.prototype.Fi = function () {\n    return this.ki;\n  }, i.prototype.Vi = function (t, i, n) {\n    this.mi || (this.mi = !0), this.Mi = !0, this.zi(t, i, n);\n  }, i.prototype.R = function () {\n    return this.wi;\n  }, i.prototype.Mt = function () {\n    return this.gi;\n  }, i.prototype.bt = function () {\n    return this.pi;\n  }, i.prototype.tt = function () {\n    return this.Mi;\n  }, i.prototype.Oi = function () {\n    this.Mi = !1, this.Pi(), this.di = NaN, this.gi = NaN, this.pi = NaN, this._i = null, this.Li();\n  }, i.prototype.ci = function (t) {\n    return null !== this._i ? [this.Ai, this.Ni] : [];\n  }, i.prototype.vt = function (t) {\n    return t === this._i && this.xi.horzLine.visible;\n  }, i.prototype._t = function () {\n    return this.xi.vertLine.visible;\n  }, i.prototype.fi = function (t, i) {\n    this.Mi && this._i === t || this.bi.clear();var n = [];return this._i === t && n.push(this.Ii(this.bi, i, this.Si)), n;\n  }, i.prototype.vi = function () {\n    return this.Mi ? [this.Ti] : [];\n  }, i.prototype.ft = function () {\n    return this._i;\n  }, i.prototype.Wi = function () {\n    this.Ai.B(), this.bi.forEach(function (t) {\n      return t.B();\n    }), this.Ti.B(), this.Ni.B();\n  }, i.prototype.Ri = function (t) {\n    return t && !t.Di().Qt() ? t.Di() : null;\n  }, i.prototype.zi = function (t, i, n) {\n    this.ji(t, i, n) && this.Wi();\n  }, i.prototype.ji = function (t, i, n) {\n    var h = this.gi,\n        s = this.pi,\n        r = this.di,\n        e = this.wi,\n        u = this._i,\n        a = this.Ri(n);this.wi = t, this.gi = isNaN(t) ? NaN : this.hi.j().J(t), this._i = n;var o = null !== a ? a.q() : null;return null !== a && null !== o ? (this.di = i, this.pi = a.$(i, o)) : (this.di = NaN, this.pi = NaN), h !== this.gi || s !== this.pi || e !== this.wi || r !== this.di || u !== this._i;\n  }, i.prototype.Pi = function () {\n    var t = this.hi.F().map(function (t) {\n      return t.qi().Ui();\n    }).filter(m),\n        i = 0 === t.length ? null : Math.max.apply(Math, t);this.wi = null !== i ? i : NaN;\n  }, i.prototype.Ii = function (t, i, n) {\n    var h = t.get(i);return void 0 === h && (h = new R(this, i, n), t.set(i, h)), h;\n  }, i;\n}(H),\n    K = \".\",\n    $ = \"'\";function X(t, i) {\n  if (!_(t)) return \"n/a\";if (!d(i)) throw new TypeError(\"invalid length\");if (i < 0 || i > 16) throw new TypeError(\"invalid length\");if (0 === i) return t.toString();return (\"0000000000000000\" + t.toString()).slice(-i);\n}var Z = function () {\n  function t(t, i, n, h) {\n    if (i || (i = 1), _(t) && d(t) || (t = 100), t < 0) throw new TypeError(\"invalid base\");this.Jt = t, this.Hi = i, this.Yi = h, n && void 0 !== h && h > 0 && 2 !== h && 4 !== h && 8 !== h || (this.Ki = n, this.$i());\n  }return t.prototype.Xi = function (t) {\n    var i = t < 0 ? \"−\" : \"\";return t = Math.abs(t), this.Ki ? i + this.Zi(t) : i + this.Ji(t);\n  }, t.prototype.$i = function () {\n    if (this.Gi = 0, this.Jt > 0 && this.Hi > 0) {\n      var t = this.Jt;for (this.Ki && this.Yi && (t /= this.Yi); t > 1;) {\n        t /= 10, this.Gi++;\n      }\n    }\n  }, t.prototype.Ji = function (t) {\n    var i;i = this.Ki ? Math.pow(10, this.Gi || 0) : this.Jt / this.Hi;var n = Math.floor(t),\n        h = \"\",\n        s = void 0 !== this.Gi ? this.Gi : NaN;if (i > 1) {\n      var r = +(Math.round(t * i) - n * i).toFixed(this.Gi);r >= i && (r -= i, n += 1), h = K + X(+r.toFixed(this.Gi) * this.Hi, s);\n    } else n = Math.round(n * i) / i, s > 0 && (h = K + X(0, s));return n.toFixed(0) + h;\n  }, t.prototype.Zi = function (t) {\n    var i = this.Jt / this.Hi,\n        n = Math.floor(t),\n        h = Math.round(t * i) - n * i;if (h === i && (h = 0, n += 1), !this.Gi) throw new Error(\"_fractionalLength is not calculated\");var s = \"\";if (this.Yi) {\n      var r = h % this.Yi,\n          e = X(h = (h - r) / this.Yi, this.Gi),\n          u = 2 === this.Yi ? [\"0\", \"5\"][r] : 8 === this.Yi ? [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\"][r] : [\"0\", \"2\", \"5\", \"7\"][r];s = e + $ + u;\n    } else s = X(h * this.Hi, this.Gi);return n.toString() + $ + s;\n  }, t;\n}(),\n    J = function (t) {\n  function i(i) {\n    return void 0 === i && (i = 100), t.call(this, i) || this;\n  }return e(i, t), i.prototype.Xi = function (i) {\n    return t.prototype.Xi.call(this, i) + \"%\";\n  }, i;\n}(Z),\n    G = function () {\n  function t() {\n    this.Qi = [];\n  }return t.prototype.tn = function (t, i, n) {\n    var h = { in: t, nn: i, hn: !0 === n };this.Qi.push(h);\n  }, t.prototype.sn = function (t) {\n    var i = this.Qi.findIndex(function (i) {\n      return t === i.in;\n    });i > -1 && this.Qi.splice(i, 1);\n  }, t.prototype.rn = function (t) {\n    this.Qi = this.Qi.filter(function (i) {\n      return i.nn === t;\n    });\n  }, t.prototype.en = function (t, i) {\n    var n = a(this.Qi);this.Qi = this.Qi.filter(function (t) {\n      return !t.hn;\n    }), n.forEach(function (n) {\n      return n.in(t, i);\n    });\n  }, t.prototype.un = function () {\n    return this.Qi.length > 0;\n  }, t.prototype.an = function () {\n    this.Qi = [];\n  }, t;\n}(),\n    Q = function () {\n  function t(t, i) {\n    this.on = t, this.ln = i;\n  }return t.prototype.fn = function (t) {\n    return null !== t && this.on === t.on && this.ln === t.ln;\n  }, t.prototype.cn = function () {\n    return new t(this.on, this.ln);\n  }, t.prototype.vn = function () {\n    return this.on;\n  }, t.prototype._n = function () {\n    return this.ln;\n  }, t.prototype.dn = function () {\n    return this.ln - this.on;\n  }, t.prototype.Qt = function () {\n    return this.ln === this.on || Number.isNaN(this.ln) || Number.isNaN(this.on);\n  }, t.prototype.wn = function (i) {\n    return null === i ? this : new t(Math.min(this.vn(), i.vn()), Math.max(this._n(), i._n()));\n  }, t.prototype.Mn = function (t) {\n    if (_(t) && 0 !== this.ln - this.on) {\n      var i = .5 * (this.ln + this.on),\n          n = this.ln - i,\n          h = this.on - i;n *= t, h *= t, this.ln = i + n, this.on = i + h;\n    }\n  }, t.prototype.bn = function (t) {\n    _(t) && (this.ln += t, this.on += t);\n  }, t.prototype.mn = function () {\n    return { minValue: this.on, maxValue: this.ln };\n  }, t.gn = function (i) {\n    return null === i ? null : new t(i.minValue, i.maxValue);\n  }, t;\n}();function tt(t, i, n) {\n  return Math.min(Math.max(t, i), n);\n}function it(t, i, n) {\n  return i - t <= n;\n}function nt(t) {\n  return t <= 0 ? NaN : Math.log(t) / Math.log(10);\n}function ht(t) {\n  var i = Math.ceil(t);return i % 2 != 0 ? i - 1 : i;\n}function st(t) {\n  var i = Math.ceil(t);return i % 2 == 0 ? i - 1 : i;\n}function rt(t, i) {\n  var n = 100 * (t - i) / i;return i < 0 ? -n : n;\n}function et(t, i) {\n  var n = rt(t.vn(), i),\n      h = rt(t._n(), i);return new Q(n, h);\n}function ut(t, i) {\n  var n = 100 * (t - i) / i + 100;return i < 0 ? -n : n;\n}function at(t, i) {\n  var n = ut(t.vn(), i),\n      h = ut(t._n(), i);return new Q(n, h);\n}function ot(t) {\n  var i = Math.abs(t);if (i < 1e-8) return 0;var n = nt(i + 1e-4) + 4;return t < 0 ? -n : n;\n}function lt(t) {\n  var i = Math.abs(t);if (i < 1e-8) return 0;var n = Math.pow(10, i - 4) - 1e-4;return t < 0 ? -n : n;\n}function ft(t) {\n  if (null === t) return null;var i = ot(t.vn()),\n      n = ot(t._n());return new Q(i, n);\n}var ct,\n    vt = function () {\n  function t(t, i) {\n    if (this.pn = t, this.yn = i, function (t) {\n      if (t < 0) return !1;for (var i = t; i > 1; i /= 10) {\n        if (i % 10 != 0) return !1;\n      }return !0;\n    }(this.pn)) this.kn = [2, 2.5, 2];else {\n      this.kn = [];for (var n = this.pn; 1 !== n;) {\n        if (n % 2 == 0) this.kn.push(2), n /= 2;else {\n          if (n % 5 != 0) throw new Error(\"unexpected base\");this.kn.push(2), this.kn.push(2.5), n /= 5;\n        }if (this.kn.length > 100) throw new Error(\"something wrong with base\");\n      }\n    }\n  }return t.prototype.xn = function (t, i, n) {\n    for (var h, s, r, e = 0 === this.pn ? 0 : 1 / this.pn, u = Math.pow(10, Math.max(0, Math.ceil(nt(t - i)))), a = 0, o = this.yn[0];;) {\n      var l = it(u, e, 1e-9) && u > e + 1e-9,\n          f = it(u, n * o, 1e-9),\n          c = it(u, 1, 1e-9);if (!(l && f && c)) break;u /= o, o = this.yn[++a % this.yn.length];\n    }if (u <= e + 1e-9 && (u = e), u = Math.max(1, u), this.kn.length > 0 && (h = u, s = 1, r = 1e-9, Math.abs(h - s) < r)) for (a = 0, o = this.kn[0]; it(u, n * o, 1e-9) && u > e + 1e-9;) {\n      u /= o, o = this.kn[++a % this.kn.length];\n    }return u;\n  }, t;\n}(),\n    _t = function () {\n  function t(t, i, n, h) {\n    this.Nn = [], this.Jt = t, this.pn = i, this.Sn = n, this.Dn = h;\n  }return t.prototype.xn = function (t, i) {\n    if (t < i) throw new Error(\"high < low\");var n = this.Jt.wt(),\n        h = (t - i) * this.Cn() / n,\n        s = new vt(this.pn, [2, 2.5, 2]),\n        r = new vt(this.pn, [2, 2, 2.5]),\n        e = new vt(this.pn, [2.5, 2, 2]),\n        u = [];return u.push(s.xn(t, i, h)), u.push(r.xn(t, i, h)), u.push(e.xn(t, i, h)), function (t) {\n      if (t.length < 1) throw Error(\"array is empty\");for (var i = t[0], n = 1; n < t.length; ++n) {\n        t[n] < i && (i = t[n]);\n      }return i;\n    }(u);\n  }, t.prototype.Tn = function () {\n    var t = this.Jt,\n        i = t.q();if (null !== i) {\n      var n = t.wt(),\n          h = this.Sn(n - 1, i),\n          s = this.Sn(0, i),\n          r = this.Jt.P().entireTextOnly ? this.An() / 2 : 0,\n          e = r,\n          u = n - 1 - r,\n          a = Math.max(h, s),\n          o = Math.min(h, s);if (a !== o) {\n        for (var l = this.xn(a, o), f = a % l, c = a >= o ? 1 : -1, v = null, _ = 0, d = a - (f += f < 0 ? l : 0); d > o; d -= l) {\n          var w = this.Dn(d, i, !0);null !== v && Math.abs(w - v) < this.Cn() || w < e || w > u || (_ < this.Nn.length ? (this.Nn[_].En = w, this.Nn[_].Ln = t.Bn(d)) : this.Nn.push({ En: w, Ln: t.Bn(d) }), _++, v = w, t.Fn() && (l = this.xn(d * c, o)));\n        }this.Nn.length = _;\n      } else this.Nn = [];\n    } else this.Nn = [];\n  }, t.prototype.Vn = function () {\n    return this.Nn;\n  }, t.prototype.An = function () {\n    return this.Jt.Vt();\n  }, t.prototype.Cn = function () {\n    return Math.ceil(2.5 * this.An());\n  }, t;\n}();function dt(t) {\n  return t.slice().sort(function (t, i) {\n    return f(t.ai()) - f(i.ai());\n  });\n}!function (t) {\n  t[t.Normal = 0] = \"Normal\", t[t.Logarithmic = 1] = \"Logarithmic\", t[t.Percentage = 2] = \"Percentage\", t[t.IndexedTo100 = 3] = \"IndexedTo100\";\n}(ct || (exports.PriceScaleMode = ct = {}));var wt,\n    Mt = new J(),\n    bt = new Z(100, 1),\n    mt = function () {\n  function t(t, i, n, h) {\n    this.zn = 0, this.On = null, this.Pn = null, this.In = null, this.Wn = { Rn: !1, jn: null }, this.Un = 0, this.qn = 0, this.Hn = new G(), this.Yn = new G(), this.Kn = [], this.$n = null, this.Xn = null, this.Zn = null, this.Jn = null, this.Gn = bt, this.Qn = t, this.xi = i, this.th = n, this.ih = h, this.nh = new _t(this, 100, this.hh.bind(this), this.sh.bind(this));\n  }return t.prototype.rh = function () {\n    return this.Qn;\n  }, t.prototype.P = function () {\n    return this.xi;\n  }, t.prototype.eh = function (t) {\n    if (v(this.xi, t), this.uh(), void 0 !== t.mode && this.ah({ oh: t.mode }), void 0 !== t.scaleMargins) {\n      var i = l(t.scaleMargins.top),\n          n = l(t.scaleMargins.bottom);if (i < 0 || i > 1) throw new Error(\"Invalid top margin - expect value between 0 and 1, given=\" + i);if (n < 0 || n > 1 || i + n > 1) throw new Error(\"Invalid bottom margin - expect value between 0 and 1, given=\" + n);if (i + n > 1) throw new Error(\"Invalid margins - sum of margins must be less than 1, given=\" + (i + n));this.lh(), this.Xn = null;\n    }\n  }, t.prototype.fh = function () {\n    return this.xi.autoScale;\n  }, t.prototype.Fn = function () {\n    return 1 === this.xi.mode;\n  }, t.prototype.vh = function () {\n    return 2 === this.xi.mode;\n  }, t.prototype._h = function () {\n    return 3 === this.xi.mode;\n  }, t.prototype.oh = function () {\n    return { dh: this.xi.autoScale, wh: this.xi.invertScale, oh: this.xi.mode };\n  }, t.prototype.ah = function (t) {\n    var i = this.oh(),\n        n = null;void 0 !== t.dh && (this.xi.autoScale = t.dh), void 0 !== t.oh && (this.xi.mode = t.oh, 2 !== t.oh && 3 !== t.oh || (this.xi.autoScale = !0), this.Wn.Rn = !1), 1 === i.oh && t.oh !== i.oh && (!function (t) {\n      if (null === t) return !1;var i = lt(t.vn()),\n          n = lt(t._n());return isFinite(i) && isFinite(n);\n    }(this.Pn) ? this.xi.autoScale = !0 : null !== (n = function (t) {\n      if (null === t) return null;var i = lt(t.vn()),\n          n = lt(t._n());return new Q(i, n);\n    }(this.Pn)) && this.Mh(n)), 1 === t.oh && t.oh !== i.oh && null !== (n = ft(this.Pn)) && this.Mh(n);var h = i.oh !== this.xi.mode;h && (2 === i.oh || this.vh()) && this.uh(), h && (3 === i.oh || this._h()) && this.uh(), void 0 !== t.wh && i.wh !== t.wh && (this.xi.invertScale = t.wh, this.bh()), this.Yn.en(i, this.oh());\n  }, t.prototype.mh = function () {\n    return this.Yn;\n  }, t.prototype.Vt = function () {\n    return this.th.fontSize;\n  }, t.prototype.wt = function () {\n    return this.zn;\n  }, t.prototype.gh = function (t) {\n    this.zn !== t && (this.zn = t, this.lh(), this.Xn = null);\n  }, t.prototype.ph = function () {\n    if (this.On) return this.On;var t = this.wt() - this.yh() - this.kh();return this.On = t, t;\n  }, t.prototype.xh = function () {\n    return this.Nh(), this.Pn;\n  }, t.prototype.Mh = function (t, i) {\n    var n = this.Pn;(i || null === n && null !== t || null !== n && !n.fn(t)) && (this.Xn = null, this.Pn = t);\n  }, t.prototype.Qt = function () {\n    return this.Nh(), 0 === this.zn || !this.Pn || this.Pn.Qt();\n  }, t.prototype.Sh = function (t) {\n    return this.wh() ? t : this.wt() - 1 - t;\n  }, t.prototype.$ = function (t, i) {\n    return this.vh() ? t = rt(t, i) : this._h() && (t = ut(t, i)), this.sh(t, i);\n  }, t.prototype.Dh = function (t, i, n) {\n    this.Nh();for (var h = this.kh(), s = f(this.xh()), r = s.vn(), e = s._n(), u = this.ph() - 1, a = this.wh(), o = u / (e - r), l = void 0 === n ? 0 : n.from, c = void 0 === n ? t.length : n.to, v = this.Ch(), _ = l; _ < c; _++) {\n      var d = t[_],\n          w = d.O;if (!isNaN(w)) {\n        var M = w;null !== v && (M = v(d.O, i));var b = h + o * (M - r),\n            m = a ? b : this.zn - 1 - b;d.g = m;\n      }\n    }\n  }, t.prototype.Th = function (t, i, n) {\n    this.Nh();for (var h = this.kh(), s = f(this.xh()), r = s.vn(), e = s._n(), u = this.ph() - 1, a = this.wh(), o = u / (e - r), l = void 0 === n ? 0 : n.from, c = void 0 === n ? t.length : n.to, v = this.Ch(), _ = l; _ < c; _++) {\n      var d = t[_],\n          w = d.open,\n          M = d.high,\n          b = d.low,\n          m = d.close;null !== v && (w = v(d.open, i), M = v(d.high, i), b = v(d.low, i), m = v(d.close, i));var g = h + o * (w - r),\n          p = a ? g : this.zn - 1 - g;d.Ah = p, g = h + o * (M - r), p = a ? g : this.zn - 1 - g, d.Eh = p, g = h + o * (b - r), p = a ? g : this.zn - 1 - g, d.Lh = p, g = h + o * (m - r), p = a ? g : this.zn - 1 - g, d.Bh = p;\n    }\n  }, t.prototype.Ci = function (t, i) {\n    var n = this.hh(t, i);return this.Fh(n, i);\n  }, t.prototype.Fh = function (t, i) {\n    var n = t;return this.vh() ? n = function (t, i) {\n      return i < 0 && (t = -t), t / 100 * i + i;\n    }(n, i) : this._h() && (n = function (t, i) {\n      return t -= 100, i < 0 && (t = -t), t / 100 * i + i;\n    }(n, i)), n;\n  }, t.prototype.Vh = function () {\n    return this.Kn;\n  }, t.prototype.zh = function () {\n    if (this.$n) return this.$n;for (var t = [], i = 0; i < this.Kn.length; i++) {\n      var n = this.Kn[i];null === n.ai() && n.oi(i + 1), t.push(n);\n    }return t = dt(t), this.$n = t, this.$n;\n  }, t.prototype.Oh = function (t) {\n    -1 === this.Kn.indexOf(t) && (this.Kn.push(t), this.uh(), this.Ph());\n  }, t.prototype.Ih = function (t) {\n    var i = this.Kn.indexOf(t);if (-1 === i) throw new Error(\"source is not attached to scale\");this.Kn.splice(i, 1), this.Qt() && this.ah({ dh: !0 }), this.uh(), this.Ph();\n  }, t.prototype.q = function () {\n    for (var t = null, i = 0, n = this.Kn; i < n.length; i++) {\n      var h = n[i].q();null !== h && (null === t || h.Wh < t.Wh) && (t = h);\n    }return null === t ? null : t.Z;\n  }, t.prototype.wh = function () {\n    return this.xi.invertScale;\n  }, t.prototype.Vn = function () {\n    return this.Xn || (this.nh.Tn(), this.Xn = this.nh.Vn(), this.Hn.en()), this.Xn;\n  }, t.prototype.Rh = function () {\n    return this.Hn;\n  }, t.prototype.jh = function (t) {\n    this.vh() || this._h() || null === this.Zn && null === this.In && (this.Qt() || (this.Zn = this.zn - t, this.In = f(this.xh()).cn()));\n  }, t.prototype.Uh = function (t) {\n    if (!this.vh() && !this._h() && null !== this.Zn) {\n      this.ah({ dh: !1 }), (t = this.zn - t) < 0 && (t = 0);var i = (this.Zn + .2 * (this.zn - 1)) / (t + .2 * (this.zn - 1)),\n          n = f(this.In).cn();i = Math.max(i, .1), n.Mn(i), this.Mh(n);\n    }\n  }, t.prototype.qh = function () {\n    this.vh() || this._h() || (this.Zn = null, this.In = null);\n  }, t.prototype.Hh = function (t) {\n    this.fh() || null === this.Jn && null === this.In && (this.Qt() || (this.Jn = t, this.In = f(this.xh()).cn()));\n  }, t.prototype.Yh = function (t) {\n    if (!this.fh() && null !== this.Jn) {\n      var i = f(this.xh()).dn() / (this.ph() - 1),\n          n = t - this.Jn;this.wh() && (n *= -1);var h = n * i,\n          s = f(this.In).cn();s.bn(h), this.Mh(s, !0), this.Xn = null;\n    }\n  }, t.prototype.Kh = function () {\n    this.fh() || null !== this.Jn && (this.Jn = null, this.In = null);\n  }, t.prototype.$h = function () {\n    return this.Gn || this.uh(), this.Gn;\n  }, t.prototype.ti = function (t, i) {\n    switch (this.xi.mode) {case 2:\n        return this.$h().Xi(rt(t, i));case 3:\n        return this.$h().Xi(ut(t, i));default:\n        return this.Xh(t);}\n  }, t.prototype.Bn = function (t) {\n    switch (this.xi.mode) {case 2:case 3:\n        return this.$h().Xi(t);default:\n        return this.Xh(t);}\n  }, t.prototype.Zh = function (t) {\n    return this.Xh(t, f(this.Jh()).$h());\n  }, t.prototype.Gh = function (t, i) {\n    return t = rt(t, i), Mt.Xi(t);\n  }, t.prototype.Qh = function () {\n    return this.Kn;\n  }, t.prototype.ts = function (t) {\n    this.Wn = { jn: t, Rn: !1 };\n  }, t.prototype.Wi = function () {\n    this.Kn.forEach(function (t) {\n      return t.Wi();\n    });\n  }, t.prototype.uh = function () {\n    this.Xn = null;var t = this.Jh(),\n        i = 100;null !== t && (i = Math.round(1 / t.ns())), this.Gn = bt, this.vh() ? (this.Gn = Mt, i = 100) : this._h() ? (this.Gn = new Z(100, 1), i = 100) : null !== t && (this.Gn = t.$h()), this.nh = new _t(this, i, this.hh.bind(this), this.sh.bind(this)), this.nh.Tn();\n  }, t.prototype.Ph = function () {\n    this.$n = null;\n  }, t.prototype.Jh = function () {\n    return this.Kn[0] || null;\n  }, t.prototype.yh = function () {\n    return this.wh() ? this.xi.scaleMargins.bottom * this.wt() + this.qn : this.xi.scaleMargins.top * this.wt() + this.Un;\n  }, t.prototype.kh = function () {\n    return this.wh() ? this.xi.scaleMargins.top * this.wt() + this.Un : this.xi.scaleMargins.bottom * this.wt() + this.qn;\n  }, t.prototype.Nh = function () {\n    this.Wn.Rn || (this.Wn.Rn = !0, this.hs());\n  }, t.prototype.lh = function () {\n    this.On = null;\n  }, t.prototype.sh = function (t, i) {\n    if (this.Nh(), this.Qt()) return 0;t = this.Fn() && t ? ot(t) : t;var n = f(this.xh()),\n        h = this.kh() + (this.ph() - 1) * (t - n.vn()) / n.dn();return this.Sh(h);\n  }, t.prototype.hh = function (t, i) {\n    if (this.Nh(), this.Qt()) return 0;var n = this.Sh(t),\n        h = f(this.xh()),\n        s = h.vn() + h.dn() * ((n - this.kh()) / (this.ph() - 1));return this.Fn() ? lt(s) : s;\n  }, t.prototype.bh = function () {\n    this.Xn = null, this.nh.Tn();\n  }, t.prototype.hs = function () {\n    var t = this.Wn.jn;if (null !== t) {\n      for (var i = null, n = 0, h = 0, s = 0, r = this.Qh(); s < r.length; s++) {\n        var e = r[s],\n            u = e.q();if (null !== u) {\n          var a = e.ss(t.rs(), t.es()),\n              o = a && a.xh();if (null !== o) {\n            switch (this.xi.mode) {case 1:\n                o = ft(o);break;case 2:\n                o = et(o, u.Z);break;case 3:\n                o = at(o, u.Z);}if (i = null === i ? o : i.wn(f(o)), null !== a) {\n              var l = a.us();null !== l && (n = Math.max(n, l.above), h = Math.max(n, l.below));\n            }\n          }\n        }\n      }if (n === this.Un && h === this.qn || (this.Un = n, this.qn = h, this.Xn = null, this.lh()), null !== i) {\n        if (i.vn() === i._n()) {\n          var c = this.Jh(),\n              v = 5 * (null === c || this.vh() || this._h() ? 1 : c.ns());i = new Q(i.vn() - v, i._n() + v);\n        }this.Mh(i);\n      } else null === this.Pn && this.Mh(new Q(-.5, .5));this.Wn.Rn = !0;\n    }\n  }, t.prototype.Ch = function () {\n    return this.vh() ? rt : this._h() ? ut : this.Fn() ? ot : null;\n  }, t.prototype.Xh = function (t, i) {\n    return void 0 === this.ih.priceFormatter ? (void 0 === i && (i = this.$h()), i.Xi(t)) : this.ih.priceFormatter(t);\n  }, t;\n}();function gt(t) {\n  void 0 !== t.borderColor && (t.borderUpColor = t.borderColor, t.borderDownColor = t.borderColor), void 0 !== t.wickColor && (t.wickUpColor = t.wickColor, t.wickDownColor = t.wickColor);\n}!function (t) {\n  t[t.LastBar = 0] = \"LastBar\", t[t.LastVisible = 1] = \"LastVisible\";\n}(wt || (exports.PriceLineSource = wt = {}));var pt = function pt(t) {\n  return t.getUTCFullYear();\n};function yt(t, i, n) {\n  return i.replace(/yyyy/g, function (t) {\n    return X(pt(t), 4);\n  }(t)).replace(/yy/g, function (t) {\n    return X(pt(t) % 100, 2);\n  }(t)).replace(/MMMM/g, function (t, i) {\n    return new Date(t.getUTCFullYear(), t.getUTCMonth(), 1).toLocaleString(i, { month: \"long\" });\n  }(t, n)).replace(/MMM/g, function (t, i) {\n    return new Date(t.getUTCFullYear(), t.getUTCMonth(), 1).toLocaleString(i, { month: \"short\" });\n  }(t, n)).replace(/MM/g, function (t) {\n    return X(function (t) {\n      return t.getUTCMonth() + 1;\n    }(t), 2);\n  }(t)).replace(/dd/g, function (t) {\n    return X(function (t) {\n      return t.getUTCDate();\n    }(t), 2);\n  }(t));\n}var kt = function () {\n  function t(t, i) {\n    void 0 === t && (t = \"yyyy-MM-dd\"), void 0 === i && (i = \"default\"), this.as = t, this.os = i;\n  }return t.prototype.Xi = function (t) {\n    return yt(t, this.as, this.os);\n  }, t;\n}(),\n    xt = function () {\n  function t(t) {\n    this.ls = t || \"%h:%m:%s\";\n  }return t.prototype.Xi = function (t) {\n    return this.ls.replace(\"%h\", X(t.getUTCHours(), 2)).replace(\"%m\", X(t.getUTCMinutes(), 2)).replace(\"%s\", X(t.getUTCSeconds(), 2));\n  }, t;\n}(),\n    Nt = { fs: \"yyyy-MM-dd\", cs: \"%h:%m:%s\", vs: \" \", _s: \"default\" },\n    St = function () {\n  function t(t) {\n    void 0 === t && (t = {});var i = _u(_u({}, Nt), t);this.ds = new kt(i.fs, i._s), this.ws = new xt(i.cs), this.Ms = i.vs;\n  }return t.prototype.Xi = function (t) {\n    return \"\" + this.ds.Xi(t) + this.Ms + this.ws.Xi(t);\n  }, t;\n}();var Dt = function () {\n  function t(t, i) {\n    void 0 === i && (i = 50), this.bs = 0, this.ms = 1, this.gs = 1, this.ps = new Map(), this.ys = new Map(), this.ks = t, this.xs = i;\n  }return t.prototype.Xi = function (t) {\n    var i = void 0 === t.Ns ? new Date(1e3 * t.Ss).getTime() : new Date(Date.UTC(t.Ns.year, t.Ns.month - 1, t.Ns.day)).getTime(),\n        n = this.ps.get(i);if (void 0 !== n) return n.Ds;if (this.bs === this.xs) {\n      var h = this.ys.get(this.gs);this.ys.delete(this.gs), this.ps.delete(l(h)), this.gs++, this.bs--;\n    }var s = this.ks(t);return this.ps.set(i, { Ds: s, Cs: this.ms }), this.ys.set(this.ms, i), this.bs++, this.ms++, s;\n  }, t;\n}(),\n    Ct = function () {\n  function t(t, i) {\n    o(t <= i, \"right should be >= left\"), this.Ts = t, this.As = i;\n  }return t.prototype.rs = function () {\n    return this.Ts;\n  }, t.prototype.es = function () {\n    return this.As;\n  }, t.prototype.Es = function () {\n    return this.As - this.Ts + 1;\n  }, t.prototype.Ls = function (t) {\n    return this.Ts <= t && t <= this.As;\n  }, t.prototype.fn = function (t) {\n    return this.Ts === t.rs() && this.As === t.es();\n  }, t;\n}();function Tt(t, i) {\n  return null === t || null === i ? t === i : t.fn(i);\n}var At,\n    Et = function () {\n  function t() {\n    this.Bs = new Map(), this.ps = null;\n  }return t.prototype.Fs = function (t) {\n    var i = this;this.ps = null, this.Bs.clear(), t.forEach(function (t, n) {\n      var h = i.Bs.get(t.Vs);void 0 === h && (h = [], i.Bs.set(t.Vs, h)), h.push({ zs: n, V: t.V, Os: t.Vs });\n    });\n  }, t.prototype.Ps = function (t, i) {\n    var n = Math.ceil(i / t);return null !== this.ps && this.ps.Is === n || (this.ps = { Vn: this.Ws(n), Is: n }), this.ps.Vn;\n  }, t.prototype.Ws = function (t) {\n    for (var i = [], n = 0, h = Array.from(this.Bs.keys()).sort(function (t, i) {\n      return i - t;\n    }); n < h.length; n++) {\n      var s = h[n];if (this.Bs.get(s)) {\n        var r = i;i = [];for (var e = r.length, u = 0, a = l(this.Bs.get(s)), o = a.length, f = 1 / 0, c = -1 / 0, v = 0; v < o; v++) {\n          for (var _ = a[v], d = _.zs; u < e;) {\n            var w = r[u],\n                M = w.zs;if (!(M < d)) {\n              f = M;break;\n            }u++, i.push(w), c = M, f = 1 / 0;\n          }f - d >= t && d - c >= t && (i.push(_), c = d);\n        }for (; u < e; u++) {\n          i.push(r[u]);\n        }\n      }\n    }return i;\n  }, t;\n}(),\n    Lt = function () {\n  function t(t) {\n    this.Rs = t;\n  }return t.prototype.js = function () {\n    return null === this.Rs ? null : new Ct(Math.floor(this.Rs.rs()), Math.ceil(this.Rs.es()));\n  }, t.prototype.Us = function () {\n    return this.Rs;\n  }, t.qs = function () {\n    return new t(null);\n  }, t;\n}();!function (t) {\n  t[t.Year = 0] = \"Year\", t[t.Month = 1] = \"Month\", t[t.DayOfMonth = 2] = \"DayOfMonth\", t[t.Time = 3] = \"Time\", t[t.TimeWithSeconds = 4] = \"TimeWithSeconds\";\n}(At || (exports.TickMarkType = At = {}));var Bt = function () {\n  function t(t, i, n) {\n    this.Hs = 0, this.Ys = null, this.Ks = [], this.Jn = null, this.Zn = null, this.$s = new Et(), this.Xs = new Map(), this.Zs = Lt.qs(), this.Js = !0, this.Gs = new G(), this.Qs = new G(), this.tr = new G(), this.ir = null, this.nr = null, this.hr = [], this.xi = i, this.ih = n, this.sr = i.rightOffset, this.rr = i.barSpacing, this.hi = t, this.er();\n  }return t.prototype.P = function () {\n    return this.xi;\n  }, t.prototype.ur = function (t) {\n    v(this.ih, t), this.ar(), this.er();\n  }, t.prototype.eh = function (t, i) {\n    v(this.xi, t), this.xi.fixLeftEdge && this.or(), void 0 !== t.barSpacing && this.lr(t.barSpacing), void 0 !== t.rightOffset && this.cr(t.rightOffset), this.ar(), this.er(), this.tr.en();\n  }, t.prototype.si = function (t) {\n    var i;return (null === (i = this.Ks[t]) || void 0 === i ? void 0 : i.V) || null;\n  }, t.prototype.vr = function (t, i) {\n    if (this.Ks.length < 1) return null;if (t.Ss > this.Ks[this.Ks.length - 1].V.Ss) return i ? this.Ks.length - 1 : null;for (var n = 0; n < this.Ks.length; ++n) {\n      if (t.Ss === this.Ks[n].V.Ss) return n;if (t.Ss < this.Ks[n].V.Ss) return i ? n : null;\n    }return null;\n  }, t.prototype.Qt = function () {\n    return 0 === this.Hs || 0 === this.Ks.length;\n  }, t.prototype._r = function () {\n    return this.dr(), this.Zs.js();\n  }, t.prototype.wr = function () {\n    return this.dr(), this.Zs.Us();\n  }, t.prototype.Mr = function () {\n    var t = this._r();if (null === t) return null;var i = { from: t.rs(), to: t.es() };return this.br(i);\n  }, t.prototype.br = function (t) {\n    var i = Math.round(t.from),\n        n = Math.round(t.to),\n        h = f(this.mr()),\n        s = f(this.gr());return { from: f(this.si(Math.max(h, i))), to: f(this.si(Math.min(s, n))) };\n  }, t.prototype.pr = function (t) {\n    var i = this.hi.j();return { from: f(i.vr(t.from, !0)), to: f(i.vr(t.to, !0)) };\n  }, t.prototype.yr = function () {\n    return this.$s;\n  }, t.prototype.dt = function () {\n    return this.Hs;\n  }, t.prototype.kr = function (t) {\n    if (isFinite(t) && !(t <= 0) && this.Hs !== t) {\n      if (this.xi.lockVisibleTimeRangeOnResize && this.Hs) {\n        var i = this.rr * t / this.Hs;this.xr(i);\n      }if (this.xi.fixLeftEdge) {\n        var n = this._r();if (null !== n) if (n.rs() <= 0) {\n          var h = this.Hs - t;this.sr -= Math.round(h / this.rr) + 1;\n        }\n      }this.Hs = t, this.Js = !0, this.Nr(), this.Sr();\n    }\n  }, t.prototype.J = function (t) {\n    if (this.Qt() || !d(t)) return 0;var i = this.Dr() + this.sr - t;return this.Hs - (i + .5) * this.rr;\n  }, t.prototype.Cr = function (t, i) {\n    for (var n = this.Dr(), h = void 0 === i ? 0 : i.from, s = void 0 === i ? t.length : i.to, r = h; r < s; r++) {\n      var e = t[r].V,\n          u = n + this.sr - e,\n          a = this.Hs - (u + .5) * this.rr;t[r].m = a;\n    }\n  }, t.prototype.Tr = function (t) {\n    return Math.ceil(this.Ar(t));\n  }, t.prototype.cr = function (t) {\n    this.Js = !0, this.sr = t, this.Sr(), this.hi.Er(), this.hi.Lr();\n  }, t.prototype.Br = function () {\n    return this.rr;\n  }, t.prototype.lr = function (t) {\n    this.xr(t), this.Sr(), this.hi.Er(), this.hi.Lr();\n  }, t.prototype.Fr = function () {\n    return this.sr;\n  }, t.prototype.Vn = function () {\n    if (this.Qt()) return null;if (null !== this.nr) return this.nr;for (var t = this.rr, i = 5 * (this.hi.P().layout.fontSize + 4), n = Math.round(i / t), h = f(this._r()), s = Math.max(h.rs(), h.rs() - n), r = Math.max(h.es(), h.es() - n), e = 0, u = 0, a = this.$s.Ps(t, i); u < a.length; u++) {\n      var o = a[u];if (s <= o.zs && o.zs <= r) {\n        var l = this.si(o.zs);if (null !== l) {\n          if (e < this.hr.length) {\n            var c = this.hr[e];c.En = this.J(o.zs), c.Ln = this.Vr(l, o.Os), c.Os = o.Os;\n          } else this.hr.push({ En: this.J(o.zs), Ln: this.Vr(l, o.Os), Os: o.Os });e++;\n        }\n      }\n    }return this.hr.length = e, this.nr = this.hr, this.hr;\n  }, t.prototype.zr = function () {\n    this.Js = !0, this.lr(this.xi.barSpacing), this.cr(this.xi.rightOffset);\n  }, t.prototype.Or = function (t) {\n    this.Js = !0, this.Ys = t, this.Sr(), this.or();\n  }, t.prototype.Pr = function (t, i) {\n    var n = this.Ar(t),\n        h = this.Br(),\n        s = h + i * (h / 10);this.lr(s), this.xi.rightBarStaysOnScroll || this.cr(this.Fr() + (n - this.Ar(t)));\n  }, t.prototype.jh = function (t) {\n    this.Jn && this.Kh(), null === this.Zn && null === this.ir && (this.Qt() || (this.Zn = t, this.Ir()));\n  }, t.prototype.Uh = function (t) {\n    if (null !== this.ir) {\n      var i = tt(this.Hs - t, 0, this.Hs),\n          n = tt(this.Hs - f(this.Zn), 0, this.Hs);0 !== i && 0 !== n && this.lr(this.ir.Br * i / n);\n    }\n  }, t.prototype.qh = function () {\n    null !== this.Zn && (this.Zn = null, this.Wr());\n  }, t.prototype.Hh = function (t) {\n    null === this.Jn && null === this.ir && (this.Qt() || (this.Jn = t, this.Ir()));\n  }, t.prototype.Yh = function (t) {\n    if (null !== this.Jn) {\n      var i = (this.Jn - t) / this.Br();this.sr = f(this.ir).Fr + i, this.Js = !0, this.Sr();\n    }\n  }, t.prototype.Kh = function () {\n    null !== this.Jn && (this.Jn = null, this.Wr());\n  }, t.prototype.Rr = function () {\n    this.jr(this.xi.rightOffset);\n  }, t.prototype.jr = function (t, i) {\n    var n = this;if (void 0 === i && (i = 400), !isFinite(t)) throw new RangeError(\"offset is required and must be finite number\");if (!isFinite(i) || i <= 0) throw new RangeError(\"animationDuration (optional) must be finite positive number\");var h = this.sr,\n        s = new Date().getTime(),\n        r = function r() {\n      var e = (new Date().getTime() - s) / i,\n          u = e >= 1,\n          a = u ? t : h + (t - h) * e;n.cr(a), u || setTimeout(r, 20);\n    };r();\n  }, t.prototype.B = function (t) {\n    this.Js = !0, this.Ks = t, this.$s.Fs(t), this.Sr();\n  }, t.prototype.Ur = function () {\n    return this.Gs;\n  }, t.prototype.qr = function () {\n    return this.Qs;\n  }, t.prototype.Hr = function () {\n    return this.tr;\n  }, t.prototype.Dr = function () {\n    return this.Ys || 0;\n  }, t.prototype.Yr = function (t) {\n    var i = t.Es();this.xr(this.Hs / i), this.sr = t.es() - this.Dr(), this.Sr(), this.Js = !0, this.hi.Er(), this.hi.Lr();\n  }, t.prototype.Kr = function () {\n    var t = this.mr(),\n        i = this.gr();null !== t && null !== i && this.Yr(new Ct(t, i + this.xi.rightOffset));\n  }, t.prototype.$r = function (t) {\n    var i = new Ct(t.from, t.to);this.Yr(i);\n  }, t.prototype.ri = function (t) {\n    return void 0 !== this.ih.timeFormatter ? this.ih.timeFormatter(t.Ns || t.Ss) : this.Xr.Xi(new Date(1e3 * t.Ss));\n  }, t.prototype.mr = function () {\n    return 0 === this.Ks.length ? null : 0;\n  }, t.prototype.gr = function () {\n    return 0 === this.Ks.length ? null : this.Ks.length - 1;\n  }, t.prototype.Zr = function (t) {\n    return (this.Hs + 1 - t) / this.rr;\n  }, t.prototype.Ar = function (t) {\n    var i = this.Zr(t),\n        n = this.Dr() + this.sr - i;return Math.round(1e6 * n) / 1e6;\n  }, t.prototype.xr = function (t) {\n    var i = this.rr;this.rr = t, this.Nr(), i !== this.rr && (this.Js = !0, this.Jr());\n  }, t.prototype.dr = function () {\n    if (this.Js) if (this.Js = !1, this.Qt()) this.Gr(Lt.qs());else {\n      var t = this.Dr(),\n          i = this.Hs / this.rr,\n          n = this.sr + t,\n          h = new Ct(n - i + 1, n);this.Gr(new Lt(h));\n    }\n  }, t.prototype.Nr = function () {\n    if (this.rr < .5 && (this.rr = .5, this.Js = !0), 0 !== this.Hs) {\n      var t = .5 * this.Hs;this.rr > t && (this.rr = t, this.Js = !0);\n    }\n  }, t.prototype.Sr = function () {\n    var t = this.Qr();this.sr > t && (this.sr = t, this.Js = !0);var i = this.te();null !== i && this.sr < i && (this.sr = i, this.Js = !0);\n  }, t.prototype.te = function () {\n    var t = this.mr(),\n        i = this.Ys;return null === t || null === i ? null : t - i - 1 + (this.xi.fixLeftEdge ? this.Hs / this.rr : Math.min(2, this.Ks.length));\n  }, t.prototype.Qr = function () {\n    return this.Hs / this.rr - Math.min(2, this.Ks.length);\n  }, t.prototype.Ir = function () {\n    this.ir = { Br: this.Br(), Fr: this.Fr() };\n  }, t.prototype.Wr = function () {\n    this.ir = null;\n  }, t.prototype.Vr = function (t, i) {\n    var n = this,\n        h = this.Xs.get(i);return void 0 === h && (h = new Dt(function (t) {\n      return n.ie(t, i);\n    }), this.Xs.set(i, h)), h.Xi(t);\n  }, t.prototype.ie = function (t, i) {\n    var n,\n        h,\n        s = this.xi.timeVisible;return h = i < 20 && s ? this.xi.secondsVisible ? 4 : 3 : i < 40 && s ? 3 : i < 50 || i < 60 ? 2 : i < 70 ? 1 : 0, void 0 !== this.xi.tickMarkFormatter ? this.xi.tickMarkFormatter(null !== (n = t.Ns) && void 0 !== n ? n : t.Ss, h, this.ih.locale) : function (t, i, n) {\n      var h = {};switch (i) {case 0:\n          h.year = \"numeric\";break;case 1:\n          h.month = \"short\";break;case 2:\n          h.day = \"numeric\";break;case 3:\n          h.hour12 = !1, h.hour = \"2-digit\", h.minute = \"2-digit\";break;case 4:\n          h.hour12 = !1, h.hour = \"2-digit\", h.minute = \"2-digit\", h.second = \"2-digit\";}var s = void 0 === t.Ns ? new Date(1e3 * t.Ss) : new Date(Date.UTC(t.Ns.year, t.Ns.month - 1, t.Ns.day));return new Date(s.getUTCFullYear(), s.getUTCMonth(), s.getUTCDate(), s.getUTCHours(), s.getUTCMinutes(), s.getUTCSeconds(), s.getUTCMilliseconds()).toLocaleString(n, h);\n    }(t, h, this.ih.locale);\n  }, t.prototype.Gr = function (t) {\n    var i = this.Zs;this.Zs = t, Tt(i.js(), this.Zs.js()) || this.Gs.en(), Tt(i.Us(), this.Zs.Us()) || this.Qs.en(), this.Jr();\n  }, t.prototype.Jr = function () {\n    this.nr = null;\n  }, t.prototype.ar = function () {\n    this.Jr(), this.Xs.clear();\n  }, t.prototype.er = function () {\n    var t = this.ih.dateFormat;this.xi.timeVisible ? this.Xr = new St({ fs: t, cs: this.xi.secondsVisible ? \"%h:%m:%s\" : \"%h:%m\", vs: \"   \", _s: this.ih.locale }) : this.Xr = new kt(t, this.ih.locale);\n  }, t.prototype.or = function () {\n    if (this.xi.fixLeftEdge) {\n      var t = this.mr();if (null !== t) {\n        var i = f(this._r()).rs() - t;if (i < 0) {\n          var n = this.sr - i - 1;this.cr(n);\n        }\n      }\n    }\n  }, t;\n}();function Ft(t) {\n  return !_(t) && !w(t);\n}function Vt(t) {\n  return _(t);\n}var zt = \"'Trebuchet MS', Roboto, Ubuntu, sans-serif\";function Ot(t, i, n) {\n  return void 0 !== n ? n += \" \" : n = \"\", void 0 === i && (i = zt), \"\" + n + t + \"px \" + i;\n}var Pt = function () {\n  function t(t) {\n    this.ne = { Dt: 1, St: 4, Vt: NaN, kt: \"\", he: \"\", et: \"\", Tt: 0, At: 0, Et: 0, Ct: 0, Ft: 0 }, this.A = t;\n  }return t.prototype.P = function () {\n    var t = this.ne,\n        i = this.se(),\n        n = this.ee();return t.Vt === i && t.he === n || (t.Vt = i, t.he = n, t.kt = Ot(i, n), t.Ct = Math.floor(i / 3.5), t.Tt = t.Ct, t.At = Math.max(Math.ceil(i / 2 - t.St / 2), 0), t.Et = Math.ceil(i / 2 + t.St / 2), t.Ft = Math.round(i / 10)), t.et = this.ue(), this.ne;\n  }, t.prototype.ue = function () {\n    return this.A.P().layout.textColor;\n  }, t.prototype.se = function () {\n    return this.A.P().layout.fontSize;\n  }, t.prototype.ee = function () {\n    return this.A.P().layout.fontFamily;\n  }, t;\n}();function It(t) {\n  return \"left\" === t || \"right\" === t;\n}var Wt = function () {\n  function t() {\n    this.G = null;\n  }return t.prototype.v = function (t) {\n    this.G = t;\n  }, t.prototype.h = function (t, i, n, s) {\n    var r = this;if (null !== this.G) {\n      var e = Math.floor(i);t.lineWidth = e;var u = Math.ceil(this.G.st * i),\n          a = Math.ceil(this.G.ht * i);!function (t, i) {\n        t.save(), t.lineWidth % 2 && t.translate(.5, .5), i(), t.restore();\n      }(t, function () {\n        var n = f(r.G);if (n.ae) {\n          t.strokeStyle = n.oe, h(t, n.le), t.beginPath();for (var s = 0, o = n.fe; s < o.length; s++) {\n            var l = o[s],\n                c = Math.round(l.En * i);t.moveTo(c, -e), t.lineTo(c, u + e);\n          }t.stroke();\n        }if (n.ce) {\n          t.strokeStyle = n.ve, h(t, n._e), t.beginPath();for (var v = 0, _ = n.de; v < _.length; v++) {\n            var d = _[v],\n                w = Math.round(d.En * i);t.moveTo(-e, w), t.lineTo(a + e, w);\n          }t.stroke();\n        }\n      });\n    }\n  }, t;\n}(),\n    Rt = function () {\n  function t(t) {\n    this.ot = new Wt(), this.T = !0, this._i = t;\n  }return t.prototype.B = function () {\n    this.T = !0;\n  }, t.prototype.I = function (t, i) {\n    if (this.T) {\n      var n = this._i.ct().P().grid,\n          h = { st: t, ht: i, ce: n.horzLines.visible, ae: n.vertLines.visible, ve: n.horzLines.color, oe: n.vertLines.color, _e: n.horzLines.style, le: n.vertLines.style, de: this._i.Di().Vn(), fe: this._i.ct().j().Vn() || [] };this.ot.v(h), this.T = !1;\n    }return this.ot;\n  }, t;\n}(),\n    jt = function () {\n  function t() {\n    this.we = new WeakMap(), this.T = !0;\n  }return t.prototype.ci = function (t) {\n    var i = this.we.get(t);return void 0 === i && (i = [new Rt(t)], this.we.set(t, i)), this.T && (i.forEach(function (t) {\n      return t.B();\n    }), this.T = !1), i;\n  }, t.prototype.Me = function () {\n    this.T = !0;\n  }, t;\n}();var Ut = function () {\n  function t(t) {\n    this.be = new Map(), this.me = !1, this.ge = !1, this.Rs = null, this.pe = t;\n  }return t.prototype.ye = function (t, i) {\n    var n = function (t, i) {\n      return void 0 === t ? i : { ke: Math.max(t.ke, i.ke), dh: t.dh || i.dh };\n    }(this.be.get(t), i);this.be.set(t, n);\n  }, t.prototype.xe = function () {\n    return this.pe;\n  }, t.prototype.Ne = function (t) {\n    var i = this.be.get(t);return void 0 === i ? { ke: this.pe } : { ke: Math.max(this.pe, i.ke), dh: i.dh };\n  }, t.prototype.Se = function () {\n    this.ge = !0, this.Rs = null;\n  }, t.prototype.De = function () {\n    return this.ge;\n  }, t.prototype.$r = function (t) {\n    this.Rs = t, this.ge = !1;\n  }, t.prototype.Ce = function () {\n    return this.Rs;\n  }, t.prototype.wn = function (t) {\n    var i = this;this.me = this.me || t.me, t.ge && this.Se(), t.Rs && this.$r(t.Rs), this.pe = Math.max(this.pe, t.pe), t.be.forEach(function (t, n) {\n      i.ye(n, t);\n    });\n  }, t;\n}(),\n    qt = function () {\n  function t(t) {\n    this.Te = t;\n  }return t.prototype.Xi = function (t) {\n    var i = \"\";return t < 0 && (i = \"-\", t = -t), t < 995 ? i + this.Ae(t) : t < 999995 ? i + this.Ae(t / 1e3) + \"K\" : t < 999999995 ? (t = 1e3 * Math.round(t / 1e3), i + this.Ae(t / 1e6) + \"M\") : (t = 1e6 * Math.round(t / 1e6), i + this.Ae(t / 1e9) + \"B\");\n  }, t.prototype.Ae = function (t) {\n    var i = Math.pow(10, this.Te);return ((t = Math.round(t * i) / i) >= 1e-15 && t < 1 ? t.toFixed(this.Te).replace(/\\.?0+$/, \"\") : String(t)).replace(/(\\.[1-9]*)0+$/, function (t, i) {\n      return i;\n    });\n  }, t;\n}();function Ht(t, i, n, h) {\n  if (0 !== i.length) {\n    var s = i[h.from].m,\n        r = i[h.from].g;t.moveTo(s, r);for (var e = h.from + 1; e < h.to; ++e) {\n      var u = i[e];if (1 === n) {\n        var a = i[e - 1].g,\n            o = u.m;t.lineTo(o, a);\n      }t.lineTo(u.m, u.g);\n    }\n  }\n}var Yt = function (t) {\n  function i() {\n    var i = null !== t && t.apply(this, arguments) || this;return i.l = null, i;\n  }return e(i, t), i.prototype.v = function (t) {\n    this.l = t;\n  }, i.prototype.s = function (t) {\n    if (null !== this.l && 0 !== this.l.M.length && null !== this.l._) {\n      t.lineCap = \"butt\", t.strokeStyle = this.l.N, t.lineWidth = this.l.rt, h(t, this.l.ut), t.lineWidth = 1, t.beginPath(), t.moveTo(this.l.M[this.l._.from].m, this.l.Ee), t.lineTo(this.l.M[this.l._.from].m, this.l.M[this.l._.from].g), Ht(t, this.l.M, this.l.Le, this.l._), this.l._.to > this.l._.from && (t.lineTo(this.l.M[this.l._.to - 1].m, this.l.Ee), t.lineTo(this.l.M[this.l._.from].m, this.l.Ee)), t.closePath();var i = t.createLinearGradient(0, 0, 0, this.l.Ee);i.addColorStop(0, this.l.Be), i.addColorStop(1, this.l.Fe), t.fillStyle = i, t.fill();\n    }\n  }, i;\n}(y),\n    Kt = function (t) {\n  function i() {\n    var i = null !== t && t.apply(this, arguments) || this;return i.l = null, i;\n  }return e(i, t), i.prototype.v = function (t) {\n    this.l = t;\n  }, i.prototype.s = function (t) {\n    null !== this.l && 0 !== this.l.M.length && null !== this.l._ && (t.lineCap = \"square\", t.lineWidth = this.l.rt, h(t, this.l.ut), t.strokeStyle = this.l.N, t.lineJoin = \"miter\", t.beginPath(), Ht(t, this.l.M, this.l.Le, this.l._), t.stroke());\n  }, i;\n}(y);function $t(t, i, n, h, s) {\n  void 0 === h && (h = 0), void 0 === s && (s = t.length);for (var r = s - h; 0 < r;) {\n    var e = r >> 1,\n        u = h + e;n(t[u], i) ? (h = u + 1, r -= e + 1) : r = e;\n  }return h;\n}function Xt(t, i, n, h, s) {\n  void 0 === h && (h = 0), void 0 === s && (s = t.length);for (var r = s - h; 0 < r;) {\n    var e = r >> 1,\n        u = h + e;n(i, t[u]) ? r = e : (h = u + 1, r -= e + 1);\n  }return h;\n}function Zt(t, i) {\n  return t.V < i;\n}function Jt(t, i) {\n  return t < i.V;\n}function Gt(t, i, n) {\n  var h = i.rs(),\n      s = i.es(),\n      r = $t(t, h, Zt),\n      e = Xt(t, s, Jt);if (!n) return { from: r, to: e };var u = r,\n      a = e;return r > 0 && r < t.length && t[r].V >= h && (u = r - 1), e > 0 && e < t.length && t[e - 1].V <= s && (a = e + 1), { from: u, to: a };\n}var Qt = function () {\n  function t(t, i, n) {\n    this.Ve = !0, this.ze = !0, this.Oe = [], this.Pe = null, this.Ie = t, this.We = i, this.Re = n;\n  }return t.prototype.B = function (t) {\n    this.Ve = !0, \"data\" === t && (this.ze = !0);\n  }, t.prototype.je = function () {\n    this.ze && (this.Ue(), this.ze = !1), this.Ve && (this.qe(), this.Ve = !1);\n  }, t.prototype.He = function () {\n    this.Pe = null;\n  }, t.prototype.qe = function () {\n    var t = this.Ie.X(),\n        i = this.We.j();if (this.He(), !i.Qt() && !t.Qt()) {\n      var n = i._r();if (null !== n && 0 !== this.Ie.qi().Ye()) {\n        var h = this.Ie.q();null !== h && (this.Pe = Gt(this.Oe, n, this.Re), this.Ke(t, i, h.Z));\n      }\n    }\n  }, t;\n}(),\n    ti = function (t) {\n  function i(i, n) {\n    return t.call(this, i, n, !0) || this;\n  }return e(i, t), i.prototype.Ke = function (t, i, n) {\n    i.Cr(this.Oe, g(this.Pe)), t.Dh(this.Oe, n, g(this.Pe));\n  }, i.prototype.$e = function (t, i) {\n    return { V: t, O: i, m: NaN, g: NaN };\n  }, i.prototype.Ue = function () {\n    var t = this,\n        i = this.Ie.K();this.Oe = this.Ie.qi().Xe().map(function (n) {\n      var h = n.Z[3];return t.Ze(n.zs, h, i);\n    });\n  }, i;\n}(Qt),\n    ii = function (t) {\n  function i(i, n) {\n    var h = t.call(this, i, n) || this;return h.ot = new p(), h.Je = new Yt(), h.Ge = new Kt(), h.ot.i([h.Je, h.Ge]), h;\n  }return e(i, t), i.prototype.I = function (t, i) {\n    this.je();var n = this.Ie.P(),\n        h = { Le: n.lineType, M: this.Oe, N: n.lineColor, ut: n.lineStyle, rt: n.lineWidth, Be: n.topColor, Fe: n.bottomColor, Ee: t, _: this.Pe };return this.Je.v(h), this.Ge.v(h), this.ot;\n  }, i.prototype.Ze = function (t, i) {\n    return this.$e(t, i);\n  }, i;\n}(ti);var ni = function () {\n  function t() {\n    this.G = null, this.Qe = 0, this.tu = 0;\n  }return t.prototype.v = function (t) {\n    this.G = t;\n  }, t.prototype.h = function (t, i, n, h) {\n    if (null !== this.G && 0 !== this.G.qi.length && null !== this.G._) {\n      if (this.Qe = Math.max(1, Math.floor(function (t, i) {\n        return Math.floor(.3 * t * i);\n      }(this.G.Br, i))), this.Qe >= 2) Math.floor(i) % 2 != this.Qe % 2 && this.Qe--;this.tu = this.G.iu ? Math.min(this.Qe, Math.floor(i)) : this.Qe;for (var s = null, r = this.G._.from; r < this.G._.to; ++r) {\n        var e = this.G.qi[r];s !== e.et && (t.fillStyle = e.et, s = e.et);var u = Math.floor(.5 * this.tu),\n            a = Math.round(e.m * i),\n            o = a - u,\n            l = this.tu,\n            f = o + l - 1,\n            c = Math.round(e.Eh * i) - u,\n            v = Math.round(e.Lh * i) + u,\n            _ = Math.max(v - c, this.tu);t.fillRect(o, c, l, _);var d = Math.ceil(1.5 * this.Qe);if (this.tu <= this.Qe) {\n          if (this.G.nu) {\n            var w = a - d,\n                M = Math.max(c, Math.round(e.Ah * i) - u),\n                b = M + l - 1;b > c + _ - 1 && (M = (b = c + _ - 1) - l + 1), t.fillRect(w, M, o - w, b - M + 1);\n          }var m = a + d,\n              g = Math.max(c, Math.round(e.Bh * i) - u),\n              p = g + l - 1;p > c + _ - 1 && (g = (p = c + _ - 1) - l + 1), t.fillRect(f + 1, g, m - f, p - g + 1);\n        }\n      }\n    }\n  }, t;\n}(),\n    hi = function (t) {\n  function i(i, n) {\n    return t.call(this, i, n, !1) || this;\n  }return e(i, t), i.prototype.Ke = function (t, i, n) {\n    i.Cr(this.Oe, g(this.Pe)), t.Th(this.Oe, n, g(this.Pe));\n  }, i.prototype.hu = function (t, i, n) {\n    return { V: t, open: i.Z[0], high: i.Z[1], low: i.Z[2], close: i.Z[3], m: NaN, Ah: NaN, Eh: NaN, Lh: NaN, Bh: NaN };\n  }, i.prototype.Ue = function () {\n    var t = this,\n        i = this.Ie.K();this.Oe = this.Ie.qi().Xe().map(function (n) {\n      return t.Ze(n.zs, n, i);\n    });\n  }, i;\n}(Qt),\n    si = function (t) {\n  function i() {\n    var i = null !== t && t.apply(this, arguments) || this;return i.ot = new ni(), i;\n  }return e(i, t), i.prototype.I = function (t, i) {\n    this.je();var n = this.Ie.P(),\n        h = { qi: this.Oe, Br: this.We.j().Br(), nu: n.openVisible, iu: n.thinBars, _: this.Pe };return this.ot.v(h), this.ot;\n  }, i.prototype.Ze = function (t, i, n) {\n    return _u(_u({}, this.hu(t, i, n)), { et: n.Y(t).H });\n  }, i;\n}(hi),\n    ri = function () {\n  function t() {\n    this.G = null, this.Qe = 0;\n  }return t.prototype.v = function (t) {\n    this.G = t;\n  }, t.prototype.h = function (t, i, n, h) {\n    if (null !== this.G && 0 !== this.G.qi.length && null !== this.G._) {\n      if (this.Qe = function (t, i) {\n        var n = Math.floor(.8 * t * i),\n            h = Math.floor(t * i),\n            s = Math.min(n, h - 1);return Math.max(1, s);\n      }(this.G.Br, i), this.Qe >= 2) Math.floor(i) % 2 != this.Qe % 2 && this.Qe--;var s = this.G.qi;this.G.su && this.ru(t, s, this.G._, i), this.G.eu && this.uu(t, s, this.G._, this.G.Br, i);var r = this.au(i);(!this.G.eu || this.Qe > 2 * r) && this.ou(t, s, this.G._, i);\n    }\n  }, t.prototype.ru = function (t, i, n, h) {\n    if (null !== this.G) {\n      var s = \"\",\n          r = Math.min(Math.floor(h), Math.floor(this.G.Br * h));r = Math.min(r, this.Qe);for (var e = Math.floor(.5 * r), u = n.from; u < n.to; u++) {\n        var a = i[u];a.lu !== s && (t.fillStyle = a.lu, s = a.lu);var o = Math.round(Math.min(a.Ah, a.Bh) * h),\n            l = Math.round(Math.max(a.Ah, a.Bh) * h),\n            f = Math.round(a.Eh * h),\n            c = Math.round(a.Lh * h),\n            v = Math.round(h * a.m);t.fillRect(v - e, f, r, o - f), t.fillRect(v - e, l + 1, r, c - l);\n      }\n    }\n  }, t.prototype.au = function (t) {\n    var i = Math.floor(1 * t);this.Qe <= 2 * i && (i = Math.floor(.5 * (this.Qe - 1)));var n = Math.max(1, i);return this.Qe <= 2 * n ? Math.floor(1 * t) : n;\n  }, t.prototype.uu = function (t, i, n, h, s) {\n    for (var r = \"\", e = this.au(s), u = n.from; u < n.to; u++) {\n      var a = i[u];a.Pt !== r && (t.fillStyle = a.Pt, r = a.Pt);var o = Math.round(a.m * s) - Math.floor(.5 * this.Qe),\n          l = o + this.Qe - 1,\n          f = Math.round(Math.min(a.Ah, a.Bh) * s),\n          c = Math.round(Math.max(a.Ah, a.Bh) * s);h > 2 * e ? V(t, o, f, l - o + 1, c - f + 1, e) : t.fillRect(o, f, l - o + 1, c - f + 1);\n    }\n  }, t.prototype.ou = function (t, i, n, h) {\n    if (null !== this.G) for (var s = \"\", r = this.au(h), e = n.from; e < n.to; e++) {\n      var u = i[e],\n          a = Math.round(Math.min(u.Ah, u.Bh) * h),\n          o = Math.round(Math.max(u.Ah, u.Bh) * h),\n          l = Math.round(u.m * h) - Math.floor(.5 * this.Qe),\n          f = l + this.Qe - 1;if (this.G.eu && (l += r, a += r, f -= r, o -= r), !(a > o)) {\n        if (u.et !== s) {\n          var c = u.et;t.fillStyle = c, s = c;\n        }t.fillRect(l, a, f - l + 1, o - a + 1);\n      }\n    }\n  }, t;\n}(),\n    ei = function (t) {\n  function i() {\n    var i = null !== t && t.apply(this, arguments) || this;return i.ot = new ri(), i;\n  }return e(i, t), i.prototype.I = function (t, i) {\n    this.je();var n = this.Ie.P(),\n        h = { qi: this.Oe, Br: this.We.j().Br(), su: n.wickVisible, eu: n.borderVisible, _: this.Pe };return this.ot.v(h), this.ot;\n  }, i.prototype.Ze = function (t, i, n) {\n    var h = n.Y(t);return _u(_u({}, this.hu(t, i, n)), { et: h.H, lu: h.fu, Pt: h.cu });\n  }, i;\n}(hi),\n    ui = function () {\n  function t() {\n    this.G = null, this.vu = [];\n  }return t.prototype.v = function (t) {\n    this.G = t, this.vu = [];\n  }, t.prototype.h = function (t, i, n, h) {\n    if (null !== this.G && 0 !== this.G.M.length && null !== this.G._) {\n      this.vu.length || this._u(i);for (var s = Math.round(this.G.du * i), r = Math.max(1, Math.floor(i)), e = this.G._.from; e < this.G._.to; e++) {\n        var u = this.G.M[e],\n            a = this.vu[e - this.G._.from],\n            o = Math.round(u.g * i);t.fillStyle = u.et, t.fillRect(a.rs, o, a.es - a.rs + 1, s - o + r);\n      }\n    }\n  }, t.prototype._u = function (t) {\n    if (null !== this.G && 0 !== this.G.M.length && null !== this.G._) {\n      var i = Math.ceil(this.G.Br * t) <= 3 ? 0 : Math.max(1, Math.floor(t)),\n          n = Math.round(this.G.Br * t) - i;this.vu = new Array(this.G._.to - this.G._.from);for (var h = this.G._.from; h < this.G._.to; h++) {\n        var s,\n            r = this.G.M[h],\n            e = Math.round(r.m * t),\n            u = void 0,\n            a = void 0;if (n % 2) u = e - (s = (n - 1) / 2), a = e + s;else u = e - (s = n / 2), a = e + s - 1;this.vu[h - this.G._.from] = { rs: u, es: a, wu: e, Mu: r.m * t, V: r.V };\n      }for (h = this.G._.from + 1; h < this.G._.to; h++) {\n        var o = this.vu[h - this.G._.from],\n            l = this.vu[h - this.G._.from - 1];o.V === l.V + 1 && o.rs - l.es !== i + 1 && (l.wu > l.Mu ? l.es = o.rs - i - 1 : o.rs = l.es + i + 1);\n      }var f = Math.ceil(this.G.Br * t);for (h = this.G._.from; h < this.G._.to; h++) {\n        (o = this.vu[h - this.G._.from]).es < o.rs && (o.es = o.rs);var c = o.es - o.rs + 1;f = Math.min(c, f);\n      }if (i > 0 && f < 4) for (h = this.G._.from; h < this.G._.to; h++) {\n        (c = (o = this.vu[h - this.G._.from]).es - o.rs + 1) > f && (o.wu > o.Mu ? o.es -= 1 : o.rs += 1);\n      }\n    } else this.vu = [];\n  }, t;\n}();function ai(t) {\n  return { M: [], Br: t, du: NaN, _: null };\n}function oi(t, i, n) {\n  return { V: t, O: i, m: NaN, g: NaN, et: n };\n}var li = function (t) {\n  function i(i, n) {\n    var h = t.call(this, i, n, !1) || this;return h.S = new p(), h.bu = ai(0), h.ot = new ui(), h;\n  }return e(i, t), i.prototype.I = function (t, i) {\n    return this.je(), this.S;\n  }, i.prototype.Ue = function () {\n    var t = this.We.j().Br();this.bu = ai(t);for (var i = 0, n = 0, h = this.Ie.P().color, s = 0, r = this.Ie.qi().Xe(); s < r.length; s++) {\n      var e = r[s],\n          u = e.Z[3],\n          a = void 0 !== e.et ? e.et : h,\n          o = oi(e.zs, u, a);++i < this.bu.M.length ? this.bu.M[i] = o : this.bu.M.push(o), this.Oe[n++] = { V: e.zs, m: 0 };\n    }this.ot.v(this.bu), this.S.i([this.ot]);\n  }, i.prototype.He = function () {\n    t.prototype.He.call(this), this.bu._ = null;\n  }, i.prototype.Ke = function (t, i, n) {\n    if (null !== this.Pe) {\n      var h = i.Br(),\n          s = f(i._r()),\n          r = t.$(this.Ie.P().base, n);i.Cr(this.bu.M), t.Dh(this.bu.M, n), this.bu.du = r, this.bu._ = Gt(this.bu.M, s, !1), this.bu.Br = h, this.ot.v(this.bu);\n    }\n  }, i;\n}(Qt),\n    fi = function (t) {\n  function i(i, n) {\n    var h = t.call(this, i, n) || this;return h.Ge = new Kt(), h;\n  }return e(i, t), i.prototype.I = function (t, i) {\n    this.je();var n = this.Ie.P(),\n        h = { M: this.Oe, N: n.color, ut: n.lineStyle, Le: n.lineType, rt: n.lineWidth, _: this.Pe };return this.Ge.v(h), this.Ge;\n  }, i.prototype.Ze = function (t, i) {\n    return this.$e(t, i);\n  }, i;\n}(ti),\n    ci = /[2-9]/g,\n    vi = function () {\n  function t(t) {\n    void 0 === t && (t = 50), this.ps = new Map(), this.mu = 0, this.gu = Array.from(new Array(t));\n  }return t.prototype.pu = function () {\n    this.ps.clear(), this.gu.fill(void 0);\n  }, t.prototype.Bt = function (t, i, n) {\n    var h = n || ci,\n        s = String(i).replace(h, \"0\"),\n        r = this.ps.get(s);if (void 0 === r) {\n      if (0 === (r = t.measureText(s).width) && 0 !== i.length) return 0;var e = this.gu[this.mu];void 0 !== e && this.ps.delete(e), this.gu[this.mu] = s, this.mu = (this.mu + 1) % this.gu.length, this.ps.set(s, r);\n    }return r;\n  }, t;\n}(),\n    _i = function () {\n  function t(t) {\n    this.yu = null, this.ne = null, this.ku = \"right\", this.Hs = 0, this.xu = t;\n  }return t.prototype.Nu = function (t, i, n, h) {\n    this.yu = t, this.ne = i, this.Hs = n, this.ku = h;\n  }, t.prototype.h = function (t, i) {\n    null !== this.ne && null !== this.yu && this.yu.h(t, this.ne, this.xu, this.Hs, this.ku, i);\n  }, t;\n}(),\n    di = function () {\n  function t(t, i, n) {\n    this.Su = t, this.xu = new vi(50), this.Du = i, this.A = n, this.se = -1, this.ot = new _i(this.xu);\n  }return t.prototype.I = function (t, i) {\n    var n = this.A.Cu(this.Du);if (null === n) return null;var h = n.Tu(this.Du) ? n.Di() : this.Du.X();if (null === h) return null;var s = n.Au(h);if (\"overlay\" === s) return null;var r = this.A.Eu();return r.Vt !== this.se && (this.se = r.Vt, this.xu.pu()), this.ot.Nu(this.Su.Xt(), r, i, s), this.ot;\n  }, t;\n}(),\n    wi = function () {\n  function t() {\n    this.G = null;\n  }return t.prototype.v = function (t) {\n    this.G = t;\n  }, t.prototype.h = function (t, i, n, r) {\n    if (null !== this.G && !1 !== this.G.tt) {\n      var e = Math.round(this.G.g * i);if (!(e < 0 || e > Math.ceil(this.G.wt * i))) {\n        var u = Math.ceil(this.G.dt * i);t.lineCap = \"butt\", t.strokeStyle = this.G.et, t.lineWidth = Math.floor(this.G.rt * i), h(t, this.G.ut), s(t, e, 0, u);\n      }\n    }\n  }, t;\n}(),\n    Mi = function () {\n  function t(t) {\n    this.Lu = { dt: 0, wt: 0, g: 0, et: \"rgba(0, 0, 0, 0)\", rt: 1, ut: 0, tt: !1 }, this.Bu = new wi(), this.T = !0, this.Ie = t, this.We = t.ct(), this.Bu.v(this.Lu);\n  }return t.prototype.B = function () {\n    this.T = !0;\n  }, t.prototype.I = function (t, i) {\n    return this.T && (this.Fu(t, i), this.T = !1), this.Bu;\n  }, t;\n}(),\n    bi = function (t) {\n  function i(i) {\n    return t.call(this, i) || this;\n  }return e(i, t), i.prototype.Fu = function (t, i) {\n    this.Lu.tt = !1;var n = this.Ie.X(),\n        h = n.oh().oh;if (2 === h || 3 === h) {\n      var s = this.Ie.P();if (s.baseLineVisible) {\n        var r = this.Ie.q();null !== r && (this.Lu.tt = !0, this.Lu.g = n.$(r.Z, r.Z), this.Lu.dt = i, this.Lu.wt = t, this.Lu.et = s.baseLineColor, this.Lu.rt = s.baseLineWidth, this.Lu.ut = s.baseLineStyle);\n      }\n    }\n  }, i;\n}(Mi);function mi(t, i) {\n  return st(Math.min(Math.max(t, 12), 30) * i);\n}function gi(t, i) {\n  switch (t) {case \"arrowDown\":case \"arrowUp\":\n      return mi(i, 1);case \"circle\":\n      return mi(i, .8);case \"square\":\n      return mi(i, .7);}\n}function pi(t) {\n  return ht(mi(t, 1));\n}function yi(t) {\n  return Math.max(mi(t, .1), 3);\n}function ki(t, i, n, h, s) {\n  var r = gi(\"square\", n),\n      e = (r - 1) / 2,\n      u = t - e,\n      a = i - e;return h >= u && h <= u + r && s >= a && s <= a + r;\n}function xi(t, i, n, h, s) {\n  var r = (gi(\"arrowUp\", s) - 1) / 2,\n      e = (st(s / 2) - 1) / 2;i.beginPath(), t ? (i.moveTo(n - r, h), i.lineTo(n, h - r), i.lineTo(n + r, h), i.lineTo(n + e, h), i.lineTo(n + e, h + r), i.lineTo(n - e, h + r), i.lineTo(n - e, h)) : (i.moveTo(n - r, h), i.lineTo(n, h + r), i.lineTo(n + r, h), i.lineTo(n + e, h), i.lineTo(n + e, h - r), i.lineTo(n - e, h - r), i.lineTo(n - e, h)), i.fill();\n}function Ni(t, i, n, h, s, r) {\n  return ki(i, n, h, s, r);\n}var Si = function (t) {\n  function i() {\n    var i = null !== t && t.apply(this, arguments) || this;return i.G = null, i.xu = new vi(), i.se = -1, i.ee = \"\", i.Vu = \"\", i;\n  }return e(i, t), i.prototype.v = function (t) {\n    this.G = t;\n  }, i.prototype.Nu = function (t, i) {\n    this.se === t && this.ee === i || (this.se = t, this.ee = i, this.Vu = Ot(t, i), this.xu.pu());\n  }, i.prototype.zu = function (t, i) {\n    if (null === this.G || null === this.G._) return null;for (var n = this.G._.from; n < this.G._.to; n++) {\n      var h = this.G.M[n];if (Ci(h, t, i)) return { Ou: h.Pu, Iu: h.Iu };\n    }return null;\n  }, i.prototype.s = function (t, i, n) {\n    if (null !== this.G && null !== this.G._) {\n      t.textBaseline = \"middle\", t.font = this.Vu;for (var h = this.G._.from; h < this.G._.to; h++) {\n        var s = this.G.M[h];void 0 !== s.Lt && (s.Lt.dt = this.xu.Bt(t, s.Lt.Wu), s.Lt.wt = this.se), Di(s, t);\n      }\n    }\n  }, i;\n}(y);function Di(t, i) {\n  i.fillStyle = t.et, void 0 !== t.Lt && function (t, i, n, h) {\n    t.fillText(i, n, h);\n  }(i, t.Lt.Wu, t.m - t.Lt.dt / 2, t.Lt.g), function (t, i) {\n    if (0 === t.Ye) return;switch (t.Ru) {case \"arrowDown\":\n        return void xi(!1, i, t.m, t.g, t.Ye);case \"arrowUp\":\n        return void xi(!0, i, t.m, t.g, t.Ye);case \"circle\":\n        return void function (t, i, n, h) {\n          var s = (gi(\"circle\", h) - 1) / 2;t.beginPath(), t.arc(i, n, s, 0, 2 * Math.PI, !1), t.fill();\n        }(i, t.m, t.g, t.Ye);case \"square\":\n        return void function (t, i, n, h) {\n          var s = gi(\"square\", h),\n              r = (s - 1) / 2,\n              e = i - r,\n              u = n - r;t.fillRect(e, u, s, s);\n        }(i, t.m, t.g, t.Ye);}t.Ru;\n  }(t, i);\n}function Ci(t, i, n) {\n  return !(void 0 === t.Lt || !function (t, i, n, h, s, r) {\n    var e = h / 2;return s >= t && s <= t + n && r >= i - e && r <= i + e;\n  }(t.m, t.Lt.g, t.Lt.dt, t.Lt.wt, i, n)) || function (t, i, n) {\n    if (0 === t.Ye) return !1;switch (t.Ru) {case \"arrowDown\":case \"arrowUp\":\n        return Ni(0, t.m, t.g, t.Ye, i, n);case \"circle\":\n        return function (t, i, n, h, s) {\n          var r = 2 + gi(\"circle\", n) / 2,\n              e = t - h,\n              u = i - s;return Math.sqrt(e * e + u * u) <= r;\n        }(t.m, t.g, t.Ye, i, n);case \"square\":\n        return ki(t.m, t.g, t.Ye, i, n);}t.Ru;\n  }(t, i, n);\n}function Ti(t, i, n, h, s, r, e, u, a) {\n  var o = _(n) ? n : n.close,\n      l = _(n) ? n : n.high,\n      f = _(n) ? n : n.low,\n      c = _(i.size) ? Math.max(i.size, 0) : 1,\n      v = pi(u.Br()) * c,\n      d = v / 2;switch (t.Ye = v, i.position) {case \"inBar\":\n      return t.g = e.$(o, a), void (void 0 !== t.Lt && (t.Lt.g = t.g + d + r + .6 * s));case \"aboveBar\":\n      return t.g = e.$(l, a) - d - h.ju, void 0 !== t.Lt && (t.Lt.g = t.g - d - .6 * s, h.ju += 1.2 * s), void (h.ju += v + r);case \"belowBar\":\n      return t.g = e.$(f, a) + d + h.Uu, void 0 !== t.Lt && (t.Lt.g = t.g + d + r + .6 * s, h.Uu += 1.2 * s), void (h.Uu += v + r);}i.position;\n}var Ai = function () {\n  function t(t, i) {\n    this.T = !0, this.qu = !0, this.Hu = !0, this.Yu = null, this.ot = new Si(), this.Ku = t, this.hi = i, this.G = { M: [], _: null };\n  }return t.prototype.B = function (t) {\n    this.T = !0, this.Hu = !0, \"data\" === t && (this.qu = !0);\n  }, t.prototype.I = function (t, i, n) {\n    this.T && this.je();var h = this.hi.P().layout;return this.ot.Nu(h.fontSize, h.fontFamily), this.ot.v(this.G), this.ot;\n  }, t.prototype.$u = function () {\n    if (this.Hu) {\n      if (this.Ku.Xu().length > 0) {\n        var t = this.hi.j().Br(),\n            i = yi(t),\n            n = 1.5 * pi(t) + 2 * i;this.Yu = { above: n, below: n };\n      } else this.Yu = null;this.Hu = !1;\n    }return this.Yu;\n  }, t.prototype.je = function () {\n    var t = this.Ku.X(),\n        i = this.hi.j(),\n        n = this.Ku.Xu();this.qu && (this.G.M = n.map(function (t) {\n      return { V: t.time, m: 0, g: 0, Ye: 0, Ru: t.shape, et: t.color, Pu: t.Pu, Iu: t.id, Lt: void 0 };\n    }), this.qu = !1);var h = this.hi.P().layout;this.G._ = null;var s = i._r();if (null !== s) {\n      var r = this.Ku.q();if (null !== r && 0 !== this.G.M.length) {\n        var e = NaN,\n            u = yi(i.Br()),\n            a = { ju: u, Uu: u };this.G._ = Gt(this.G.M, s, !0);for (var o = this.G._.from; o < this.G._.to; o++) {\n          var l = n[o];l.time !== e && (a.ju = u, a.Uu = u, e = l.time);var f = this.G.M[o];f.m = i.J(l.time), void 0 !== l.text && l.text.length > 0 && (f.Lt = { Wu: l.text, g: 0, dt: 0, wt: 0 });var c = this.Ku.Zu(l.time);null !== c && Ti(f, l, c, a, h.fontSize, u, t, i, r.Z);\n        }this.T = !1;\n      }\n    }\n  }, t;\n}(),\n    Ei = function (t) {\n  function i(i) {\n    return t.call(this, i) || this;\n  }return e(i, t), i.prototype.Fu = function (t, i) {\n    var n = this.Lu;n.tt = !1;var h = this.Ie.P();if (h.priceLineVisible) {\n      var s = this.Ie.Ju(0 === h.priceLineSource);s.Gu || (n.tt = !0, n.g = s.zt, n.et = this.Ie.Qu(s.et), n.dt = i, n.wt = t, n.rt = h.priceLineWidth, n.ut = h.priceLineStyle);\n    }\n  }, i;\n}(Mi),\n    Li = function (t) {\n  function i(i) {\n    var n = t.call(this) || this;return n.lt = i, n;\n  }return e(i, t), i.prototype.Zt = function (t, i, n) {\n    t.tt = !1, i.tt = !1;var h = this.lt.P(),\n        s = h.lastValueVisible,\n        r = \"\" !== this.lt.ta(),\n        e = 0 === h.seriesLastValueMode,\n        u = this.lt.Ju(!1);if (!u.Gu) {\n      s && (t.Lt = this.ia(u, s, e), t.tt = 0 !== t.Lt.length), (r || e) && (i.Lt = this.na(u, s, r, e), i.tt = i.Lt.length > 0);var a = this.lt.Qu(u.et),\n          o = F(a);n.gt = o.gt, n.et = o.pt, n.zt = u.zt, i.Pt = this.lt.ct().P().layout.backgroundColor, t.Pt = a;\n    }\n  }, i.prototype.na = function (t, i, n, h) {\n    var s = \"\",\n        r = this.lt.ta();return n && 0 !== r.length && (s += r + \" \"), i && h && (s += this.lt.X().vh() ? t.ha : t.sa), s.trim();\n  }, i.prototype.ia = function (t, i, n) {\n    return i ? n ? this.lt.X().vh() ? t.sa : t.ha : t.Lt : \"\";\n  }, i;\n}(W),\n    Bi = function () {\n  function t(t, i) {\n    this.Pn = t, this.ra = i || null;\n  }return t.prototype.xh = function () {\n    return this.Pn;\n  }, t.prototype.us = function () {\n    return this.ra;\n  }, t.prototype.mn = function () {\n    return null === this.Pn ? null : { priceRange: this.Pn.mn(), margins: this.ra || void 0 };\n  }, t.gn = function (i) {\n    return null === i ? null : new t(Q.gn(i.priceRange), i.margins);\n  }, t;\n}(),\n    Fi = function (t) {\n  function i(i, n) {\n    var h = t.call(this, i) || this;return h.ea = n, h;\n  }return e(i, t), i.prototype.Fu = function (t, i) {\n    var n = this.Lu;n.tt = !1;var h = this.ea.ua();if (null !== h) {\n      var s = this.ea.P();n.tt = !0, n.g = h, n.et = s.color, n.dt = i, n.wt = t, n.rt = s.lineWidth, n.ut = s.lineStyle;\n    }\n  }, i;\n}(Mi),\n    Vi = function (t) {\n  function i(i, n) {\n    var h = t.call(this) || this;return h.Ku = i, h.ea = n, h;\n  }return e(i, t), i.prototype.Zt = function (t, i, n) {\n    t.tt = !1, i.tt = !1;var h = this.ea.P();if (h.axisLabelVisible) {\n      var s = this.ea.ua();if (null !== s) {\n        t.Lt = this.Ku.X().Zh(h.price), t.tt = !0;var r = F(h.color);n.gt = r.gt, n.et = r.pt, n.zt = s;\n      }\n    }\n  }, i;\n}(W),\n    zi = function () {\n  function t(t, i) {\n    this.Ku = t, this.xi = i, this.aa = new Fi(t, this), this.Su = new Vi(t, this);\n  }return t.prototype.eh = function (t) {\n    v(this.xi, t), this.B(), this.Ku.ct().Lr();\n  }, t.prototype.P = function () {\n    return this.xi;\n  }, t.prototype.oa = function () {\n    return this.aa;\n  }, t.prototype.la = function () {\n    return this.Su;\n  }, t.prototype.B = function () {\n    this.aa.B(), this.Su.B();\n  }, t.prototype.ua = function () {\n    var t = this.Ku,\n        i = t.X();if (t.ct().j().Qt() || i.Qt()) return null;var n = t.q();return null === n ? null : i.$(this.xi.price, n.Z);\n  }, t;\n}(),\n    Oi = function (t) {\n  function i(i) {\n    var n = t.call(this) || this;return n.hi = i, n;\n  }return e(i, t), i.prototype.ct = function () {\n    return this.hi;\n  }, i;\n}(H),\n    Pi = { H: \"\", cu: \"\", fu: \"\" },\n    Ii = function () {\n  function t(t) {\n    this.Ku = t;\n  }return t.prototype.Y = function (t, i) {\n    var n = this.Ku.fa(),\n        h = this.Ku.P();switch (n) {case \"Line\":\n        return this.ca(h);case \"Area\":\n        return this.va(h);case \"Bar\":\n        return this._a(h, t, i);case \"Candlestick\":\n        return this.da(h, t, i);case \"Histogram\":\n        return this.wa(h, t, i);}throw new Error(\"Unknown chart style\");\n  }, t.prototype._a = function (t, i, n) {\n    var h = _u({}, Pi),\n        s = t.upColor,\n        r = t.downColor,\n        e = s,\n        a = r,\n        o = f(this.Ma(i, n)),\n        l = c(o.Z[0]) <= c(o.Z[3]);return h.H = l ? s : r, h.cu = l ? e : a, h;\n  }, t.prototype.da = function (t, i, n) {\n    var h = _u({}, Pi),\n        s = t.upColor,\n        r = t.downColor,\n        e = t.borderUpColor,\n        a = t.borderDownColor,\n        o = t.wickUpColor,\n        l = t.wickDownColor,\n        v = f(this.Ma(i, n)),\n        _ = c(v.Z[0]) <= c(v.Z[3]);return h.H = _ ? s : r, h.cu = _ ? e : a, h.fu = _ ? o : l, h;\n  }, t.prototype.va = function (t) {\n    return _u(_u({}, Pi), { H: t.lineColor });\n  }, t.prototype.ca = function (t) {\n    return _u(_u({}, Pi), { H: t.color });\n  }, t.prototype.wa = function (t, i, n) {\n    var h = _u({}, Pi),\n        s = f(this.Ma(i, n));return h.H = void 0 !== s.et ? s.et : t.color, h;\n  }, t.prototype.Ma = function (t, i) {\n    return void 0 !== i ? i.Z : this.Ku.qi().ba(t);\n  }, t;\n}(),\n    Wi = function () {\n  function t() {\n    this.ma = [], this.ga = new Map(), this.pa = new Map();\n  }return t.prototype.ya = function () {\n    this.ma = [], this.ga.clear(), this.pa.clear();\n  }, t.prototype.ka = function () {\n    return this.Ye() > 0 ? this.ma[this.ma.length - 1] : null;\n  }, t.prototype.xa = function () {\n    return this.Ye() > 0 ? this.Na(0) : null;\n  }, t.prototype.Ui = function () {\n    return this.Ye() > 0 ? this.Na(this.ma.length - 1) : null;\n  }, t.prototype.Ye = function () {\n    return this.ma.length;\n  }, t.prototype.Qt = function () {\n    return 0 === this.Ye();\n  }, t.prototype.Ls = function (t) {\n    return null !== this.Sa(t, 0);\n  }, t.prototype.ba = function (t) {\n    return this.Da(t);\n  }, t.prototype.Da = function (t, i) {\n    void 0 === i && (i = 0);var n = this.Sa(t, i);return null === n ? null : _u(_u({}, this.Ca(n)), { zs: this.Na(n) });\n  }, t.prototype.Xe = function () {\n    return this.ma;\n  }, t.prototype.Ta = function (t, i, n) {\n    if (this.Qt()) return null;for (var h = null, s = 0, r = n; s < r.length; s++) {\n      var e = r[s];h = Ri(h, this.Aa(t, i, e));\n    }return h;\n  }, t.prototype.wn = function (t) {\n    0 !== t.length && (this.Qt() || t[t.length - 1].zs < this.ma[0].zs ? this.Ea(t) : t[0].zs > this.ma[this.ma.length - 1].zs ? this.La(t) : 1 !== t.length || t[0].zs !== this.ma[this.ma.length - 1].zs ? this.Ba(t) : this.Fa(t[0]));\n  }, t.prototype.Na = function (t) {\n    return this.ma[t].zs;\n  }, t.prototype.Ca = function (t) {\n    return this.ma[t];\n  }, t.prototype.Sa = function (t, i) {\n    var n = this.Va(t);if (null === n && 0 !== i) switch (i) {case -1:\n        return this.za(t);case 1:\n        return this.Oa(t);default:\n        throw new TypeError(\"Unknown search mode\");}return n;\n  }, t.prototype.za = function (t) {\n    var i = this.Pa(t);return i > 0 && (i -= 1), i !== this.ma.length && this.Na(i) < t ? i : null;\n  }, t.prototype.Oa = function (t) {\n    var i = this.Ia(t);return i !== this.ma.length && t < this.Na(i) ? i : null;\n  }, t.prototype.Va = function (t) {\n    var i = this.Pa(t);return i === this.ma.length || t < this.ma[i].zs ? null : i;\n  }, t.prototype.Pa = function (t) {\n    return $t(this.ma, t, function (t, i) {\n      return t.zs < i;\n    });\n  }, t.prototype.Ia = function (t) {\n    return Xt(this.ma, t, function (t, i) {\n      return i.zs > t;\n    });\n  }, t.prototype.Wa = function (t, i, n) {\n    for (var h = null, s = t; s < i; s++) {\n      var r = this.ma[s].Z[n];Number.isNaN(r) || (null === h ? h = { Ra: r, ja: r } : (r < h.Ra && (h.Ra = r), r > h.ja && (h.ja = r)));\n    }return h;\n  }, t.prototype.Ua = function (t) {\n    var i = Math.floor(t.zs / 30);this.ga.forEach(function (t) {\n      return t.delete(i);\n    });\n  }, t.prototype.Ea = function (t) {\n    o(0 !== t.length, \"plotRows should not be empty\"), this.pa.clear(), this.ga.clear(), this.ma = t.concat(this.ma);\n  }, t.prototype.La = function (t) {\n    o(0 !== t.length, \"plotRows should not be empty\"), this.pa.clear(), this.ga.clear(), this.ma = this.ma.concat(t);\n  }, t.prototype.Fa = function (t) {\n    o(!this.Qt(), \"plot list should not be empty\"), o(this.ma[this.ma.length - 1].zs === t.zs, \"last row index should match new row index\"), this.Ua(t), this.pa.delete(t.zs), this.ma[this.ma.length - 1] = t;\n  }, t.prototype.Ba = function (t) {\n    o(0 !== t.length, \"plot rows should not be empty\"), this.pa.clear(), this.ga.clear(), this.ma = function (t, i) {\n      var n = function (t, i) {\n        var n = t.length,\n            h = i.length,\n            s = n + h,\n            r = 0,\n            e = 0;for (; r < n && e < h;) {\n          t[r].zs < i[e].zs ? r++ : t[r].zs > i[e].zs ? e++ : (r++, e++, s--);\n        }return s;\n      }(t, i),\n          h = new Array(n),\n          s = 0,\n          r = 0,\n          e = t.length,\n          u = i.length,\n          a = 0;for (; s < e && r < u;) {\n        t[s].zs < i[r].zs ? (h[a] = t[s], s++) : t[s].zs > i[r].zs ? (h[a] = i[r], r++) : (h[a] = i[r], s++, r++), a++;\n      }for (; s < e;) {\n        h[a] = t[s], s++, a++;\n      }for (; r < u;) {\n        h[a] = i[r], r++, a++;\n      }return h;\n    }(this.ma, t);\n  }, t.prototype.Aa = function (t, i, n) {\n    if (this.Qt()) return null;var h = null,\n        s = f(this.xa()),\n        r = f(this.Ui()),\n        e = Math.max(t, s),\n        u = Math.min(i, r),\n        a = 30 * Math.ceil(e / 30),\n        o = Math.max(a, 30 * Math.floor(u / 30)),\n        l = this.Pa(e),\n        c = this.Ia(Math.min(u, a, i));h = Ri(h, this.Wa(l, c, n));var v = this.ga.get(n);void 0 === v && (v = new Map(), this.ga.set(n, v));for (var _ = Math.max(a + 1, e); _ < o; _ += 30) {\n      var d = Math.floor(_ / 30),\n          w = v.get(d);if (void 0 === w) {\n        var M = this.Pa(30 * d),\n            b = this.Ia(30 * (d + 1) - 1);w = this.Wa(M, b, n), v.set(d, w);\n      }h = Ri(h, w);\n    }l = this.Pa(o), c = this.Ia(u);return h = Ri(h, this.Wa(l, c, n));\n  }, t;\n}();function Ri(t, i) {\n  return null === t ? i : null === i ? t : { Ra: Math.min(t.Ra, i.Ra), ja: Math.max(t.ja, i.ja) };\n}var ji = function (t) {\n  function i(i, n, h) {\n    var s = t.call(this, i) || this;s.G = new Wi(), s.aa = new Ei(s), s.qa = [], s.Ha = new bi(s), s.Ya = null, s.Ka = [], s.$a = [], s.xi = n, s.Xa = h;var r = new Li(s);return s.bi = [r], s.Za = new di(r, s, i), s.Ja(), s.Ga(), s;\n  }return e(i, t), i.prototype.an = function () {}, i.prototype.Qu = function (t) {\n    return this.xi.priceLineColor || t;\n  }, i.prototype.Ju = function (t, i) {\n    var n = { Gu: !0 },\n        h = this.X();if (this.ct().j().Qt() || h.Qt() || this.G.Qt()) return n;var s,\n        r,\n        e = this.ct().j()._r(),\n        u = this.q();if (null === e || null === u) return n;if (t) {\n      var a = this.G.ka();if (null === a) return n;s = a, r = a.zs;\n    } else {\n      var o = this.G.Da(e.es(), -1);if (null === o) return n;if (null === (s = this.G.ba(o.zs))) return n;r = o.zs;\n    }var l = s.Z[3],\n        f = this.K().Y(r, { Z: s }),\n        c = h.$(l, u.Z);return { Gu: !1, O: i ? l : void 0, Lt: h.ti(l, u.Z), ha: h.Zh(l), sa: h.Gh(l, u.Z), et: f.H, zt: c, zs: r };\n  }, i.prototype.K = function () {\n    return null !== this.Ya || (this.Ya = new Ii(this)), this.Ya;\n  }, i.prototype.P = function () {\n    return this.xi;\n  }, i.prototype.eh = function (t) {\n    var i = t.priceScaleId;void 0 !== i && i !== this.xi.priceScaleId && this.ct().Qa(this, i), v(this.xi, t), null !== this.ei && void 0 !== t.scaleMargins && this.ei.eh({ scaleMargins: t.scaleMargins }), void 0 !== t.priceFormat && this.Ja(), this.ct().io(this);\n  }, i.prototype.no = function () {\n    this.G.ya(), this.Ga();\n  }, i.prototype.ho = function (t, i) {\n    i && this.G.ya(), this.G.wn(t), this.so(), this.Ai.B(\"data\"), this.Ni.B(\"data\");var n = this.ct().Cu(this);this.ct().ro(n), this.ct().io(this), this.ct().eo(), this.ct().Lr();\n  }, i.prototype.uo = function (t) {\n    this.Ka = t.map(function (t) {\n      return _u({}, t);\n    }), this.so();var i = this.ct().Cu(this);this.Ni.B(\"data\"), this.ct().ro(i), this.ct().io(this), this.ct().eo(), this.ct().Lr();\n  }, i.prototype.Xu = function () {\n    return this.$a;\n  }, i.prototype.ao = function (t) {\n    var i = new zi(this, t);return this.qa.push(i), this.ct().io(this), i;\n  }, i.prototype.oo = function (t) {\n    var i = this.qa.indexOf(t);-1 !== i && this.qa.splice(i, 1), this.ct().io(this);\n  }, i.prototype.fa = function () {\n    return this.Xa;\n  }, i.prototype.q = function () {\n    var t = this.lo();return null === t ? null : { Z: t.Z[3], Wh: t.V };\n  }, i.prototype.lo = function () {\n    var t = this.ct().j()._r();if (null === t) return null;var i = t.rs();return this.G.Da(i, 1);\n  }, i.prototype.qi = function () {\n    return this.G;\n  }, i.prototype.Zu = function (t) {\n    var i = this.G.ba(t);return null === i ? null : \"Bar\" === this.Xa || \"Candlestick\" === this.Xa ? { open: i.Z[0], high: i.Z[1], low: i.Z[2], close: i.Z[3] } : i.Z[3];\n  }, i.prototype.ci = function () {\n    var t = [];this.fo() || t.push(this.Ha);for (var i = 0, n = this.qa; i < n.length; i++) {\n      var h = n[i];t.push(h.oa());\n    }return t.push(this.Ai), t.push(this.aa), t.push(this.Za), t.push(this.Ni), t;\n  }, i.prototype.fi = function (t, i) {\n    for (var n = i === this.ei || this.fo() ? a(this.bi) : [], h = 0, s = this.qa; h < s.length; h++) {\n      var r = s[h];n.push(r.la());\n    }return n;\n  }, i.prototype.ss = function (t, i) {\n    var n = this;if (void 0 !== this.xi.autoscaleInfoProvider) {\n      var h = this.xi.autoscaleInfoProvider(function () {\n        var h = n.co(t, i);return null === h ? null : h.mn();\n      });return Bi.gn(h);\n    }return this.co(t, i);\n  }, i.prototype.ns = function () {\n    return this.xi.priceFormat.minMove;\n  }, i.prototype.$h = function () {\n    return this.Gn;\n  }, i.prototype.Wi = function () {\n    this.Ai.B(), this.Ni.B();for (var t = 0, i = this.bi; t < i.length; t++) {\n      i[t].B();\n    }for (var n = 0, h = this.qa; n < h.length; n++) {\n      h[n].B();\n    }this.aa.B(), this.Ha.B();\n  }, i.prototype.X = function () {\n    return f(this.ei);\n  }, i.prototype.U = function (t) {\n    if (!((\"Line\" === this.Xa || \"Area\" === this.Xa) && this.xi.crosshairMarkerVisible)) return null;var i = this.G.ba(t);return null === i ? null : { O: i.Z[3], k: this.vo() };\n  }, i.prototype.ta = function () {\n    return this.xi.title;\n  }, i.prototype.fo = function () {\n    return !It(this.X().rh());\n  }, i.prototype.co = function (t, i) {\n    if (!d(t) || !d(i) || this.G.Qt()) return null;var n = \"Line\" === this.Xa || \"Area\" === this.Xa || \"Histogram\" === this.Xa ? [3] : [2, 1],\n        h = this.G.Ta(t, i, n),\n        s = null !== h ? new Q(h.Ra, h.ja) : null;if (\"Histogram\" === this.fa()) {\n      var r = this.xi.base,\n          e = new Q(r, r);s = null !== s ? s.wn(e) : e;\n    }return new Bi(s, this.Ni.$u());\n  }, i.prototype.vo = function () {\n    switch (this.Xa) {case \"Line\":case \"Area\":\n        return this.xi.crosshairMarkerRadius;}return 0;\n  }, i.prototype.Ja = function () {\n    switch (this.xi.priceFormat.type) {case \"custom\":\n        this.Gn = { Xi: this.xi.priceFormat.formatter };break;case \"volume\":\n        this.Gn = new qt(this.xi.priceFormat.precision);break;case \"percent\":\n        this.Gn = new J(this.xi.priceFormat.precision);break;default:\n        var t = Math.pow(10, this.xi.priceFormat.precision);this.Gn = new Z(t, this.xi.priceFormat.minMove * t, !1, void 0);}null !== this.ei && this.ei.uh();\n  }, i.prototype.so = function () {\n    var t = this,\n        i = this.ct().j();if (i.Qt() || 0 === this.G.Ye()) this.$a = [];else {\n      var n = f(this.G.xa());this.$a = this.Ka.map(function (h, s) {\n        var r = f(i.vr(h.time, !0)),\n            e = r < n ? 1 : -1;return { time: f(t.G.Da(r, e)).zs, position: h.position, shape: h.shape, color: h.color, id: h.id, Pu: s, text: h.text, size: h.size };\n      });\n    }\n  }, i.prototype.Ga = function () {\n    switch (this.Ni = new Ai(this, this.ct()), this.Xa) {case \"Bar\":\n        this.Ai = new si(this, this.ct());break;case \"Candlestick\":\n        this.Ai = new ei(this, this.ct());break;case \"Line\":\n        this.Ai = new fi(this, this.ct());break;case \"Area\":\n        this.Ai = new ii(this, this.ct());break;case \"Histogram\":\n        this.Ai = new li(this, this.ct());break;default:\n        throw Error(\"Unknown chart style assigned: \" + this.Xa);}\n  }, i;\n}(Oi),\n    Ui = function () {\n  function t(t) {\n    this.xi = t;\n  }return t.prototype._o = function (t, i, n) {\n    var h = t;if (0 === this.xi.mode) return h;var s = n.Di(),\n        r = s.q();if (null === r) return h;var e = s.$(t, r),\n        u = n.Vh().filter(function (t) {\n      return t instanceof ji;\n    }).reduce(function (t, h) {\n      if (n.Tu(h)) return t;var s = h.X(),\n          r = h.qi();if (s.Qt() || !r.Ls(i)) return t;var e = r.ba(i);if (null === e) return t;var u = c(h.q());return t.concat([s.$(e.Z[3], u.Z)]);\n    }, []);if (0 === u.length) return h;u.sort(function (t, i) {\n      return Math.abs(t - e) - Math.abs(i - e);\n    });var a = u[0];return h = s.Ci(a, r);\n  }, t;\n}(),\n    qi = function () {\n  function t(t, i) {\n    this.Kn = [], this.do = new Map(), this.zn = 0, this.Hs = 0, this.wo = 1e3, this.$n = null, this.Mo = new G(), this.bo = t, this.hi = i;var n = i.P();this.mo = this.po(\"left\", n.leftPriceScale), this.yo = this.po(\"right\", n.rightPriceScale), this.mo.mh().tn(this.ko.bind(this, this.mo), this), this.yo.mh().tn(this.ko.bind(this, this.mo), this), this.xo(n);\n  }return t.prototype.xo = function (t) {\n    if (t.leftPriceScale && this.mo.eh(t.leftPriceScale), t.rightPriceScale && this.yo.eh(t.rightPriceScale), t.localization && (this.mo.uh(), this.yo.uh()), t.overlayPriceScales) for (var i = 0, n = Array.from(this.do.values()); i < n.length; i++) {\n      var h = f(n[i][0].X());h.eh(t.overlayPriceScales), t.localization && h.uh();\n    }\n  }, t.prototype.No = function (t) {\n    switch (t) {case \"left\":\n        return this.mo;case \"right\":\n        return this.yo;}return this.do.has(t) ? l(this.do.get(t))[0].X() : null;\n  }, t.prototype.an = function () {\n    this.ct().So().rn(this), this.mo.mh().rn(this), this.yo.mh().rn(this), this.Kn.forEach(function (t) {\n      t.an && t.an();\n    }), this.Mo.en();\n  }, t.prototype.Do = function () {\n    return this.wo;\n  }, t.prototype.Co = function (t) {\n    this.wo = t;\n  }, t.prototype.ct = function () {\n    return this.hi;\n  }, t.prototype.dt = function () {\n    return this.Hs;\n  }, t.prototype.wt = function () {\n    return this.zn;\n  }, t.prototype.kr = function (t) {\n    this.Hs = t, this.To();\n  }, t.prototype.gh = function (t) {\n    var i = this;this.zn = t, this.mo.gh(t), this.yo.gh(t), this.Kn.forEach(function (n) {\n      if (i.Tu(n)) {\n        var h = n.X();null !== h && h.gh(t);\n      }\n    }), this.To();\n  }, t.prototype.Vh = function () {\n    return this.Kn;\n  }, t.prototype.Tu = function (t) {\n    var i = t.X();return null === i || this.mo !== i && this.yo !== i;\n  }, t.prototype.Oh = function (t, i, n) {\n    var h = void 0 !== n ? n : this.Eo().Ao - 1;this.Lo(t, i, h);\n  }, t.prototype.Ih = function (t) {\n    var i = this.Kn.indexOf(t);o(-1 !== i, \"removeDataSource: invalid data source\"), this.Kn.splice(i, 1);var n = f(t.X()).rh();if (this.do.has(n)) {\n      var h = l(this.do.get(n)),\n          s = h.indexOf(t);-1 !== s && (h.splice(s, 1), 0 === h.length && this.do.delete(n));\n    }var r = t.X();r && r.Vh().indexOf(t) >= 0 && r.Ih(t), null !== r && (r.Ph(), this.Bo(r)), this.$n = null;\n  }, t.prototype.Au = function (t) {\n    return t === this.mo ? \"left\" : t === this.yo ? \"right\" : \"overlay\";\n  }, t.prototype.Fo = function () {\n    return this.mo;\n  }, t.prototype.Vo = function () {\n    return this.yo;\n  }, t.prototype.zo = function (t, i) {\n    t.jh(i);\n  }, t.prototype.Oo = function (t, i) {\n    t.Uh(i), this.To();\n  }, t.prototype.Po = function (t) {\n    t.qh();\n  }, t.prototype.Io = function (t, i) {\n    t.Hh(i);\n  }, t.prototype.Wo = function (t, i) {\n    t.Yh(i), this.To();\n  }, t.prototype.Ro = function (t) {\n    t.Kh();\n  }, t.prototype.To = function () {\n    this.Kn.forEach(function (t) {\n      t.Wi();\n    });\n  }, t.prototype.Di = function () {\n    var t = null;return this.hi.P().rightPriceScale.visible && 0 !== this.yo.Vh().length ? t = this.yo : this.hi.P().leftPriceScale.visible && 0 !== this.mo.Vh().length ? t = this.mo : 0 !== this.Kn.length && (t = this.Kn[0].X()), null === t && (t = this.yo), t;\n  }, t.prototype.Bo = function (t) {\n    null !== t && t.fh() && this.jo(t);\n  }, t.prototype.Uo = function (t) {\n    var i = this.bo._r();t.ah({ dh: !0 }), null !== i && t.ts(i), this.To();\n  }, t.prototype.qo = function () {\n    this.jo(this.mo), this.jo(this.yo);\n  }, t.prototype.Ho = function () {\n    var t = this;this.Bo(this.mo), this.Bo(this.yo), this.Kn.forEach(function (i) {\n      t.Tu(i) && t.Bo(i.X());\n    }), this.To(), this.hi.Lr();\n  }, t.prototype.zh = function () {\n    return null === this.$n && (this.$n = dt(this.Kn)), this.$n;\n  }, t.prototype.Yo = function () {\n    return this.Mo;\n  }, t.prototype.jo = function (t) {\n    var i = t.Qh();if (i && i.length > 0 && !this.bo.Qt()) {\n      var n = this.bo._r();null !== n && t.ts(n);\n    }t.Wi();\n  }, t.prototype.Eo = function () {\n    var t = this.zh();if (0 === t.length) return { Ao: 0, Ko: 0 };for (var i = 0, n = 0, h = 0; h < t.length; h++) {\n      var s = t[h].ai();null !== s && (s < i && (i = s), s > n && (n = s));\n    }return { Ao: i, Ko: n };\n  }, t.prototype.Lo = function (t, i, n) {\n    var h = this.No(i);if (null === h && (h = this.po(i, this.hi.P().overlayPriceScales)), this.Kn.push(t), !It(i)) {\n      var s = this.do.get(i) || [];s.push(t), this.do.set(i, s);\n    }h.Oh(t), t.li(h), t.oi(n), this.Bo(h), this.$n = null;\n  }, t.prototype.ko = function (t, i, n) {\n    i.oh !== n.oh && this.jo(t);\n  }, t.prototype.po = function (t, i) {\n    var n = _u({ visible: !0, autoScale: !0 }, b(i)),\n        h = new mt(t, n, this.hi.P().layout, this.hi.P().localization);return h.gh(this.wt()), h;\n  }, t;\n}(),\n    Hi = function (t) {\n  function i(i) {\n    var n = t.call(this) || this;return n.$o = new Map(), n.G = i, n;\n  }return e(i, t), i.prototype.s = function (t) {}, i.prototype.o = function (t) {\n    if (this.G.tt) {\n      t.save();for (var i = 0, n = 0, h = this.G.Xo; n < h.length; n++) {\n        if (0 !== (a = h[n]).Lt.length) {\n          t.font = a.kt;var s = this.Zo(t, a.Lt);s > this.G.dt ? a.Pr = this.G.dt / s : a.Pr = 1, i += a.Jo * a.Pr;\n        }\n      }var r = 0;switch (this.G.Go) {case \"top\":\n          r = 0;break;case \"center\":\n          r = Math.max((this.G.wt - i) / 2, 0);break;case \"bottom\":\n          r = Math.max(this.G.wt - i, 0);}t.fillStyle = this.G.et;for (var e = 0, u = this.G.Xo; e < u.length; e++) {\n        var a = u[e];t.save();var o = 0;switch (this.G.Qo) {case \"left\":\n            t.textAlign = \"left\", o = a.Jo / 2;break;case \"center\":\n            t.textAlign = \"center\", o = this.G.dt / 2;break;case \"right\":\n            t.textAlign = \"right\", o = this.G.dt - 1 - a.Jo / 2;}t.translate(o, r), t.textBaseline = \"top\", t.font = a.kt, t.scale(a.Pr, a.Pr), t.fillText(a.Lt, 0, a.tl), t.restore(), r += a.Jo * a.Pr;\n      }t.restore();\n    }\n  }, i.prototype.Zo = function (t, i) {\n    var n = this.il(t.font),\n        h = n.get(i);return void 0 === h && (h = t.measureText(i).width, n.set(i, h)), h;\n  }, i.prototype.il = function (t) {\n    var i = this.$o.get(t);return void 0 === i && (i = new Map(), this.$o.set(t, i)), i;\n  }, i;\n}(y),\n    Yi = function () {\n  function t(t) {\n    this.T = !0, this.at = { tt: !1, et: \"\", wt: 0, dt: 0, Xo: [], Go: \"center\", Qo: \"center\" }, this.ot = new Hi(this.at), this.lt = t;\n  }return t.prototype.B = function () {\n    this.T = !0;\n  }, t.prototype.I = function (t, i) {\n    return this.T && (this.W(t, i), this.T = !1), this.ot;\n  }, t.prototype.W = function (t, i) {\n    var n = this.lt.P(),\n        h = this.at;h.tt = n.visible, h.tt && (h.et = n.color, h.dt = i, h.wt = t, h.Qo = n.horzAlign, h.Go = n.vertAlign, h.Xo = [{ Lt: n.text, kt: Ot(n.fontSize, n.fontFamily, n.fontStyle), Jo: 1.2 * n.fontSize, tl: 0, Pr: 0 }]);\n  }, t;\n}(),\n    Ki = function (t) {\n  function i(i, n) {\n    var h = t.call(this) || this;return h.xi = n, h.Ai = new Yi(h), h;\n  }return e(i, t), i.prototype.ci = function () {\n    return [this.Ai];\n  }, i.prototype.P = function () {\n    return this.xi;\n  }, i.prototype.Wi = function () {\n    this.Ai.B();\n  }, i;\n}(H),\n    $i = function () {\n  function t(t, i) {\n    this.nl = [], this.hl = [], this.Hs = 0, this.sl = null, this.rl = null, this.el = new G(), this.ul = new G(), this.al = t, this.xi = i, this.ol = new Pt(this), this.bo = new Bt(this, i.timeScale, this.xi.localization), this.ll = new jt(), this.L = new Y(this, i.crosshair), this.fl = new Ui(i.crosshair), this.cl = new Ki(this, i.watermark), this.vl(), this.nl[0].Co(2e3);\n  }return t.prototype._l = function () {\n    this.dl(new Ut(3));\n  }, t.prototype.Lr = function () {\n    this.dl(new Ut(2));\n  }, t.prototype.io = function (t) {\n    var i = this.wl(t);this.dl(i);\n  }, t.prototype.Ml = function () {\n    return this.rl;\n  }, t.prototype.bl = function (t) {\n    var i = this.rl;this.rl = t, null !== i && this.io(i.ml), null !== t && this.io(t.ml);\n  }, t.prototype.P = function () {\n    return this.xi;\n  }, t.prototype.eh = function (t) {\n    v(this.xi, t), this.nl.forEach(function (i) {\n      return i.xo(t);\n    }), void 0 !== t.timeScale && this.bo.eh(t.timeScale), void 0 !== t.localization && this.bo.ur(t.localization), (t.leftPriceScale || t.rightPriceScale) && this.el.en(), this._l();\n  }, t.prototype.gl = function (t, i) {\n    var n = this.pl(t);null !== n && (n.X.eh(i), this.el.en());\n  }, t.prototype.pl = function (t) {\n    for (var i = 0, n = this.nl; i < n.length; i++) {\n      var h = n[i],\n          s = h.No(t);if (null !== s) return { ft: h, X: s };\n    }return null;\n  }, t.prototype.j = function () {\n    return this.bo;\n  }, t.prototype.yl = function () {\n    return this.nl;\n  }, t.prototype.kl = function () {\n    return this.ll;\n  }, t.prototype.xl = function () {\n    return this.cl;\n  }, t.prototype.Nl = function () {\n    return this.L;\n  }, t.prototype.Sl = function () {\n    return this.ul;\n  }, t.prototype.Dl = function (t, i) {\n    t.gh(i), this.Er();\n  }, t.prototype.kr = function (t) {\n    this.Hs = t, this.bo.kr(this.Hs), this.nl.forEach(function (i) {\n      return i.kr(t);\n    }), this.Er();\n  }, t.prototype.vl = function (t) {\n    var i = new qi(this.bo, this);void 0 !== t ? this.nl.splice(t, 0, i) : this.nl.push(i);var n = void 0 === t ? this.nl.length - 1 : t,\n        h = new Ut(3);return h.ye(n, { ke: 0, dh: !0 }), this.Me(h), i;\n  }, t.prototype.zo = function (t, i, n) {\n    t.zo(i, n);\n  }, t.prototype.Oo = function (t, i, n) {\n    t.Oo(i, n), this.eo(), this.dl(this.Cl(t, 2));\n  }, t.prototype.Po = function (t, i) {\n    t.Po(i), this.dl(this.Cl(t, 2));\n  }, t.prototype.Io = function (t, i, n) {\n    i.fh() || t.Io(i, n);\n  }, t.prototype.Wo = function (t, i, n) {\n    i.fh() || (t.Wo(i, n), this.eo(), this.dl(this.Cl(t, 2)));\n  }, t.prototype.Ro = function (t, i) {\n    i.fh() || (t.Ro(i), this.dl(this.Cl(t, 2)));\n  }, t.prototype.Uo = function (t, i) {\n    t.Uo(i), this.dl(this.Cl(t, 2));\n  }, t.prototype.Tl = function (t) {\n    this.bo.jh(t);\n  }, t.prototype.Al = function (t, i) {\n    var n = this.j();if (!n.Qt() && 0 !== i) {\n      var h = n.dt();t = Math.max(1, Math.min(t, h)), n.Pr(t, i), this.Er();\n    }\n  }, t.prototype.El = function (t) {\n    this.Ll(0), this.Bl(t), this.Fl();\n  }, t.prototype.Vl = function (t) {\n    this.bo.Uh(t), this.Er();\n  }, t.prototype.zl = function () {\n    this.bo.qh(), this.Lr();\n  }, t.prototype.Ll = function (t) {\n    this.sl = t, this.bo.Hh(t);\n  }, t.prototype.Bl = function (t) {\n    var i = !1;return null !== this.sl && Math.abs(t - this.sl) > 20 && (this.sl = null, i = !0), this.bo.Yh(t), this.Er(), i;\n  }, t.prototype.Fl = function () {\n    this.bo.Kh(), this.Lr(), this.sl = null;\n  }, t.prototype.Ol = function () {\n    this.bo.zr(), this.Er();\n  }, t.prototype.Me = function (t) {\n    this.al && this.al(t), this.ll.Me(), this.Lr();\n  }, t.prototype.F = function () {\n    return this.hl;\n  }, t.prototype.Pl = function (t, i, n) {\n    this.L.Ei(t, i);var h = NaN,\n        s = this.bo.Tr(t),\n        r = this.bo._r();null !== r && (s = Math.min(Math.max(r.rs(), s), r.es()));var e = n.Di(),\n        u = e.q();null !== u && (h = e.Ci(i, u)), h = this.fl._o(h, s, n), this.L.Vi(s, h, n), this.Il(), this.ul.en(this.L.R(), { x: t, y: i });\n  }, t.prototype.Wl = function () {\n    this.Nl().Oi(), this.Il(), this.ul.en(null, null);\n  }, t.prototype.eo = function () {\n    var t = this.L.ft();if (null !== t) {\n      var i = this.L.Bi(),\n          n = this.L.Fi();this.Pl(i, n, t);\n    }\n  }, t.prototype.Rl = function (t, i) {\n    void 0 !== i && this.bo.B(i);var n = this.bo.Dr(),\n        h = this.bo._r();if (null !== h) {\n      var s = h.Ls(n);if (t > n && !s) {\n        var r = t - n;this.bo.cr(this.bo.Fr() - r);\n      }\n    }this.bo.Or(t);\n  }, t.prototype.ro = function (t) {\n    null !== t && t.Ho();\n  }, t.prototype.Cu = function (t) {\n    var i = this.nl.find(function (i) {\n      return i.zh().includes(t);\n    });return void 0 === i ? null : i;\n  }, t.prototype.Er = function () {\n    this.cl.Wi(), this.nl.forEach(function (t) {\n      return t.Ho();\n    }), this.eo();\n  }, t.prototype.an = function () {\n    this.nl.forEach(function (t) {\n      return t.an();\n    }), this.nl.length = 0, this.xi.localization.priceFormatter = void 0, this.xi.localization.timeFormatter = void 0;\n  }, t.prototype.jl = function () {\n    return this.ol;\n  }, t.prototype.Eu = function () {\n    return this.ol.P();\n  }, t.prototype.So = function () {\n    return this.el;\n  }, t.prototype.Ul = function (t, i) {\n    var n = this.nl[0],\n        h = this.ql(i, t, n);return this.hl.push(h), 1 === this.hl.length ? this._l() : this.Lr(), h;\n  }, t.prototype.Hl = function (t) {\n    var i = this.Cu(t),\n        n = this.hl.indexOf(t);o(-1 !== n, \"Series not found\"), this.hl.splice(n, 1), f(i).Ih(t), t.an && t.an();\n  }, t.prototype.Qa = function (t, i) {\n    var n = f(this.Cu(t));n.Ih(t);var h = this.pl(i);if (null === h) {\n      var s = t.ai();n.Oh(t, i, s);\n    } else {\n      s = h.ft === n ? t.ai() : void 0;h.ft.Oh(t, i, s);\n    }\n  }, t.prototype.Kr = function () {\n    var t = new Ut(2);t.Se(), this.dl(t);\n  }, t.prototype.Yl = function (t) {\n    var i = new Ut(2);i.$r(t), this.dl(i);\n  }, t.prototype.Kl = function () {\n    return this.xi.rightPriceScale.visible ? \"right\" : \"left\";\n  }, t.prototype.Cl = function (t, i) {\n    var n = new Ut(i);if (null !== t) {\n      var h = this.nl.indexOf(t);n.ye(h, { ke: i });\n    }return n;\n  }, t.prototype.wl = function (t, i) {\n    return void 0 === i && (i = 2), this.Cl(this.Cu(t), i);\n  }, t.prototype.dl = function (t) {\n    this.al && this.al(t), this.ll.Me();\n  }, t.prototype.Il = function () {\n    this.dl(new Ut(1));\n  }, t.prototype.ql = function (t, i, n) {\n    var h = new ji(this, t, i),\n        s = void 0 !== t.priceScaleId ? t.priceScaleId : this.Kl();return n.Oh(h, s), It(s) || h.eh(t), h;\n  }, t;\n}(),\n    Xi = function () {\n  function t(t, i) {\n    this.ht = t, this.st = i;\n  }return t.prototype.fn = function (t) {\n    return this.ht === t.ht && this.st === t.st;\n  }, t;\n}();function Zi(t) {\n  return t.ownerDocument && t.ownerDocument.defaultView && t.ownerDocument.defaultView.devicePixelRatio || 1;\n}function Ji(t) {\n  var i = f(t.getContext(\"2d\"));return i.setTransform(1, 0, 0, 1, 0, 0), i;\n}function Gi(t) {\n  var i = t.createElement(\"canvas\");return function (t) {\n    t.style.userSelect = \"none\", t.style.webkitUserSelect = \"none\", t.style.msUserSelect = \"none\", t.style.MozUserSelect = \"none\", t.style.webkitTapHighlightColor = \"transparent\";\n  }(i), i;\n}function Qi(t, i) {\n  var n = Gi(t),\n      h = Zi(n);return n.style.width = i.ht + \"px\", n.style.height = i.st + \"px\", n.width = i.ht * h, n.height = i.st * h, n;\n}function tn(i, n) {\n  var h = Gi(f(i.ownerDocument));i.appendChild(h);var s = (0, _coordinateSpace.bindToDevicePixelRatio)(h);return s.resizeCanvas({ width: n.ht, height: n.st }), s;\n}var nn = \"undefined\" != typeof window;var hn = function () {\n  if (!nn) return !1;var t = !!navigator.maxTouchPoints || !!navigator.msMaxTouchPoints || !!nn && (\"ontouchstart\" in window || Boolean(window.DocumentTouch && document instanceof window.DocumentTouch));return \"onorientationchange\" in window && t;\n}();var sn = function () {\n  if (!nn) return !1;var t = /Android/i.test(navigator.userAgent),\n      i = /iPhone|iPad|iPod|AppleWebKit.+Mobile/i.test(navigator.userAgent);return t || i;\n}(),\n    rn = function () {\n  function t(t, i, n) {\n    this.$l = 0, this.Xl = null, this.Zl = null, this.Jl = !1, this.Gl = null, this.Ql = !1, this.tf = !1, this.if = null, this.nf = null, this.hf = null, this.sf = null, this.rf = 0, this.ef = !1, this.uf = !1, this.af = !1, this.lf = t, this.ff = i, this.xi = n, this.cf();\n  }return t.prototype.an = function () {\n    null !== this.if && (this.if(), this.if = null), null !== this.nf && (this.nf(), this.nf = null), null !== this.hf && (this.hf(), this.hf = null), this.vf(), this._f();\n  }, t.prototype.df = function (t) {\n    var i = this;this.nf && this.nf();var n = this.wf.bind(this);this.nf = function () {\n      i.lf.removeEventListener(\"mousemove\", n);\n    }, this.lf.addEventListener(\"mousemove\", n), an(t) && this.wf(t);var h = this.Mf(t);this.bf(h, this.ff.mf);\n  }, t.prototype._f = function () {\n    null !== this.Xl && clearTimeout(this.Xl), this.$l = 0, this.Xl = null;\n  }, t.prototype.wf = function (t) {\n    if (!this.af || an(t)) {\n      var i = this.Mf(t);this.bf(i, this.ff.gf);\n    }\n  }, t.prototype.pf = function (t) {\n    if ((!(\"button\" in t) || 0 === t.button) && null === this.sf) {\n      var i = an(t);if (!this.uf || !i) {\n        this.ef = !0;var n = this.Mf(t),\n            h = c(this.Gl),\n            s = Math.abs(h.m - n.yf),\n            r = Math.abs(h.g - n.kf),\n            e = s + r > 5;if (e || !i) {\n          if (e && !this.Ql && i) {\n            var u = .5 * s,\n                a = r >= u && !this.xi.xf,\n                o = u > r && !this.xi.Nf;a || o || (this.uf = !0);\n          }e && (this.Ql = !0, this.tf = !0, i && this.vf()), this.uf || (this.bf(n, this.ff.Sf), i && on(t));\n        }\n      }\n    }\n  }, t.prototype.Df = function (t) {\n    if (!(\"button\" in t) || 0 === t.button) {\n      var i = this.Mf(t);this.vf(), this.Gl = null, this.af = !1, this.hf && (this.hf(), this.hf = null), an(t) && this.Cf(t), this.bf(i, this.ff.Tf), ++this.$l, this.Xl && this.$l > 1 ? (this.bf(i, this.ff.Af), this._f()) : this.tf || this.bf(i, this.ff.Ef), an(t) && (on(t), this.Cf(t), 0 === t.touches.length && (this.Jl = !1));\n    }\n  }, t.prototype.vf = function () {\n    null !== this.Zl && (clearTimeout(this.Zl), this.Zl = null);\n  }, t.prototype.Lf = function (t) {\n    if (!(\"button\" in t) || 0 === t.button) {\n      var i = this.Mf(t);this.tf = !1, this.Ql = !1, this.uf = !1, an(t) && this.df(t), this.Gl = { m: i.yf, g: i.kf }, this.hf && (this.hf(), this.hf = null);var n = this.pf.bind(this),\n          h = this.Df.bind(this),\n          s = this.lf.ownerDocument.documentElement;this.hf = function () {\n        s.removeEventListener(\"touchmove\", n), s.removeEventListener(\"touchend\", h), s.removeEventListener(\"mousemove\", n), s.removeEventListener(\"mouseup\", h);\n      }, s.addEventListener(\"touchmove\", n, { passive: !1 }), s.addEventListener(\"touchend\", h, { passive: !1 }), this.vf(), an(t) && 1 === t.touches.length ? this.Zl = setTimeout(this.Bf.bind(this, t), 240) : (s.addEventListener(\"mousemove\", n), s.addEventListener(\"mouseup\", h)), this.af = !0, this.bf(i, this.ff.Ff), this.Xl || (this.$l = 0, this.Xl = setTimeout(this._f.bind(this), 500));\n    }\n  }, t.prototype.cf = function () {\n    var t = this;this.lf.addEventListener(\"mouseenter\", this.df.bind(this)), this.lf.addEventListener(\"touchcancel\", this.vf.bind(this));var i = this.lf.ownerDocument,\n        n = function n(i) {\n      t.ff.Vf && (i.composed && t.lf.contains(i.composedPath()[0]) || i.target && t.lf.contains(i.target) || t.ff.Vf());\n    };this.if = function () {\n      i.removeEventListener(\"mousedown\", n), i.removeEventListener(\"touchstart\", n);\n    }, i.addEventListener(\"mousedown\", n), i.addEventListener(\"touchstart\", n, { passive: !0 }), this.lf.addEventListener(\"mouseleave\", this.Cf.bind(this)), this.lf.addEventListener(\"touchstart\", this.Lf.bind(this), { passive: !0 }), hn || this.lf.addEventListener(\"mousedown\", this.Lf.bind(this)), this.zf(), this.lf.addEventListener(\"touchmove\", function () {}, { passive: !1 });\n  }, t.prototype.zf = function () {\n    var t = this;void 0 === this.ff.Of && void 0 === this.ff.Pf && void 0 === this.ff.If || (this.lf.addEventListener(\"touchstart\", function (i) {\n      return t.Wf(i.touches);\n    }, { passive: !0 }), this.lf.addEventListener(\"touchmove\", function (i) {\n      if (2 === i.touches.length && null !== t.sf && void 0 !== t.ff.Pf) {\n        var n = un(i.touches[0], i.touches[1]) / t.rf;t.ff.Pf(t.sf, n), on(i);\n      }\n    }, { passive: !1 }), this.lf.addEventListener(\"touchend\", function (i) {\n      t.Wf(i.touches);\n    }));\n  }, t.prototype.Wf = function (t) {\n    1 === t.length && (this.ef = !1), 2 !== t.length || this.ef || this.Jl ? this.Rf() : this.jf(t);\n  }, t.prototype.jf = function (t) {\n    var i = en(this.lf);this.sf = { m: (t[0].clientX - i.left + (t[1].clientX - i.left)) / 2, g: (t[0].clientY - i.top + (t[1].clientY - i.top)) / 2 }, this.rf = un(t[0], t[1]), void 0 !== this.ff.Of && this.ff.Of(), this.vf();\n  }, t.prototype.Rf = function () {\n    null !== this.sf && (this.sf = null, void 0 !== this.ff.If && this.ff.If());\n  }, t.prototype.Cf = function (t) {\n    this.nf && this.nf();var i = this.Mf(t);this.bf(i, this.ff.Uf);\n  }, t.prototype.Bf = function (t) {\n    var i = this.Mf(t);this.bf(i, this.ff.qf), this.tf = !0, this.Jl = !0;\n  }, t.prototype.bf = function (t, i) {\n    i && i.call(this.ff, t);\n  }, t.prototype.Mf = function (t) {\n    var i;i = \"touches\" in t && t.touches.length ? t.touches[0] : \"changedTouches\" in t && t.changedTouches.length ? t.changedTouches[0] : t;var n = en(this.lf);return { Hf: i.clientX, Yf: i.clientY, yf: i.pageX, kf: i.pageY, Kf: i.screenX, $f: i.screenY, Xf: i.clientX - n.left, Zf: i.clientY - n.top, Jf: t.ctrlKey, Gf: t.altKey, Qf: t.shiftKey, tc: t.metaKey, ic: t.type.startsWith(\"mouse\") ? \"mouse\" : \"touch\", nc: t.view };\n  }, t;\n}();function en(t) {\n  return t.getBoundingClientRect() || { left: 0, top: 0 };\n}function un(t, i) {\n  var n = t.clientX - i.clientX,\n      h = t.clientY - i.clientY;return Math.sqrt(n * n + h * h);\n}function an(t) {\n  return Boolean(t.touches);\n}function on(t) {\n  t.cancelable && t.preventDefault();\n}var ln = function () {\n  function t(t, i, n, h) {\n    this.xu = new vi(200), this.se = 0, this.hc = \"\", this.Vu = \"\", this.gu = [], this.sc = new Map(), this.se = t, this.hc = i, this.Vu = Ot(t, n, h);\n  }return t.prototype.an = function () {\n    delete this.xu, this.gu = [], this.sc.clear();\n  }, t.prototype.rc = function (t, i, n, h, s) {\n    var r = this.ec(t, i);if (\"left\" !== s) {\n      var e = Zi(t.canvas);n -= Math.floor(r.uc * e);\n    }h -= Math.floor(r.wt / 2), t.drawImage(r.ac, n, h, r.dt, r.wt);\n  }, t.prototype.ec = function (t, i) {\n    var n,\n        h = this;if (this.sc.has(i)) n = l(this.sc.get(i));else {\n      if (this.gu.length >= 200) {\n        var s = l(this.gu.shift());this.sc.delete(s);\n      }var r = Zi(t.canvas),\n          e = Math.ceil(this.se / 4.5),\n          u = Math.round(this.se / 10),\n          a = Math.ceil(this.xu.Bt(t, i)),\n          o = ht(Math.round(a + 2 * e)),\n          f = ht(this.se + 2 * e),\n          c = Qi(document, new Xi(o, f));n = { Lt: i, uc: Math.round(Math.max(1, a)), dt: Math.ceil(o * r), wt: Math.ceil(f * r), ac: c }, 0 !== a && (this.gu.push(n.Lt), this.sc.set(n.Lt, n)), z(t = Ji(n.ac), r, function () {\n        t.font = h.Vu, t.fillStyle = h.hc, t.fillText(i, 0, f - e - u);\n      });\n    }return n;\n  }, t;\n}(),\n    fn = function () {\n  function t(t, i, n, h) {\n    var s = this;this.Jt = null, this.oc = null, this.lc = null, this.fc = !1, this.cc = new vi(50), this.vc = new ln(11, \"#000\"), this.hc = null, this.Vu = null, this._c = 0, this.dc = function () {\n      s.wc(s.ol.P()), s._i.Mc().ct().Lr();\n    }, this.bc = function () {\n      s._i.Mc().ct().Lr();\n    }, this._i = t, this.xi = i, this.ol = n, this.mc = \"left\" === h, this.gc = document.createElement(\"div\"), this.gc.style.height = \"100%\", this.gc.style.overflow = \"hidden\", this.gc.style.width = \"25px\", this.gc.style.left = \"0\", this.gc.style.position = \"relative\", this.pc = tn(this.gc, new Xi(16, 16)), this.pc.subscribeCanvasConfigured(this.dc);var r = this.pc.canvas;r.style.position = \"absolute\", r.style.zIndex = \"1\", r.style.left = \"0\", r.style.top = \"0\", this.yc = tn(this.gc, new Xi(16, 16)), this.yc.subscribeCanvasConfigured(this.bc);var e = this.yc.canvas;e.style.position = \"absolute\", e.style.zIndex = \"2\", e.style.left = \"0\", e.style.top = \"0\";var u = { Ff: this.kc.bind(this), Sf: this.xc.bind(this), Vf: this.Nc.bind(this), Tf: this.Sc.bind(this), Af: this.Dc.bind(this), mf: this.Cc.bind(this), Uf: this.Tc.bind(this) };this.Ac = new rn(this.yc.canvas, u, { xf: !1, Nf: !0 });\n  }return t.prototype.an = function () {\n    this.Ac.an(), this.yc.unsubscribeCanvasConfigured(this.bc), this.yc.destroy(), this.pc.unsubscribeCanvasConfigured(this.dc), this.pc.destroy(), null !== this.Jt && this.Jt.Rh().rn(this), this.Jt = null, null !== this.lc && (clearTimeout(this.lc), this.lc = null), this.vc.an();\n  }, t.prototype.Ec = function () {\n    return this.gc;\n  }, t.prototype.Lc = function () {\n    return this.xi.backgroundColor;\n  }, t.prototype.N = function () {\n    return f(this.Jt).P().borderColor;\n  }, t.prototype.Bc = function () {\n    return this.xi.textColor;\n  }, t.prototype.Vt = function () {\n    return this.xi.fontSize;\n  }, t.prototype.Fc = function () {\n    return Ot(this.Vt(), this.xi.fontFamily);\n  }, t.prototype.Vc = function () {\n    var t = this.ol.P(),\n        i = this.hc !== t.et,\n        n = this.Vu !== t.kt;return (i || n) && (this.wc(t), this.hc = t.et), n && (this.cc.pu(), this.Vu = t.kt), t;\n  }, t.prototype.zc = function () {\n    if (null === this.Jt) return 0;var t = 34,\n        i = this.Vc(),\n        n = Ji(this.pc.canvas),\n        h = this.Jt.Vn();n.font = this.Fc(), h.length > 0 && (t = Math.max(this.cc.Bt(n, h[0].Ln), this.cc.Bt(n, h[h.length - 1].Ln)));for (var s = this.Oc(), r = s.length; r--;) {\n      var e = this.cc.Bt(n, s[r].Lt());e > t && (t = e);\n    }var u = Math.ceil(i.Dt + i.St + i.At + i.Et + t);return u += u % 2;\n  }, t.prototype.Pc = function (t) {\n    if (t.ht < 0 || t.st < 0) throw new Error(\"Try to set invalid size to PriceAxisWidget \" + JSON.stringify(t));null !== this.oc && this.oc.fn(t) || (this.oc = t, this.pc.resizeCanvas({ width: t.ht, height: t.st }), this.yc.resizeCanvas({ width: t.ht, height: t.st }), this.gc.style.width = t.ht + \"px\", this.gc.style.height = t.st + \"px\", this.gc.style.minWidth = t.ht + \"px\");\n  }, t.prototype.Ic = function () {\n    return f(this.oc).ht;\n  }, t.prototype.li = function (t) {\n    this.Jt !== t && (null !== this.Jt && this.Jt.Rh().rn(this), this.Jt = t, t.Rh().tn(this.Hn.bind(this), this));\n  }, t.prototype.X = function () {\n    return this.Jt;\n  }, t.prototype.pu = function () {\n    var t = this._i.Wc();this._i.Mc().ct().Uo(t, f(this.X()));\n  }, t.prototype.Rc = function (t) {\n    if (null !== this.oc) {\n      if (1 !== t) {\n        var i = Ji(this.pc.canvas);this.jc(), this.Uc(i, this.pc.pixelRatio), this.uu(i, this.pc.pixelRatio), this.qc(i, this.pc.pixelRatio), this.Hc(i, this.pc.pixelRatio);\n      }var n = Ji(this.yc.canvas),\n          h = this.oc.ht,\n          s = this.oc.st;z(n, this.yc.pixelRatio, function () {\n        n.clearRect(0, 0, h, s);\n      }), this.Yc(n, this.yc.pixelRatio);\n    }\n  }, t.prototype.Kc = function () {\n    return this.pc.canvas;\n  }, t.prototype.kc = function (t) {\n    if (null !== this.Jt && !this.Jt.Qt() && this._i.Mc().P().handleScale.axisPressedMouseMove.price) {\n      var i = this._i.Mc().ct(),\n          n = this._i.Wc();this.fc = !0, i.zo(n, this.Jt, t.Zf);\n    }\n  }, t.prototype.xc = function (t) {\n    if (null !== this.Jt && this._i.Mc().P().handleScale.axisPressedMouseMove.price) {\n      var i = this._i.Mc().ct(),\n          n = this._i.Wc(),\n          h = this.Jt;i.Oo(n, h, t.Zf);\n    }\n  }, t.prototype.Nc = function () {\n    if (null !== this.Jt && this._i.Mc().P().handleScale.axisPressedMouseMove.price) {\n      var t = this._i.Mc().ct(),\n          i = this._i.Wc(),\n          n = this.Jt;this.fc && (this.fc = !1, t.Po(i, n));\n    }\n  }, t.prototype.Sc = function (t) {\n    if (null !== this.Jt && this._i.Mc().P().handleScale.axisPressedMouseMove.price) {\n      var i = this._i.Mc().ct(),\n          n = this._i.Wc();this.fc = !1, i.Po(n, this.Jt);\n    }\n  }, t.prototype.Dc = function (t) {\n    this._i.Mc().P().handleScale.axisDoubleClickReset && this.pu();\n  }, t.prototype.Cc = function (t) {\n    null !== this.Jt && (!this._i.Mc().ct().P().handleScale.axisPressedMouseMove.price || this.Jt.vh() || this.Jt._h() || this.$c(1));\n  }, t.prototype.Tc = function (t) {\n    this.$c(0);\n  }, t.prototype.Oc = function () {\n    var t = this,\n        i = [],\n        n = null === this.Jt ? void 0 : this.Jt;return function (h) {\n      for (var s = 0; s < h.length; ++s) {\n        for (var r = h[s].fi(t._i.Wc(), n), e = 0; e < r.length; e++) {\n          i.push(r[e]);\n        }\n      }\n    }(this._i.Wc().zh()), i;\n  }, t.prototype.Uc = function (t, i) {\n    var n = this;if (null !== this.oc) {\n      var h = this.oc.ht,\n          s = this.oc.st;z(t, i, function () {\n        O(t, 0, 0, h, s, n.Lc());\n      });\n    }\n  }, t.prototype.uu = function (t, i) {\n    if (null !== this.oc && null !== this.Jt && this.Jt.P().borderVisible) {\n      t.save(), t.fillStyle = this.N();var n,\n          h = Math.max(1, Math.floor(this.Vc().Dt * i));n = this.mc ? Math.floor(this.oc.ht * i) - h : 0, t.fillRect(n, 0, h, Math.ceil(this.oc.st * i)), t.restore();\n    }\n  }, t.prototype.qc = function (t, i) {\n    if (null !== this.oc && null !== this.Jt) {\n      var n = this.Jt.Vn();t.save(), t.strokeStyle = this.N(), t.font = this.Fc(), t.fillStyle = this.N();var h = this.Vc(),\n          s = this.Jt.P().borderVisible && this.Jt.P().drawTicks,\n          r = this.mc ? Math.floor((this.oc.ht - h.St) * i - h.Dt * i) : Math.floor(h.Dt * i),\n          e = this.mc ? Math.round(r - h.At * i) : Math.round(r + h.St * i + h.At * i),\n          u = this.mc ? \"right\" : \"left\",\n          a = Math.max(1, Math.floor(i)),\n          o = Math.floor(.5 * i);if (s) {\n        var l = Math.round(h.St * i);t.beginPath();for (var f = 0, c = n; f < c.length; f++) {\n          var v = c[f];t.rect(r, Math.round(v.En * i) - o, l, a);\n        }t.fill();\n      }t.fillStyle = this.Bc();for (var _ = 0, d = n; _ < d.length; _++) {\n        v = d[_];this.vc.rc(t, v.Ln, e, Math.round(v.En * i), u);\n      }t.restore();\n    }\n  }, t.prototype.jc = function () {\n    if (null !== this.oc && null !== this.Jt) {\n      var t = this.oc.st / 2,\n          i = [],\n          n = this.Jt.zh().slice(),\n          h = this._i.Wc(),\n          s = this.Vc();this.Jt === h.Di() && this._i.Wc().zh().forEach(function (t) {\n        h.Tu(t) && n.push(t);\n      });var r = this.Jt.Vh()[0],\n          e = this.Jt;n.forEach(function (n) {\n        var s = n.fi(h, e);s.forEach(function (t) {\n          t.Yt(null), t.Kt() && i.push(t);\n        }), r === n && s.length > 0 && (t = s[0].zt());\n      });var u = i.filter(function (i) {\n        return i.zt() <= t;\n      }),\n          a = i.filter(function (i) {\n        return i.zt() > t;\n      });if (u.sort(function (t, i) {\n        return i.zt() - t.zt();\n      }), u.length && a.length && a.push(u[0]), a.sort(function (t, i) {\n        return t.zt() - i.zt();\n      }), i.forEach(function (t) {\n        return t.Yt(t.zt());\n      }), this.Jt.P().alignLabels) {\n        for (var o = 1; o < u.length; o++) {\n          var l = u[o],\n              f = (v = u[o - 1]).wt(s, !1);l.zt() > (_ = v.Ht()) - f && l.Yt(_ - f);\n        }for (var c = 1; c < a.length; c++) {\n          var v, _;l = a[c], f = (v = a[c - 1]).wt(s, !0);l.zt() < (_ = v.Ht()) + f && l.Yt(_ + f);\n        }\n      }\n    }\n  }, t.prototype.Hc = function (t, i) {\n    var n = this;if (null !== this.oc) {\n      t.save();var h = this.oc,\n          s = this.Oc(),\n          r = this.Vc(),\n          e = this.mc ? \"right\" : \"left\";s.forEach(function (s) {\n        if (s.$t()) {\n          var u = s.I(f(n.Jt));t.save(), u.h(t, r, n.cc, h.ht, e, i), t.restore();\n        }\n      }), t.restore();\n    }\n  }, t.prototype.Yc = function (t, i) {\n    var n = this;if (null !== this.oc && null !== this.Jt) {\n      t.save();var h = this.oc,\n          s = this._i.Mc().ct(),\n          r = [],\n          e = this._i.Wc(),\n          u = s.Nl().fi(e, this.Jt);u.length && r.push(u);var a = this.Vc(),\n          o = this.mc ? \"right\" : \"left\";r.forEach(function (s) {\n        s.forEach(function (s) {\n          t.save(), s.I(f(n.Jt)).h(t, a, n.cc, h.ht, o, i), t.restore();\n        });\n      }), t.restore();\n    }\n  }, t.prototype.$c = function (t) {\n    this.gc.style.cursor = 1 === t ? \"ns-resize\" : \"default\";\n  }, t.prototype.Hn = function () {\n    var t = this,\n        i = this.zc();if (this._c < i) {\n      var n = this._i.Mc();null === this.lc && (this.lc = setTimeout(function () {\n        n && n.ct()._l(), t.lc = null;\n      }, 100));\n    }this._c = i;\n  }, t.prototype.wc = function (t) {\n    this.vc.an(), this.vc = new ln(t.Vt, t.et, t.he);\n  }, t;\n}(),\n    cn = sn,\n    vn = function () {\n  function t(t, i) {\n    var n = this;this.oc = new Xi(0, 0), this.Xc = null, this.Zc = null, this.Jc = null, this.Gc = !1, this.Qc = new G(), this.tv = 0, this.iv = !1, this.nv = null, this.hv = !1, this.sv = null, this.dc = function () {\n      return n.rv && n.hi().Lr();\n    }, this.bc = function () {\n      return n.rv && n.hi().Lr();\n    }, this.ev = t, this.rv = i, this.rv.Yo().tn(this.uv.bind(this), this, !0), this.av = document.createElement(\"td\"), this.av.style.padding = \"0\", this.av.style.position = \"relative\";var h = document.createElement(\"div\");h.style.width = \"100%\", h.style.height = \"100%\", h.style.position = \"relative\", h.style.overflow = \"hidden\", this.ov = document.createElement(\"td\"), this.ov.style.padding = \"0\", this.lv = document.createElement(\"td\"), this.lv.style.padding = \"0\", this.av.appendChild(h), this.pc = tn(h, new Xi(16, 16)), this.pc.subscribeCanvasConfigured(this.dc);var s = this.pc.canvas;s.style.position = \"absolute\", s.style.zIndex = \"1\", s.style.left = \"0\", s.style.top = \"0\", this.yc = tn(h, new Xi(16, 16)), this.yc.subscribeCanvasConfigured(this.bc);var r = this.yc.canvas;r.style.position = \"absolute\", r.style.zIndex = \"2\", r.style.left = \"0\", r.style.top = \"0\", this.fv = document.createElement(\"tr\"), this.fv.appendChild(this.ov), this.fv.appendChild(this.av), this.fv.appendChild(this.lv), this.cv();var e = this.Mc().P().handleScroll;this.Ac = new rn(this.yc.canvas, this, { xf: !e.vertTouchDrag, Nf: !e.horzTouchDrag });\n  }return t.prototype.an = function () {\n    null !== this.Xc && this.Xc.an(), null !== this.Zc && this.Zc.an(), this.yc.unsubscribeCanvasConfigured(this.bc), this.yc.destroy(), this.pc.unsubscribeCanvasConfigured(this.dc), this.pc.destroy(), null !== this.rv && this.rv.Yo().rn(this), this.Ac.an();\n  }, t.prototype.Wc = function () {\n    return f(this.rv);\n  }, t.prototype.vv = function (i) {\n    null !== this.rv && this.rv.Yo().rn(this), this.rv = i, null !== this.rv && this.rv.Yo().tn(t.prototype.uv.bind(this), this, !0), this.cv();\n  }, t.prototype.Mc = function () {\n    return this.ev;\n  }, t.prototype.Ec = function () {\n    return this.fv;\n  }, t.prototype.cv = function () {\n    if (null !== this.rv && (this._v(), 0 !== this.hi().F().length)) {\n      if (null !== this.Xc) {\n        var t = this.rv.Fo();this.Xc.li(f(t));\n      }if (null !== this.Zc) {\n        var i = this.rv.Vo();this.Zc.li(f(i));\n      }\n    }\n  }, t.prototype.Do = function () {\n    return null !== this.rv ? this.rv.Do() : 0;\n  }, t.prototype.Co = function (t) {\n    this.rv && this.rv.Co(t);\n  }, t.prototype.mf = function (t) {\n    if (this.rv) {\n      var i = t.Xf,\n          n = t.Zf;hn || this.dv(i, n);\n    }\n  }, t.prototype.Ff = function (t) {\n    if (this.iv = !1, this.hv = null !== this.nv, this.rv) {\n      if (document.activeElement !== document.body && document.activeElement !== document.documentElement) f(document.activeElement).blur();else {\n        var i = document.getSelection();null !== i && i.removeAllRanges();\n      }var n = this.hi();if (!this.rv.Di().Qt() && !n.j().Qt()) {\n        if (null !== this.nv) {\n          var h = n.Nl();this.sv = { x: h.Mt(), y: h.bt() }, this.nv = { x: t.Xf, y: t.Zf };\n        }hn || this.dv(t.Xf, t.Zf);\n      }\n    }\n  }, t.prototype.gf = function (t) {\n    if (this.rv) {\n      var i = t.Xf,\n          n = t.Zf;if (this.wv() && this.Mv(), !hn) {\n        this.dv(i, n);var h = this.zu(i, n);this.hi().bl(h && { ml: h.ml, bv: h.bv }), null !== h && void 0 !== h.nc.mv && h.nc.mv(i, n);\n      }\n    }\n  }, t.prototype.Ef = function (t) {\n    if (null !== this.rv) {\n      var i = t.Xf,\n          n = t.Zf,\n          h = this.zu(i, n);if (null !== h && void 0 !== h.nc.gv && h.nc.gv(i, n), this.Qc.un()) {\n        var s = this.hi().Nl().R();this.Qc.en(s, { x: i, y: n });\n      }this.pv();\n    }\n  }, t.prototype.Sf = function (t) {\n    if (null !== this.rv) {\n      var i = this.hi(),\n          n = t.Xf,\n          h = t.Zf;if (null !== this.nv) {\n        this.hv = !1;var s = f(this.sv),\n            r = s.x + (n - this.nv.x),\n            e = s.y + (h - this.nv.y);this.dv(r, e);\n      } else this.wv() || this.dv(n, h);if (!i.j().Qt()) {\n        var u = this.ev.P().handleScroll;if (u.pressedMouseMove && \"touch\" !== t.ic || (u.horzTouchDrag || u.vertTouchDrag) && \"mouse\" !== t.ic) {\n          var a = this.rv.Di();null !== this.Jc || this.yv() || (this.Jc = { x: t.Hf, y: t.Yf }), null === this.Jc || this.Jc.x === t.Hf && this.Jc.y === t.Yf || this.Gc || (a.Qt() || i.Io(this.rv, a, t.Zf), i.Ll(t.Xf), this.Gc = !0), this.Gc && (a.Qt() || i.Wo(this.rv, a, t.Zf), i.Bl(t.Xf));\n        }\n      }\n    }\n  }, t.prototype.Tf = function (t) {\n    if (null !== this.rv) {\n      this.iv = !1;var i = this.hi();if (this.Gc) {\n        var n = this.rv.Di();i.Ro(this.rv, n), i.Fl(), this.Jc = null, this.Gc = !1;\n      }\n    }\n  }, t.prototype.qf = function (t) {\n    if (this.iv = !0, null === this.nv && cn) {\n      var i = { x: t.Xf, y: t.Zf };this.kv(i, i);\n    }\n  }, t.prototype.Uf = function (t) {\n    null !== this.rv && (this.rv.ct().bl(null), sn || this.Mv());\n  }, t.prototype.xv = function () {\n    return this.Qc;\n  }, t.prototype.Of = function () {\n    this.tv = 1;\n  }, t.prototype.Pf = function (t, i) {\n    if (this.ev.P().handleScale.pinch) {\n      var n = 5 * (i - this.tv);this.tv = i, this.hi().Al(t.m, n);\n    }\n  }, t.prototype.zu = function (t, i) {\n    var n = this.rv;if (null === n) return null;for (var h = 0, s = n.zh(); h < s.length; h++) {\n      var r = s[h],\n          e = this.Nv(r.ci(n), t, i);if (null !== e) return { ml: r, nc: e.nc, bv: e.bv };\n    }return null;\n  }, t.prototype.Sv = function (t, i) {\n    f(\"left\" === i ? this.Xc : this.Zc).Pc(new Xi(t, this.oc.st));\n  }, t.prototype.Dv = function () {\n    return this.oc;\n  }, t.prototype.Pc = function (t) {\n    if (t.ht < 0 || t.st < 0) throw new Error(\"Try to set invalid size to PaneWidget \" + JSON.stringify(t));this.oc.fn(t) || (this.oc = t, this.pc.resizeCanvas({ width: t.ht, height: t.st }), this.yc.resizeCanvas({ width: t.ht, height: t.st }), this.av.style.width = t.ht + \"px\", this.av.style.height = t.st + \"px\");\n  }, t.prototype.Cv = function () {\n    var t = f(this.rv);t.Bo(t.Fo()), t.Bo(t.Vo());for (var i = 0, n = t.Vh(); i < n.length; i++) {\n      var h = n[i];if (t.Tu(h)) {\n        var s = h.X();null !== s && t.Bo(s), h.Wi();\n      }\n    }\n  }, t.prototype.Kc = function () {\n    return this.pc.canvas;\n  }, t.prototype.Rc = function (t) {\n    if (0 !== t && null !== this.rv) {\n      if (t > 1 && this.Cv(), null !== this.Xc && this.Xc.Rc(t), null !== this.Zc && this.Zc.Rc(t), 1 !== t) {\n        var i = Ji(this.pc.canvas);i.save(), this.Uc(i, this.Tv(), this.pc.pixelRatio), this.rv && (this.Av(i, this.pc.pixelRatio), this.Ev(i, this.pc.pixelRatio), this.Lv(i, this.pc.pixelRatio)), i.restore();\n      }var n = Ji(this.yc.canvas);n.clearRect(0, 0, Math.ceil(this.oc.ht * this.yc.pixelRatio), Math.ceil(this.oc.st * this.yc.pixelRatio)), this.Bv(n, this.yc.pixelRatio);\n    }\n  }, t.prototype.Fv = function () {\n    return this.Xc;\n  }, t.prototype.Vv = function () {\n    return this.Zc;\n  }, t.prototype.Tv = function () {\n    return this.ev.P().layout.backgroundColor;\n  }, t.prototype.uv = function () {\n    null !== this.rv && this.rv.Yo().rn(this), this.rv = null;\n  }, t.prototype.Uc = function (t, i, n) {\n    var h = this;z(t, n, function () {\n      O(t, 0, 0, h.oc.ht, h.oc.st, i);\n    });\n  }, t.prototype.Av = function (t, i) {\n    for (var n = f(this.rv), h = this.hi().kl().ci(n), s = n.wt(), r = n.dt(), e = 0, u = h; e < u.length; e++) {\n      var a = u[e];t.save();var o = a.I(s, r);null !== o && o.h(t, i, !1), t.restore();\n    }\n  }, t.prototype.Ev = function (t, i) {\n    var n = this.hi().xl();this.zv(n, t, i), this.Ov(n, t, i);\n  }, t.prototype.Bv = function (t, i) {\n    this.Ov(this.hi().Nl(), t, i);\n  }, t.prototype.Lv = function (t, i) {\n    for (var n = f(this.rv).zh(), h = 0, s = n; h < s.length; h++) {\n      var r = s[h];this.zv(r, t, i);\n    }for (var e = 0, u = n; e < u.length; e++) {\n      r = u[e];this.Ov(r, t, i);\n    }\n  }, t.prototype.Ov = function (t, i, n) {\n    for (var h = f(this.rv), s = t.ci(h), r = h.wt(), e = h.dt(), u = h.ct().Ml(), a = null !== u && u.ml === t, o = null !== u && a && void 0 !== u.bv ? u.bv.Ou : void 0, l = 0, c = s; l < c.length; l++) {\n      var v = c[l].I(r, e);null !== v && (i.save(), v.h(i, n, a, o), i.restore());\n    }\n  }, t.prototype.zv = function (t, i, n) {\n    for (var h = f(this.rv), s = t.ci(h), r = h.wt(), e = h.dt(), u = h.ct().Ml(), a = null !== u && u.ml === t, o = null !== u && a && void 0 !== u.bv ? u.bv.Ou : void 0, l = 0, c = s; l < c.length; l++) {\n      var v = c[l].I(r, e);null !== v && void 0 !== v.u && (i.save(), v.u(i, n, a, o), i.restore());\n    }\n  }, t.prototype.Nv = function (t, i, n) {\n    for (var h = 0, s = t; h < s.length; h++) {\n      var r = s[h],\n          e = r.I(this.oc.st, this.oc.ht);if (null !== e && e.zu) {\n        var u = e.zu(i, n);if (null !== u) return { nc: r, bv: u };\n      }\n    }return null;\n  }, t.prototype._v = function () {\n    if (null !== this.rv) {\n      var t = this.ev;t.P().leftPriceScale.visible || null === this.Xc || (this.ov.removeChild(this.Xc.Ec()), this.Xc.an(), this.Xc = null), t.P().rightPriceScale.visible || null === this.Zc || (this.lv.removeChild(this.Zc.Ec()), this.Zc.an(), this.Zc = null);var i = t.ct().jl();t.P().leftPriceScale.visible && null === this.Xc && (this.Xc = new fn(this, t.P().layout, i, \"left\"), this.ov.appendChild(this.Xc.Ec())), t.P().rightPriceScale.visible && null === this.Zc && (this.Zc = new fn(this, t.P().layout, i, \"right\"), this.lv.appendChild(this.Zc.Ec()));\n    }\n  }, t.prototype.wv = function () {\n    return cn && null === this.nv;\n  }, t.prototype.yv = function () {\n    return cn && this.iv || null !== this.nv;\n  }, t.prototype.Pv = function (t) {\n    return Math.max(0, Math.min(t, this.oc.ht - 1));\n  }, t.prototype.Iv = function (t) {\n    return Math.max(0, Math.min(t, this.oc.st - 1));\n  }, t.prototype.dv = function (t, i) {\n    this.hi().Pl(this.Pv(t), this.Iv(i), f(this.rv));\n  }, t.prototype.Mv = function () {\n    this.hi().Wl();\n  }, t.prototype.pv = function () {\n    this.hv && (this.nv = null, this.Mv());\n  }, t.prototype.kv = function (t, i) {\n    this.nv = t, this.hv = !1, this.dv(i.x, i.y);var n = this.hi().Nl();this.sv = { x: n.Mt(), y: n.bt() };\n  }, t.prototype.hi = function () {\n    return this.ev.ct();\n  }, t;\n}(),\n    _n = function () {\n  function t(t, i, n, h) {\n    var s = this;this.T = !0, this.oc = new Xi(0, 0), this.dc = function () {\n      return s.Rc(3);\n    }, this.mc = \"left\" === t, this.ol = n.jl, this.xi = i, this.Wv = h, this.gc = document.createElement(\"div\"), this.gc.style.width = \"25px\", this.gc.style.height = \"100%\", this.gc.style.overflow = \"hidden\", this.pc = tn(this.gc, new Xi(16, 16)), this.pc.subscribeCanvasConfigured(this.dc);\n  }return t.prototype.an = function () {\n    this.pc.unsubscribeCanvasConfigured(this.dc), this.pc.destroy();\n  }, t.prototype.Ec = function () {\n    return this.gc;\n  }, t.prototype.Dv = function () {\n    return this.oc;\n  }, t.prototype.Pc = function (t) {\n    if (t.ht < 0 || t.st < 0) throw new Error(\"Try to set invalid size to PriceAxisStub \" + JSON.stringify(t));this.oc.fn(t) || (this.oc = t, this.pc.resizeCanvas({ width: t.ht, height: t.st }), this.gc.style.width = t.ht + \"px\", this.gc.style.minWidth = t.ht + \"px\", this.gc.style.height = t.st + \"px\", this.T = !0);\n  }, t.prototype.Rc = function (t) {\n    if ((!(t < 3) || this.T) && 0 !== this.oc.ht && 0 !== this.oc.st) {\n      this.T = !1;var i = Ji(this.pc.canvas);this.Uc(i, this.pc.pixelRatio), this.uu(i, this.pc.pixelRatio);\n    }\n  }, t.prototype.Kc = function () {\n    return this.pc.canvas;\n  }, t.prototype.uu = function (t, i) {\n    if (this.Wv()) {\n      var n = this.oc.ht;t.save(), t.fillStyle = this.xi.timeScale.borderColor;var h = Math.floor(this.ol.P().Dt * i),\n          s = this.mc ? Math.round(n * i) - h : 0;t.fillRect(s, 0, h, h), t.restore();\n    }\n  }, t.prototype.Uc = function (t, i) {\n    var n = this;z(t, i, function () {\n      O(t, 0, 0, n.oc.ht, n.oc.st, n.xi.layout.backgroundColor);\n    });\n  }, t;\n}();function dn(t, i) {\n  return t.Os > i.Os ? t : i;\n}var wn = function () {\n  function t(t) {\n    var i = this;this.Rv = null, this.jv = null, this.ne = null, this.Uv = !1, this.oc = new Xi(0, 0), this.dc = function () {\n      return i.ev.ct().Lr();\n    }, this.bc = function () {\n      return i.ev.ct().Lr();\n    }, this.ev = t, this.xi = t.P().layout, this.qv = document.createElement(\"tr\"), this.Hv = document.createElement(\"td\"), this.Hv.style.padding = \"0\", this.Yv = document.createElement(\"td\"), this.Yv.style.padding = \"0\", this.gc = document.createElement(\"td\"), this.gc.style.height = \"25px\", this.gc.style.padding = \"0\", this.Kv = document.createElement(\"div\"), this.Kv.style.width = \"100%\", this.Kv.style.height = \"100%\", this.Kv.style.position = \"relative\", this.Kv.style.overflow = \"hidden\", this.gc.appendChild(this.Kv), this.pc = tn(this.Kv, new Xi(16, 16)), this.pc.subscribeCanvasConfigured(this.dc);var n = this.pc.canvas;n.style.position = \"absolute\", n.style.zIndex = \"1\", n.style.left = \"0\", n.style.top = \"0\", this.yc = tn(this.Kv, new Xi(16, 16)), this.yc.subscribeCanvasConfigured(this.bc);var h = this.yc.canvas;h.style.position = \"absolute\", h.style.zIndex = \"2\", h.style.left = \"0\", h.style.top = \"0\", this.qv.appendChild(this.Hv), this.qv.appendChild(this.gc), this.qv.appendChild(this.Yv), this.$v(), this.ev.ct().So().tn(this.$v.bind(this), this), this.Ac = new rn(this.yc.canvas, this, { xf: !0, Nf: !1 });\n  }return t.prototype.an = function () {\n    this.Ac.an(), null !== this.Rv && this.Rv.an(), null !== this.jv && this.jv.an(), this.yc.unsubscribeCanvasConfigured(this.bc), this.yc.destroy(), this.pc.unsubscribeCanvasConfigured(this.dc), this.pc.destroy();\n  }, t.prototype.Ec = function () {\n    return this.qv;\n  }, t.prototype.Xv = function () {\n    return this.Rv;\n  }, t.prototype.Zv = function () {\n    return this.jv;\n  }, t.prototype.Ff = function (t) {\n    if (!this.Uv) {\n      this.Uv = !0;var i = this.ev.ct();!i.j().Qt() && this.ev.P().handleScale.axisPressedMouseMove.time && i.Tl(t.Xf);\n    }\n  }, t.prototype.Vf = function () {\n    var t = this.ev.ct();!t.j().Qt() && this.Uv && (this.Uv = !1, this.ev.P().handleScale.axisPressedMouseMove.time && t.zl());\n  }, t.prototype.Sf = function (t) {\n    var i = this.ev.ct();!i.j().Qt() && this.ev.P().handleScale.axisPressedMouseMove.time && i.Vl(t.Xf);\n  }, t.prototype.Tf = function (t) {\n    this.Uv = !1;var i = this.ev.ct();i.j().Qt() && !this.ev.P().handleScale.axisPressedMouseMove.time || i.zl();\n  }, t.prototype.Af = function () {\n    this.ev.P().handleScale.axisDoubleClickReset && this.ev.ct().Ol();\n  }, t.prototype.mf = function (t) {\n    this.ev.ct().P().handleScale.axisPressedMouseMove.time && this.$c(1);\n  }, t.prototype.Uf = function (t) {\n    this.$c(0);\n  }, t.prototype.Dv = function () {\n    return this.oc;\n  }, t.prototype.Jv = function (t, i, n) {\n    this.oc && this.oc.fn(t) || (this.oc = t, this.pc.resizeCanvas({ width: t.ht, height: t.st }), this.yc.resizeCanvas({ width: t.ht, height: t.st }), this.gc.style.width = t.ht + \"px\", this.gc.style.height = t.st + \"px\"), null !== this.Rv && this.Rv.Pc(new Xi(i, t.st)), null !== this.jv && this.jv.Pc(new Xi(n, t.st));\n  }, t.prototype.Gv = function () {\n    var t = this.Qv();return Math.ceil(t.Dt + t.St + t.Vt + t.Ct + t.Tt);\n  }, t.prototype.B = function () {\n    this.ev.ct().j().Vn();\n  }, t.prototype.Kc = function () {\n    return this.pc.canvas;\n  }, t.prototype.Rc = function (t) {\n    if (0 !== t) {\n      if (1 !== t) {\n        var i = Ji(this.pc.canvas);this.Uc(i, this.pc.pixelRatio), this.uu(i, this.pc.pixelRatio), this.qc(i, this.pc.pixelRatio), null !== this.Rv && this.Rv.Rc(t), null !== this.jv && this.jv.Rc(t);\n      }var n = Ji(this.yc.canvas),\n          h = this.yc.pixelRatio;n.clearRect(0, 0, Math.ceil(this.oc.ht * h), Math.ceil(this.oc.st * h)), this.t_([this.ev.ct().Nl()], n, h);\n    }\n  }, t.prototype.Uc = function (t, i) {\n    var n = this;z(t, i, function () {\n      O(t, 0, 0, n.oc.ht, n.oc.st, n.Tv());\n    });\n  }, t.prototype.uu = function (t, i) {\n    if (this.ev.P().timeScale.borderVisible) {\n      t.save(), t.fillStyle = this.i_();var n = Math.max(1, Math.floor(this.Qv().Dt * i));t.fillRect(0, 0, Math.ceil(this.oc.ht * i), n), t.restore();\n    }\n  }, t.prototype.qc = function (t, i) {\n    var n = this,\n        h = this.ev.ct().j().Vn();if (h && 0 !== h.length) {\n      var s = h.reduce(dn, h[0]).Os;s > 30 && s < 40 && (s = 30), t.save(), t.strokeStyle = this.i_();var r = this.Qv(),\n          e = r.Dt + r.St + r.Ct + r.Vt - r.Ft;t.textAlign = \"center\", t.fillStyle = this.i_();var u = Math.floor(this.Qv().Dt * i),\n          a = Math.max(1, Math.floor(i)),\n          o = Math.floor(.5 * i);if (this.ev.ct().j().P().borderVisible) {\n        t.beginPath();for (var l = Math.round(r.St * i), f = h.length; f--;) {\n          var c = Math.round(h[f].En * i);t.rect(c - o, u, a, l);\n        }t.fill();\n      }t.fillStyle = this.ue(), z(t, i, function () {\n        t.font = n.n_();for (var i = 0, r = h; i < r.length; i++) {\n          (o = r[i]).Os < s && t.fillText(o.Ln, o.En, e);\n        }t.font = n.h_();for (var u = 0, a = h; u < a.length; u++) {\n          var o;(o = a[u]).Os >= s && t.fillText(o.Ln, o.En, e);\n        }\n      });\n    }\n  }, t.prototype.t_ = function (t, i, n) {\n    for (var h = this.Qv(), s = 0, r = t; s < r.length; s++) {\n      for (var e = 0, u = r[s].vi(); e < u.length; e++) {\n        var a = u[e];i.save(), a.I().h(i, h, n), i.restore();\n      }\n    }\n  }, t.prototype.Tv = function () {\n    return this.xi.backgroundColor;\n  }, t.prototype.i_ = function () {\n    return this.ev.P().timeScale.borderColor;\n  }, t.prototype.ue = function () {\n    return this.xi.textColor;\n  }, t.prototype.se = function () {\n    return this.xi.fontSize;\n  }, t.prototype.n_ = function () {\n    return Ot(this.se(), this.xi.fontFamily);\n  }, t.prototype.h_ = function () {\n    return Ot(this.se(), this.xi.fontFamily, \"bold\");\n  }, t.prototype.Qv = function () {\n    null === this.ne && (this.ne = { Dt: 1, Ft: NaN, Ct: NaN, Tt: NaN, ni: NaN, St: 3, Vt: NaN, kt: \"\", ii: new vi() });var t = this.ne,\n        i = this.n_();if (t.kt !== i) {\n      var n = this.se();t.Vt = n, t.kt = i, t.Ct = Math.ceil(n / 2.5), t.Tt = t.Ct, t.ni = Math.ceil(n / 2), t.Ft = Math.round(this.se() / 5), t.ii.pu();\n    }return this.ne;\n  }, t.prototype.$c = function (t) {\n    this.gc.style.cursor = 1 === t ? \"ew-resize\" : \"default\";\n  }, t.prototype.$v = function () {\n    var t = this.ev.ct(),\n        i = t.P();i.leftPriceScale.visible || null === this.Rv || (this.Hv.removeChild(this.Rv.Ec()), this.Rv.an(), this.Rv = null), i.rightPriceScale.visible || null === this.jv || (this.Yv.removeChild(this.jv.Ec()), this.jv.an(), this.jv = null);var n = { jl: this.ev.ct().jl() };if (i.leftPriceScale.visible && null === this.Rv) {\n      var h = function h() {\n        return i.leftPriceScale.borderVisible && t.j().P().borderVisible;\n      };this.Rv = new _n(\"left\", this.ev.P(), n, h), this.Hv.appendChild(this.Rv.Ec());\n    }if (i.rightPriceScale.visible && null === this.jv) {\n      h = function h() {\n        return i.rightPriceScale.borderVisible && t.j().P().borderVisible;\n      };this.jv = new _n(\"right\", this.ev.P(), n, h), this.Yv.appendChild(this.jv.Ec());\n    }\n  }, t;\n}(),\n    Mn = function () {\n  function t(t, i) {\n    this.s_ = [], this.r_ = 0, this.zn = 0, this.Hs = 0, this.e_ = 0, this.u_ = 0, this.a_ = null, this.o_ = !1, this.Qc = new G(), this.ul = new G(), this.xi = i, this.qv = document.createElement(\"div\"), this.qv.classList.add(\"tv-lightweight-charts\"), this.qv.style.overflow = \"hidden\", this.qv.style.width = \"100%\", this.qv.style.height = \"100%\", this.l_ = document.createElement(\"table\"), this.l_.setAttribute(\"cellspacing\", \"0\"), this.qv.appendChild(this.l_), this.f_ = this.c_.bind(this), this.qv.addEventListener(\"wheel\", this.f_, { passive: !1 }), this.hi = new $i(this.al.bind(this), this.xi), this.ct().Sl().tn(this.v_.bind(this), this), this.__ = new wn(this), this.l_.appendChild(this.__.Ec());var n = this.xi.width,\n        h = this.xi.height;if (0 === n || 0 === h) {\n      var s = t.getBoundingClientRect();0 === n && (n = Math.floor(s.width), n -= n % 2), 0 === h && (h = Math.floor(s.height), h -= h % 2);\n    }n = Math.max(70, n), h = Math.max(50, h), this.d_(n, h), this.w_(), t.appendChild(this.qv), this.M_(), this.hi.j().Hr().tn(this.hi._l.bind(this.hi), this), this.hi.So().tn(this.hi._l.bind(this.hi), this);\n  }return t.prototype.ct = function () {\n    return this.hi;\n  }, t.prototype.P = function () {\n    return this.xi;\n  }, t.prototype.b_ = function () {\n    return this.s_;\n  }, t.prototype.an = function () {\n    this.qv.removeEventListener(\"wheel\", this.f_), 0 !== this.r_ && window.cancelAnimationFrame(this.r_), this.hi.Sl().rn(this), this.hi.j().Hr().rn(this), this.hi.So().rn(this), this.hi.an();for (var t = 0, i = this.s_; t < i.length; t++) {\n      var n = i[t];this.l_.removeChild(n.Ec()), n.xv().rn(this), n.an();\n    }this.s_ = [], f(this.__).an(), null !== this.qv.parentElement && this.qv.parentElement.removeChild(this.qv), this.ul.an(), this.Qc.an(), delete this.qv;\n  }, t.prototype.d_ = function (t, i, n) {\n    if (void 0 === n && (n = !1), this.zn !== i || this.Hs !== t) {\n      this.zn = i, this.Hs = t;var h = i + \"px\",\n          s = t + \"px\";f(this.qv).style.height = h, f(this.qv).style.width = s, this.l_.style.height = h, this.l_.style.width = s, n ? this.m_(new Ut(3)) : this.hi._l();\n    }\n  }, t.prototype.Rc = function (t) {\n    void 0 === t && (t = new Ut(3));for (var i = 0; i < this.s_.length; i++) {\n      this.s_[i].Rc(t.Ne(i).ke);\n    }this.__.Rc(t.xe());\n  }, t.prototype.eh = function (t) {\n    this.hi.eh(t), this.M_();var i = t.width || this.Hs,\n        n = t.height || this.zn;this.d_(i, n);\n  }, t.prototype.xv = function () {\n    return this.Qc;\n  }, t.prototype.Sl = function () {\n    return this.ul;\n  }, t.prototype.g_ = function () {\n    var t = this;null !== this.a_ && (this.m_(this.a_), this.a_ = null);var i = this.s_[0],\n        n = Qi(document, new Xi(this.Hs, this.zn)),\n        h = Ji(n),\n        s = Zi(n);return z(h, s, function () {\n      var n = 0,\n          s = 0,\n          r = function r(i) {\n        for (var r = 0; r < t.s_.length; r++) {\n          var e = t.s_[r],\n              u = e.Dv().st,\n              a = f(\"left\" === i ? e.Fv() : e.Vv()),\n              o = a.Kc();h.drawImage(o, n, s, a.Ic(), u), s += u;\n        }\n      };t.p_() && (r(\"left\"), n = f(i.Fv()).Ic()), s = 0;for (var e = 0; e < t.s_.length; e++) {\n        var u = t.s_[e],\n            a = u.Dv(),\n            o = u.Kc();h.drawImage(o, n, s, a.ht, a.st), s += a.st;\n      }n += i.Dv().ht, t.y_() && (s = 0, r(\"right\"));var l = function l(i) {\n        var r = f(\"left\" === i ? t.__.Xv() : t.__.Zv()),\n            e = r.Dv(),\n            u = r.Kc();h.drawImage(u, n, s, e.ht, e.st);\n      };if (t.xi.timeScale.visible) {\n        n = 0, t.p_() && (l(\"left\"), n = f(i.Fv()).Ic());var c = t.__.Dv();o = t.__.Kc();h.drawImage(o, n, s, c.ht, c.st), t.y_() && (n = i.Dv().ht, l(\"right\"), h.restore());\n      }\n    }), n;\n  }, t.prototype.k_ = function (t) {\n    return \"none\" === t ? 0 : (\"left\" !== t || this.p_()) && (\"right\" !== t || this.y_()) ? 0 === this.s_.length ? 0 : f(\"left\" === t ? this.s_[0].Fv() : this.s_[0].Vv()).Ic() : 0;\n  }, t.prototype.x_ = function () {\n    for (var t = 0, i = 0, n = 0, h = 0, s = this.s_; h < s.length; h++) {\n      var r = s[h];this.p_() && (i = Math.max(i, f(r.Fv()).zc())), this.y_() && (n = Math.max(n, f(r.Vv()).zc())), t += r.Do();\n    }var e = this.Hs,\n        u = this.zn,\n        a = Math.max(e - i - n, 0),\n        o = this.xi.timeScale.visible ? this.__.Gv() : 0;o % 2 && (o += 1);for (var l = 0 + o, c = u < l ? 0 : u - l, v = c / t, _ = 0, d = 0; d < this.s_.length; ++d) {\n      (r = this.s_[d]).vv(this.hi.yl()[d]);var w,\n          M = 0;M = d === this.s_.length - 1 ? c - _ : Math.round(r.Do() * v), _ += w = Math.max(M, 2), r.Pc(new Xi(a, w)), this.p_() && r.Sv(i, \"left\"), this.y_() && r.Sv(n, \"right\"), r.Wc() && this.hi.Dl(r.Wc(), w);\n    }this.__.Jv(new Xi(a, o), i, n), this.hi.kr(a), this.e_ !== i && (this.e_ = i), this.u_ !== n && (this.u_ = n);\n  }, t.prototype.c_ = function (t) {\n    var i = t.deltaX / 100,\n        n = -t.deltaY / 100;if (0 !== i && this.xi.handleScroll.mouseWheel || 0 !== n && this.xi.handleScale.mouseWheel) {\n      switch (t.cancelable && t.preventDefault(), t.deltaMode) {case t.DOM_DELTA_PAGE:\n          i *= 120, n *= 120;break;case t.DOM_DELTA_LINE:\n          i *= 32, n *= 32;}if (0 !== n && this.xi.handleScale.mouseWheel) {\n        var h = Math.sign(n) * Math.min(1, Math.abs(n)),\n            s = t.clientX - this.qv.getBoundingClientRect().left;this.ct().Al(s, h);\n      }0 !== i && this.xi.handleScroll.mouseWheel && this.ct().El(-80 * i);\n    }\n  }, t.prototype.m_ = function (t) {\n    var i = t.xe();if (3 === i && this.N_(), 3 === i || 2 === i) {\n      for (var n = this.hi.yl(), h = 0; h < n.length; h++) {\n        t.Ne(h).dh && n[h].qo();\n      }t.De() && this.hi.j().Kr();var s = t.Ce();null !== s && this.hi.j().$r(s), this.__.B();\n    }this.Rc(t);\n  }, t.prototype.al = function (t) {\n    var i = this;null !== this.a_ ? this.a_.wn(t) : this.a_ = t, this.o_ || (this.o_ = !0, this.r_ = window.requestAnimationFrame(function () {\n      i.o_ = !1, i.r_ = 0, null !== i.a_ && (i.m_(i.a_), i.a_ = null);\n    }));\n  }, t.prototype.N_ = function () {\n    this.w_();\n  }, t.prototype.w_ = function () {\n    for (var t = this.hi.yl(), i = t.length, n = this.s_.length, h = i; h < n; h++) {\n      var s = l(this.s_.pop());this.l_.removeChild(s.Ec()), s.xv().rn(this), s.an();\n    }for (h = n; h < i; h++) {\n      (s = new vn(this, t[h])).xv().tn(this.S_.bind(this), this), this.s_.push(s), this.l_.insertBefore(s.Ec(), this.__.Ec());\n    }for (h = 0; h < i; h++) {\n      var r = t[h];(s = this.s_[h]).Wc() !== r ? s.vv(r) : s.cv();\n    }this.M_(), this.x_();\n  }, t.prototype.D_ = function (t, i) {\n    var n,\n        h = new Map();null !== t && this.hi.F().forEach(function (i) {\n      var n = i.Zu(t);null !== n && h.set(i, n);\n    });if (null !== t) {\n      var s = this.hi.j().si(t);null !== s && (n = s);\n    }var r = this.ct().Ml(),\n        e = null !== r && r.ml instanceof ji ? r.ml : void 0,\n        u = null !== r && void 0 !== r.bv ? r.bv.Iu : void 0;return { V: n, C_: i || void 0, T_: e, A_: h, E_: u };\n  }, t.prototype.S_ = function (t, i) {\n    var n = this;this.Qc.en(function () {\n      return n.D_(t, i);\n    });\n  }, t.prototype.v_ = function (t, i) {\n    var n = this;this.ul.en(function () {\n      return n.D_(t, i);\n    });\n  }, t.prototype.M_ = function () {\n    var t = this.xi.timeScale.visible ? \"\" : \"none\";this.__.Ec().style.display = t;\n  }, t.prototype.p_ = function () {\n    return this.xi.leftPriceScale.visible;\n  }, t.prototype.y_ = function () {\n    return this.xi.rightPriceScale.visible;\n  }, t;\n}();function bn(t, i, n) {\n  var h = n.value,\n      s = { zs: i, V: t, Z: [h, h, h, h] };return \"color\" in n && void 0 !== n.color && (s.et = n.color), s;\n}function mn(t, i, n) {\n  return { zs: i, V: t, Z: [n.open, n.high, n.low, n.close] };\n}function gn(t) {\n  return void 0 !== t.Z;\n}function pn(t) {\n  return function (i, n, h) {\n    return void 0 === (s = h).open && void 0 === s.value ? { V: i, zs: n } : t(i, n, h);var s;\n  };\n}var yn = { Candlestick: pn(mn), Bar: pn(mn), Area: pn(bn), Histogram: pn(bn), Line: pn(bn) };function kn(t) {\n  return yn[t];\n}function xn(t) {\n  return 60 * t * 60 * 1e3;\n}function Nn(t) {\n  return 60 * t * 1e3;\n}var Sn,\n    Dn = [{ L_: 1, Os: 20 }, { L_: (Sn = 1, 1e3 * Sn), Os: 19 }, { L_: Nn(1), Os: 20 }, { L_: Nn(5), Os: 21 }, { L_: Nn(30), Os: 22 }, { L_: xn(1), Os: 30 }, { L_: xn(3), Os: 31 }, { L_: xn(6), Os: 32 }, { L_: xn(12), Os: 33 }];function Cn(t, i) {\n  if (null !== i) {\n    var n = new Date(1e3 * i),\n        h = new Date(1e3 * t);if (h.getUTCFullYear() !== n.getUTCFullYear()) return 70;if (h.getUTCMonth() !== n.getUTCMonth()) return 60;if (h.getUTCDate() !== n.getUTCDate()) return 50;for (var s = Dn.length - 1; s >= 0; --s) {\n      if (Math.floor(n.getTime() / Dn[s].L_) !== Math.floor(h.getTime() / Dn[s].L_)) return Dn[s].Os;\n    }\n  }return 20;\n}function Tn(t) {\n  if (!Ft(t)) throw new Error(\"time must be of type BusinessDay\");var i = new Date(Date.UTC(t.year, t.month - 1, t.day, 0, 0, 0, 0));return { Ss: Math.round(i.getTime() / 1e3), Ns: t };\n}function An(t) {\n  if (!Vt(t)) throw new Error(\"time must be of type isUTCTimestamp\");return { Ss: t };\n}function En(t) {\n  return 0 === t.length ? null : Ft(t[0].time) ? Tn : An;\n}function Ln(t) {\n  return Vt(t) ? An(t) : Ft(t) ? Tn(t) : Tn(Bn(t));\n}function Bn(t) {\n  var i = new Date(t);if (isNaN(i.getTime())) throw new Error(\"Invalid date string=\" + t + \", expected format=yyyy-mm-dd\");return { day: i.getUTCDate(), month: i.getUTCMonth() + 1, year: i.getUTCFullYear() };\n}function Fn(t) {\n  w(t.time) && (t.time = Bn(t.time));\n}function Vn(t) {\n  return { zs: 0, B_: new Map(), Wh: t };\n}var zn = function () {\n  function t() {\n    this.F_ = new Map(), this.V_ = new Map(), this.z_ = new Map(), this.O_ = [];\n  }return t.prototype.an = function () {\n    this.F_.clear(), this.V_.clear(), this.z_.clear(), this.O_ = [];\n  }, t.prototype.P_ = function (t, i) {\n    var n = this;this.z_.has(t) && this.F_.forEach(function (i) {\n      return i.B_.delete(t);\n    });var h = [];if (0 !== i.length) {\n      !function (t) {\n        t.forEach(Fn);\n      }(i);var s = f(En(i)),\n          r = kn(t.fa());h = i.map(function (i) {\n        var h = s(i.time),\n            e = n.F_.get(h.Ss);void 0 === e && (e = Vn(h), n.F_.set(h.Ss, e));var u = r(h, e.zs, i);return e.B_.set(t, u), u;\n      });\n    }return this.I_(), this.W_(t, h), this.R_(t);\n  }, t.prototype.Hl = function (t) {\n    return this.P_(t, []);\n  }, t.prototype.j_ = function (t, i) {\n    Fn(i);var n = f(En([i]))(i.time),\n        h = this.z_.get(t);if (void 0 !== h && n.Ss < h.Ss) throw new Error(\"Cannot update oldest data, last time=\" + h.Ss + \", new time=\" + n.Ss);var s = this.F_.get(n.Ss),\n        r = void 0 === s;void 0 === s && (s = Vn(n), this.F_.set(n.Ss, s));var e = kn(t.fa())(n, s.zs, i);s.B_.set(t, e);var u = this.U_(t, e);if (!r) {\n      var a = new Map();return null !== u && a.set(t, u), { q_: a, j: { Dr: this.H_() } };\n    }return this.R_(t);\n  }, t.prototype.U_ = function (t, i) {\n    var n = this.V_.get(t);void 0 === n && (n = [], this.V_.set(t, n));var h = 0 !== n.length ? n[n.length - 1] : null,\n        s = null;return null === h || i.V.Ss > h.V.Ss ? gn(i) && (n.push(i), s = { _l: !1, Y_: [i] }) : gn(i) ? (n[n.length - 1] = i, s = { _l: !1, Y_: [i] }) : (n.splice(-1, 1), s = { _l: !0, Y_: n }), this.z_.set(t, i.V), s;\n  }, t.prototype.W_ = function (t, i) {\n    0 !== i.length ? (this.V_.set(t, i.filter(gn)), this.z_.set(t, i[i.length - 1].V)) : (this.V_.delete(t), this.z_.delete(t));\n  }, t.prototype.I_ = function () {\n    var t = new Map();this.F_.forEach(function (i, n) {\n      i.B_.size > 0 && t.set(n, i);\n    }), this.F_ = t;\n  }, t.prototype.K_ = function (t) {\n    for (var i = -1, n = 0; n < this.O_.length && n < t.length; ++n) {\n      var h = this.O_[n],\n          s = t[n];if (h.V.Ss !== s.V.Ss) {\n        i = n;break;\n      }s.Vs = h.Vs;\n    }if (-1 === i && this.O_.length !== t.length && (i = Math.min(this.O_.length, t.length)), -1 === i) return -1;var r = function r(i) {\n      var n = l(e.F_.get(t[i].V.Ss));n.zs = i, n.B_.forEach(function (t) {\n        t.zs = i;\n      });\n    },\n        e = this;for (n = i; n < t.length; ++n) {\n      r(n);\n    }return function (t, i) {\n      void 0 === i && (i = 0);for (var n = 0 === i || 0 === t.length ? null : t[i - 1].V.Ss, h = 0, s = i; s < t.length; ++s) {\n        var r = t[s];r.Vs = Cn(r.V.Ss, n), h += r.V.Ss - (n || r.V.Ss), n = r.V.Ss;\n      }if (0 === i && t.length > 1) {\n        var e = Math.ceil(h / (t.length - 1)),\n            u = t[0].V.Ss - e;t[0].Vs = Cn(t[0].V.Ss, u);\n      }\n    }(t, i), this.O_ = t, i;\n  }, t.prototype.H_ = function () {\n    var t = 0;return this.V_.forEach(function (i) {\n      0 !== i.length && (t = Math.max(t, i[i.length - 1].zs));\n    }), t;\n  }, t.prototype.R_ = function (t) {\n    var i = Array.from(this.F_.values()).map(function (t) {\n      return { Vs: 0, V: t.Wh };\n    });i.sort(function (t, i) {\n      return t.V.Ss - i.V.Ss;\n    });var n = this.K_(i),\n        h = { q_: new Map(), j: { Dr: this.H_() } };if (-1 !== n) this.V_.forEach(function (t, i) {\n      h.q_.set(i, { Y_: t, _l: !0 });\n    }), h.j.X_ = this.O_;else {\n      var s = this.V_.get(t);h.q_.set(t, { Y_: s || [], _l: !0 });\n    }return h;\n  }, t;\n}(),\n    On = { color: \"#FF0000\", price: 0, lineStyle: 2, lineWidth: 1, axisLabelVisible: !0 },\n    Pn = function () {\n  function t(t) {\n    this.ea = t;\n  }return t.prototype.applyOptions = function (t) {\n    this.ea.eh(t);\n  }, t.prototype.options = function () {\n    return this.ea.P();\n  }, t.prototype.Z_ = function () {\n    return this.ea;\n  }, t;\n}();function In(t) {\n  var i = t.overlay,\n      n = function (t, i) {\n    var n = {};for (var h in t) {\n      Object.prototype.hasOwnProperty.call(t, h) && i.indexOf(h) < 0 && (n[h] = t[h]);\n    }if (null != t && \"function\" == typeof Object.getOwnPropertySymbols) {\n      var s = 0;for (h = Object.getOwnPropertySymbols(t); s < h.length; s++) {\n        i.indexOf(h[s]) < 0 && Object.prototype.propertyIsEnumerable.call(t, h[s]) && (n[h[s]] = t[h[s]]);\n      }\n    }return n;\n  }(t, [\"overlay\"]);return i && (n.priceScaleId = \"\"), n;\n}var Wn = function () {\n  function t(t, i, n) {\n    this.Ie = t, this.J_ = i, this.G_ = n;\n  }return t.prototype.an = function () {\n    delete this.Ie, delete this.J_;\n  }, t.prototype.priceFormatter = function () {\n    return this.Ie.$h();\n  }, t.prototype.q_ = function () {\n    return this.Ie;\n  }, t.prototype.priceToCoordinate = function (t) {\n    var i = this.Ie.q();return null === i ? null : this.Ie.X().$(t, i.Z);\n  }, t.prototype.coordinateToPrice = function (t) {\n    var i = this.Ie.q();return null === i ? null : this.Ie.X().Ci(t, i.Z);\n  }, t.prototype.barsInLogicalRange = function (t) {\n    if (null === t) return null;var i = new Lt(new Ct(t.from, t.to)).js(),\n        n = this.Ie.qi();if (n.Qt()) return null;var h = n.Da(i.rs(), 1),\n        s = n.Da(i.es(), -1),\n        r = f(n.xa()),\n        e = f(n.Ui());if (null !== h && null !== s && h.zs > s.zs) return { barsBefore: t.from - r, barsAfter: e - t.to };var u = { barsBefore: null === h || h.zs === r ? t.from - r : h.zs - r, barsAfter: null === s || s.zs === e ? e - t.to : e - s.zs };return null !== h && null !== s && (u.from = h.V.Ns || h.V.Ss, u.to = s.V.Ns || s.V.Ss), u;\n  }, t.prototype.setData = function (t) {\n    this.J_.Q_(this.Ie, t);\n  }, t.prototype.update = function (t) {\n    this.J_.ho(this.Ie, t);\n  }, t.prototype.setMarkers = function (t) {\n    var i = t.map(function (t) {\n      return _u(_u({}, t), { time: Ln(t.time) });\n    });this.Ie.uo(i);\n  }, t.prototype.applyOptions = function (t) {\n    var i = In(t);this.Ie.eh(i);\n  }, t.prototype.options = function () {\n    return b(this.Ie.P());\n  }, t.prototype.priceScale = function () {\n    return this.G_.priceScale(this.Ie.X().rh());\n  }, t.prototype.createPriceLine = function (t) {\n    var i = v(b(On), t),\n        n = this.Ie.ao(i);return new Pn(n);\n  }, t.prototype.removePriceLine = function (t) {\n    this.Ie.oo(t.Z_());\n  }, t;\n}(),\n    Rn = function (t) {\n  function i() {\n    return null !== t && t.apply(this, arguments) || this;\n  }return e(i, t), i.prototype.applyOptions = function (i) {\n    gt(i), t.prototype.applyOptions.call(this, i);\n  }, i;\n}(Wn),\n    jn = { autoScale: !0, mode: 0, invertScale: !1, alignLabels: !0, borderVisible: !0, borderColor: \"#2B2B43\", entireTextOnly: !1, visible: !1, drawTicks: !0, scaleMargins: { bottom: .1, top: .2 } },\n    Un = { color: \"rgba(0, 0, 0, 0)\", visible: !1, fontSize: 48, fontFamily: zt, fontStyle: \"\", text: \"\", horzAlign: \"center\", vertAlign: \"center\" },\n    qn = { width: 0, height: 0, layout: { backgroundColor: \"#FFFFFF\", textColor: \"#191919\", fontSize: 11, fontFamily: zt }, crosshair: { vertLine: { color: \"#758696\", width: 1, style: 3, visible: !0, labelVisible: !0, labelBackgroundColor: \"#4c525e\" }, horzLine: { color: \"#758696\", width: 1, style: 3, visible: !0, labelVisible: !0, labelBackgroundColor: \"#4c525e\" }, mode: 1 }, grid: { vertLines: { color: \"#D6DCDE\", style: 0, visible: !0 }, horzLines: { color: \"#D6DCDE\", style: 0, visible: !0 } }, overlayPriceScales: _u({}, jn), leftPriceScale: _u(_u({}, jn), { visible: !1 }), rightPriceScale: _u(_u({}, jn), { visible: !0 }), timeScale: { rightOffset: 0, barSpacing: 6, fixLeftEdge: !1, lockVisibleTimeRangeOnResize: !1, rightBarStaysOnScroll: !1, borderVisible: !0, borderColor: \"#2B2B43\", visible: !0, timeVisible: !1, secondsVisible: !0 }, watermark: Un, localization: { locale: nn ? navigator.language : \"\", dateFormat: \"dd MMM 'yy\" }, handleScroll: { mouseWheel: !0, pressedMouseMove: !0, horzTouchDrag: !0, vertTouchDrag: !0 }, handleScale: { axisPressedMouseMove: { time: !0, price: !0 }, axisDoubleClickReset: !0, mouseWheel: !0, pinch: !0 } },\n    Hn = { upColor: \"#26a69a\", downColor: \"#ef5350\", wickVisible: !0, borderVisible: !0, borderColor: \"#378658\", borderUpColor: \"#26a69a\", borderDownColor: \"#ef5350\", wickColor: \"#737375\", wickUpColor: \"#26a69a\", wickDownColor: \"#ef5350\" },\n    Yn = { upColor: \"#26a69a\", downColor: \"#ef5350\", openVisible: !0, thinBars: !0 },\n    Kn = { color: \"#2196f3\", lineStyle: 0, lineWidth: 3, lineType: 0, crosshairMarkerVisible: !0, crosshairMarkerRadius: 4 },\n    $n = { topColor: \"rgba( 46, 220, 135, 0.4)\", bottomColor: \"rgba( 40, 221, 100, 0)\", lineColor: \"#33D778\", lineStyle: 0, lineWidth: 3, lineType: 0, crosshairMarkerVisible: !0, crosshairMarkerRadius: 4 },\n    Xn = { color: \"#26a69a\", base: 0 },\n    Zn = { title: \"\", lastValueVisible: !0, priceLineVisible: !0, priceLineSource: 0, priceLineWidth: 1, priceLineColor: \"\", priceLineStyle: 2, baseLineVisible: !0, baseLineWidth: 1, baseLineColor: \"#B2B5BE\", baseLineStyle: 0, priceFormat: { type: \"price\", precision: 2, minMove: .01 } },\n    Jn = function () {\n  function t(t, i) {\n    this.td = t, this.nd = i;\n  }return t.prototype.an = function () {\n    delete this.td;\n  }, t.prototype.applyOptions = function (t) {\n    this.td.ct().gl(this.nd, t);\n  }, t.prototype.options = function () {\n    return this.Jt().P();\n  }, t.prototype.width = function () {\n    return It(this.nd) ? this.td.k_(\"left\" === this.nd ? \"left\" : \"right\") : 0;\n  }, t.prototype.Jt = function () {\n    return f(this.td.ct().pl(this.nd)).X;\n  }, t;\n}(),\n    Gn = function () {\n  function t(t) {\n    this.hd = new G(), this.Qs = new G(), this.hi = t, this.bo().Ur().tn(this.sd.bind(this)), this.bo().qr().tn(this.rd.bind(this));\n  }return t.prototype.an = function () {\n    this.bo().Ur().rn(this), this.bo().qr().rn(this), this.hd.an(), delete this.hi;\n  }, t.prototype.scrollPosition = function () {\n    return this.bo().Fr();\n  }, t.prototype.scrollToPosition = function (t, i) {\n    i ? this.bo().jr(t, 1e3) : this.bo().cr(t);\n  }, t.prototype.scrollToRealTime = function () {\n    this.bo().Rr();\n  }, t.prototype.getVisibleRange = function () {\n    var t,\n        i,\n        n = this.bo().Mr();return null === n ? null : { from: null !== (t = n.from.Ns) && void 0 !== t ? t : n.from.Ss, to: null !== (i = n.to.Ns) && void 0 !== i ? i : n.to.Ss };\n  }, t.prototype.setVisibleRange = function (t) {\n    var i = { from: Ln(t.from), to: Ln(t.to) },\n        n = this.bo().pr(i);this.hi.Yl(n);\n  }, t.prototype.getVisibleLogicalRange = function () {\n    var t = this.bo().wr();return null === t ? null : { from: t.rs(), to: t.es() };\n  }, t.prototype.setVisibleLogicalRange = function (t) {\n    o(t.from <= t.to, \"The from index cannot be after the to index.\"), this.hi.Yl(t);\n  }, t.prototype.resetTimeScale = function () {\n    this.hi.Ol();\n  }, t.prototype.fitContent = function () {\n    this.hi.Kr();\n  }, t.prototype.timeToCoordinate = function (t) {\n    var i = Ln(t),\n        n = this.hi.j(),\n        h = n.vr(i, !1);return null === h ? null : n.J(h);\n  }, t.prototype.coordinateToTime = function (t) {\n    var i,\n        n = this.hi.j(),\n        h = n.Tr(t),\n        s = n.si(h);return null === s ? null : null !== (i = s.Ns) && void 0 !== i ? i : s.Ss;\n  }, t.prototype.subscribeVisibleTimeRangeChange = function (t) {\n    this.hd.tn(t);\n  }, t.prototype.unsubscribeVisibleTimeRangeChange = function (t) {\n    this.hd.sn(t);\n  }, t.prototype.subscribeVisibleLogicalRangeChange = function (t) {\n    this.Qs.tn(t);\n  }, t.prototype.unsubscribeVisibleLogicalRangeChange = function (t) {\n    this.Qs.sn(t);\n  }, t.prototype.applyOptions = function (t) {\n    this.bo().eh(t);\n  }, t.prototype.options = function () {\n    return b(this.bo().P());\n  }, t.prototype.bo = function () {\n    return this.hi.j();\n  }, t.prototype.sd = function () {\n    this.hd.un() && this.hd.en(this.getVisibleRange());\n  }, t.prototype.rd = function () {\n    this.Qs.un() && this.Qs.en(this.getVisibleLogicalRange());\n  }, t;\n}();function Qn(t) {\n  if (void 0 !== t && \"custom\" !== t.type) {\n    var i = t;void 0 !== i.minMove && void 0 === i.precision && (i.precision = function (t) {\n      if (t >= 1) return 0;for (var i = 0; i < 8; i++) {\n        var n = Math.round(t);if (Math.abs(n - t) < 1e-8) return i;t *= 10;\n      }return i;\n    }(i.minMove));\n  }\n}function th(t) {\n  return function (t) {\n    if (M(t.handleScale)) {\n      var i = t.handleScale;t.handleScale = { axisDoubleClickReset: i, axisPressedMouseMove: { time: i, price: i }, mouseWheel: i, pinch: i };\n    } else if (void 0 !== t.handleScale && M(t.handleScale.axisPressedMouseMove)) {\n      var n = t.handleScale.axisPressedMouseMove;t.handleScale.axisPressedMouseMove = { time: n, price: n };\n    }var h = t.handleScroll;M(h) && (t.handleScroll = { horzTouchDrag: h, vertTouchDrag: h, mouseWheel: h, pressedMouseMove: h });\n  }(t), function (t) {\n    if (t.priceScale) {\n      t.leftPriceScale = t.leftPriceScale || {}, t.rightPriceScale = t.rightPriceScale || {};var i = t.priceScale.position;delete t.priceScale.position, t.leftPriceScale = v(t.leftPriceScale, t.priceScale), t.rightPriceScale = v(t.rightPriceScale, t.priceScale), \"left\" === i && (t.leftPriceScale.visible = !0, t.rightPriceScale.visible = !1), \"right\" === i && (t.leftPriceScale.visible = !1, t.rightPriceScale.visible = !0), \"none\" === i && (t.leftPriceScale.visible = !1, t.rightPriceScale.visible = !1), t.overlayPriceScales = t.overlayPriceScales || {}, void 0 !== t.priceScale.invertScale && (t.overlayPriceScales.invertScale = t.priceScale.invertScale), void 0 !== t.priceScale.scaleMargins && (t.overlayPriceScales.scaleMargins = t.priceScale.scaleMargins);\n    }\n  }(t), t;\n}var ih = function () {\n  function t(t, i) {\n    var n = this;this.ed = new zn(), this.ud = new Map(), this.ad = new Map(), this.od = new G(), this.ld = new G();var h = void 0 === i ? b(qn) : v(b(qn), th(i));this.td = new Mn(t, h), this.td.xv().tn(function (t) {\n      n.od.un() && n.od.en(n.fd(t()));\n    }, this), this.td.Sl().tn(function (t) {\n      n.ld.un() && n.ld.en(n.fd(t()));\n    }, this);var s = this.td.ct();this.vd = new Gn(s);\n  }return t.prototype.remove = function () {\n    this.td.xv().rn(this), this.td.Sl().rn(this), this.vd.an(), this.td.an(), delete this.td, this.ud.forEach(function (t, i) {\n      i.an();\n    }), this.ud.clear(), this.ad.clear(), this.od.an(), this.ld.an(), this.ed.an(), delete this.ed;\n  }, t.prototype.resize = function (t, i, n) {\n    this.td.d_(t, i, n);\n  }, t.prototype.addAreaSeries = function (t) {\n    void 0 === t && (t = {}), Qn((t = In(t)).priceFormat);var i = v(b(Zn), $n, t),\n        n = this.td.ct().Ul(\"Area\", i),\n        h = new Wn(n, this, this);return this.ud.set(h, n), this.ad.set(n, h), h;\n  }, t.prototype.addBarSeries = function (t) {\n    void 0 === t && (t = {}), Qn((t = In(t)).priceFormat);var i = v(b(Zn), Yn, t),\n        n = this.td.ct().Ul(\"Bar\", i),\n        h = new Wn(n, this, this);return this.ud.set(h, n), this.ad.set(n, h), h;\n  }, t.prototype.addCandlestickSeries = function (t) {\n    void 0 === t && (t = {}), gt(t = In(t)), Qn(t.priceFormat);var i = v(b(Zn), Hn, t),\n        n = this.td.ct().Ul(\"Candlestick\", i),\n        h = new Rn(n, this, this);return this.ud.set(h, n), this.ad.set(n, h), h;\n  }, t.prototype.addHistogramSeries = function (t) {\n    void 0 === t && (t = {}), Qn((t = In(t)).priceFormat);var i = v(b(Zn), Xn, t),\n        n = this.td.ct().Ul(\"Histogram\", i),\n        h = new Wn(n, this, this);return this.ud.set(h, n), this.ad.set(n, h), h;\n  }, t.prototype.addLineSeries = function (t) {\n    void 0 === t && (t = {}), Qn((t = In(t)).priceFormat);var i = v(b(Zn), Kn, t),\n        n = this.td.ct().Ul(\"Line\", i),\n        h = new Wn(n, this, this);return this.ud.set(h, n), this.ad.set(n, h), h;\n  }, t.prototype.removeSeries = function (t) {\n    var i = l(this.ud.get(t)),\n        n = this.ed.Hl(i);this.td.ct().Hl(i), this._d(n), this.ud.delete(t), this.ad.delete(i);\n  }, t.prototype.Q_ = function (t, i) {\n    this._d(this.ed.P_(t, i));\n  }, t.prototype.ho = function (t, i) {\n    this._d(this.ed.j_(t, i));\n  }, t.prototype.subscribeClick = function (t) {\n    this.od.tn(t);\n  }, t.prototype.unsubscribeClick = function (t) {\n    this.od.sn(t);\n  }, t.prototype.subscribeCrosshairMove = function (t) {\n    this.ld.tn(t);\n  }, t.prototype.unsubscribeCrosshairMove = function (t) {\n    this.ld.sn(t);\n  }, t.prototype.priceScale = function (t) {\n    return t = t || this.td.ct().Kl(), new Jn(this.td, t);\n  }, t.prototype.timeScale = function () {\n    return this.vd;\n  }, t.prototype.applyOptions = function (t) {\n    this.td.eh(th(t));\n  }, t.prototype.options = function () {\n    return this.td.P();\n  }, t.prototype.takeScreenshot = function () {\n    return this.td.g_();\n  }, t.prototype._d = function (t) {\n    var i = this.td.ct();i.Rl(t.j.Dr, t.j.X_), t.q_.forEach(function (t, i) {\n      return i.ho(t.Y_, t._l);\n    }), i.Er();\n  }, t.prototype.dd = function (t) {\n    return l(this.ad.get(t));\n  }, t.prototype.fd = function (t) {\n    var i = this,\n        n = new Map();t.A_.forEach(function (t, h) {\n      n.set(i.dd(h), t);\n    });var h = void 0 === t.T_ ? void 0 : this.dd(t.T_);return { time: t.V && (t.V.Ns || t.V.Ss), point: t.C_, hoveredSeries: h, hoveredMarkerId: t.E_, seriesPrices: n };\n  }, t;\n}();function nh(t, i) {\n  var n = f(w(t) ? document.getElementById(t) : t);return new ih(n, i);\n}function hh() {\n  return \"3.1.5\";\n}exports.CrosshairMode = P;\nexports.LineStyle = n;\nexports.LineType = i;\nexports.PriceLineSource = wt;\nexports.PriceScaleMode = ct;\nexports.TickMarkType = At;\nexports.createChart = nh;\nexports.isBusinessDay = Ft;\nexports.isUTCTimestamp = Vt;\nexports.version = hh;\n\n//# sourceURL=webpack:///./node_modules/lightweight-charts/dist/lightweight-charts.esm.production.js?");

/***/ })

/******/ });